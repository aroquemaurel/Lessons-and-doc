\documentclass[12pt,a4paper,openany]{book}
\usepackage{lmodern}
\usepackage[svgnames]{xcolor} % Required to specify font color
\input{/home/aroquemaurel/cours/includesLaTeX/couleurs.tex}

\usepackage[utf8]{inputenc} 
\usepackage[T1]{fontenc}
\usepackage[francais]{babel}
\usepackage[top=1.7cm, bottom=1.7cm, left=1.7cm, right=1.7cm]{geometry}
\usepackage{verbatim}
\usepackage[urlbordercolor={1 1 1}, linkbordercolor={1 1 1}, linkcolor=vert1, urlcolor=bleu, colorlinks=true]{hyperref}
\usepackage{tikz} %Vectoriel
\usepackage{listings}
\usepackage{fancyhdr}
\usepackage{multido}
\usepackage{amssymb}
\usepackage{float}
\usepackage[francais]{minitoc}
\usepackage[final]{pdfpages} 
\usepackage{graphicx} % Required for box manipulation

\newcommand{\titre}{Réseau}
\newcommand{\subtitle}{~}
\newcommand{\auteur}{Antoine de \bsc{Roquemaurel}}
\newcommand{\formation}{L3 Informatique}
\newcommand{\semestre}{5}
\newcommand{\annee}{2013}
\newcommand{\prof}{Jean-Marc \bsc{Pierson} -- Michelle \bsc{Sibilla}}


\newcommand{\pole}{}
\newcommand{\sigle}{reseau}


\input{/home/aroquemaurel/cours/includesLaTeX/listings.tex}
\input{/home/aroquemaurel/cours/includesLaTeX/l2/cours.tex}
\input{/home/aroquemaurel/cours/includesLaTeX/remarquesExempleAttention.tex}
\input{/home/aroquemaurel/cours/includesLaTeX/polices.tex}
\input{/home/aroquemaurel/cours/includesLaTeX/affichageChapitre.tex}
\newcommand{\pfp}{\texttt{pfp}}

\newcommand{\ifp}{\texttt{if}}
\newcommand{\elsep}{\texttt{else}}

\input{/home/aroquemaurel/cours/includesLaTeX/couverture.tex}
\makeatother
\includeonly {
%precontent
}
\begin{document}
	\thispagestyle{empty} % Removes page numbers
	\titleBC{} 
	\dominitoc
	\setcounter{tocdepth}{1}
	\setcounter{secnumdepth}{3}
	\setcounter{minitocdepth}{1}
	\chapter*{Avant-propos}
	\section{Équipe enseignante}
	\begin{itemize}
		\item Jean-Marc \bsc{Pierson}
		\item Michelle \bsc{Sibilla}
		\item Rabin \bsc{Kacimi}
		\item George \bsc{Da Costa}
	\end{itemize}
	\section{Plan}
	\begin{enumerate}
		\item Architecture en couche OSI -- Ethernet
		\item Couche Réseau -- TCP / ICMP
		\item Couche Transport -- TCP / UDP
		\item Sécurité, administration
	\end{enumerate}
	\section{Livres}
	\begin{itemize}
		\item A. Tanenbaum
		\item G. Pujolle
	\end{itemize}
	\tableofcontents
	\include{precontent}
	\chapter{Couche transport}
	Le rôle de la couche transport est de transporter un message d'un équipement source vers un équipement destinataire et ce, de manière \textbf{fiable},
	\textbf{efficace} et \textbf{économique}.

	\begin{description}
		\item[fiable] Restitution de l'information dans l'intégralité.
		\item[Efficace] Rapide
		\item[Économique] En terme de bande passante et de ressource
	\end{description}

	La couche transport est la couche charnière entre les fonctions de traitement et les couches de transports de l'information. Elle masque aux
	applications les spécificités liées au réseau en leur offrant un service avec la qualité requise et en gérant efficacement les ressources.
	
	\section{Propriétés communes au transport}
	\subsection{Transport de bout en bout}
	La couche transport doit garantir l'acheminement du message, du source vers le de destinataire, éventuellement en traversant plusieurs réseau et en
	respectant la qualité de service requise par l'utilisateur.

	\subsection{Garantie de qualité de service}
	La couche transport se porte garant de la QoS\footnote{Quality of Service} fourni par la coche réseau, elle surveille et estime si elle est en
	mesure de respecter un ensemble de paramètre de QoS à savoir : 
	\begin{description}
		\item[Temps d'établissement de connexion] Durée qui s'écoule entre l'émission d'une demande et la confirmation de l'utilisateur.
		\item[Probabilité d'échec de la connexion] Mesure le risque qu'une connexion ne puisse s'établir dans un délais maximum défini.
		\item[Débit de la liaison] Donne le nombre d'octets utile qui peuvent être transférés en une seconde.
		\item[Temps de transit] Temps écoulé entre le moment ou l'utilisateur du service de transport envoie un message et celui ou l'entité de
			transport destinataire le reçoit effectivement.
		\item[Taux d'erreurs résiduel] Taux d'erreurs non corrigées qu'il est possible de rencontrer sur une connexion
		\item[Protection] Offre un maintient d'une sécurité pour éviter les manipulation non autorisées de données.
		\item[Priorité] Permettre de privilégier l'utilisation de différentes connexion par rapport à d'autre en cas de problème majeur.
		\item[Résiliation] Probabilité de déconnexion par la couche transport suite à un problème 
	\end{description}

	Ce sont es valeurs minimales, lors d'une demande d'établissement de connexion. La couche transport entre alors en phase de << Négociation >> de ces
	valeurs, soit d'un point de vue local, soit distant. Elle averti l'utilisateur des valeurs acceptés, ces valeurs demeurent inchangées durant toute
	la durée de la connexion.

	\subsection{Transparence des données échangées}
	Les données sont échangées sur une connexion transport indépendamment de leur format, de leur codage ou de leur signification, c'est le mode
	\textit{transparent}. L'avantage c'est qu'elle donne la possibilité au niveau transport de véhiculer des messages de taille quelconque, ce qui
	implique une gestion complexe de mémoire de stockage des données.

	\section{Les fonctionnalités du transport}
	Par certains aspects la couche transporta des fonctionnalités similaires de la couche liaison de données, comme le contrôleur d'erreur, le
	séquencement, le contrôle de débit. Cependant, il existe des différences fondamentales

	\begin{table}[H]
		\begin{tabular}{p{8cm}|p{8cm}}
			\textbf{Liaison de données} & \textbf{Transport}\\
			\hline
			Les entités communiquent via un canal physique.& Ce canal est remplacé par une interconnexion de réseau\\
			\hline
			Adressage & Adressage de destinataire plus compliqué\\
			\hline
			Établissement de la connexion simple &  Établissement de connexion plus compliqué\\
			\hline
			Mémorisation et contrôle de flux & Différentes approches dues à la gestion d'un nombre important de connexion. \\
			\hline
			& Errance des données
		\end{tabular}
		\end{table}

		\subsection{Établissement et libération de connexion}
	La vie d'une connexion de transport peut être divisé en trois phases
	\begin{description}
		\item[Établissement de la connexion] négociation des paramètre de QoS
		\item[Transfert de donnée sur cette connexion] 
		\item[Libération de la connexion]  fin de connexion reconnue par les deux extrémités
	\end{description}
	\subsection{Contrôle de flux et d'erreur et mémorisation}
	Le contrôle de flux consiste à réguler la transmission de données sans dépasser les possibilités de réception du destinataire.

	En cas de perte de message l'émetteur source doit mémoriser pour ré émettre.
	\subsection{Multiplexage éclatement}
	Un aspect pris en charge par la couche transport est l'optimisation des ressources réseau\footnote{En terme de cout et de performance} en fonction
	des besoin applicatifs.
	
	Le multiplexage est le partage d'une connexion réseau par plusieurs connexion transport et l'éclatement et l'utilisation de plusieurs connexion
	réseau pour une même connexion de transport.

	\subsection{Fragmentation et réassemblage}
	Les données applicatives ont parfois une taille importante\footnote{Comme par exemple lorsque l'application est une application de transfert de
	fichier}, étant donné la MTU du réseau local, le niveau transport doit fragmenter la donnée applicative pour qu'elle puisse être encapsulé sur le
	réseau local.

	\section{Adressage}
	Pour pouvoir communiquer avec ses correspondants le processus d'applications se met à l'écoute d'éventuels demande de connexion ou demande de
	transfert de données où il peut réaliser lui même ces transferts.
	Le niveau transport doit répéter ces différents processus afin d'aiguiller les données reçus lors des échanges. Ces repères sont appelés des points
	d'accès au service transport.

	Dans l'Internet ces points d'accès sont appelés des ports.

	L'adresse réseau sert à identifier de façon unique une machine sur le réseau tandis que le numéro de port identifie le processus d'application à
	laquelle les données sont destinés. Certains numéros de ports sont réservés pour des applications jouant le rôle de serveur. Ces numéros de ports peuvent être attribués dynamiquement

	\chapter{Les services et protocoles de l'Internet}
	Le réseau Internet s'appuie sur un réseau à 5 couches. 

	\begin{tabular}{p{8cm}|p{8cm}}
		\textbf{TCP} & \textbf{UDP}\\
		\hline
		Transport fiable d'un flux continu de données & transport non fiable\\
		\hline
		Service orienté connexion & Service non orienté connexion \\
		\hline
		Protocole complexe en terme de temps de réponse et lourd & Simple à mettre en oeuvre et débit plus importants\\
		\hline
		Mécanisme pour traiter les anomalies. Contrôle de flux et controle de congestion.& Aucun mécanisme\\
	\end{tabular}
	
	\section{Le service et le protocole TCP}
	Le service et le protocole tcp ont été conçue pour transporter de bout en bout des données de manières fiable, sur un ensemble de réseau non
	fiable. Cet ensemble de réseau se distingue à la grande hétérogénéité de ces composants en terme de topologie, de débit, de délais de transmission
	et de taille maximale de paquet.

	TCP s'adapte \textit{dynamiquement} a une variation et résiste à toute sorte de panne. Les données échangées sont considérés comme un flot de bits divises en
	octets, ces octets devant être reçue dans l'ordre dans lequel ils ont été reçus.

	\subsection{Les primitives du service TCP}
	\begin{description}
		\item[open] Permet de demander l'ouverture d'une connexion. En mode passif, l'utilisateur se positionne à l'écoute d'une demande de connexion.
			En mode actif l'utilisateur déclenche le dialogue avec l'entité distante en demandant l'établissement de cette connexion.
		\item[send] 
		\item[receive] Elle permet de recevoir un ensemble d'octets, récupérer les données dans le buffer, elle peut être blocante ou non selon le
			nombre d'octets disponible dans le buffer de réception.
		\item[close]  
		\item[status] Elle permet d'obtenir des informations d'états de la connexion. Comme par exemple l'identificateur du socket, l'état de la
			connexion, la valeur de la fenêtre de réception.
		\item[abort]  Permet d'interrompre la connexion avec la suppression de toutes les données en cours d'émission ou de réception
	\end{description}
	Pour avoir un service TCP, il faut créer deux extrémités  de connexion, l'un côtés source l'autre destinataire, ces extrémités sont appelés socket
	et correspondant à la combinaison adresse IP et numéro de port\footnote{Adresse ip sur 4 octets et numéro de port sur 2}

	La connexion est bidirectionnelle en mode point à point, on ne parle donc pas dans TCP de diffusion,celle-ci correspond à un flux d'octet.

	\subsection{Le protocole TCP}
	Les entités TCP s'échangent des TPDU appelés segment dont un entête de 20 octets fixes + une partie optionnel puis l partie données. Un segment TCP
	peut comporter jusqu'à $2^{16} = 65515$octets de données.

	Le protocole TCP utilise de base le principe de fenêtre d'anticipation, il arme un timer lorsque le segment arrive à destination, l'entité TCP
	réceptrice renvoit un segment sortant un numéro d'accusé de réception. 

	\subsubsection{Gestion de la Fiabilité}
		La retransmission du segment est déclenché par des temporisateur..

		\subsubsection{Calcul de la valeur de la temporisation}
		Cet algorithme à été proposé en 1988 par Jacobson.

		$RTT = (\alpha\times RTT_{estime} + (1-\alpha)\times NouveauRTT$ avec $0 \leq \alpha < 1$.

		Plusieurs échantillons sont nécessaire à partir de plusieurs segments transmis, il est calculé à partir de la formule ci-dessus avec le nouveau
		délai d'aller-retour observé et la valeur du RTT précédemment calculé.

		$RTO = \min\{BorneSuppRTO, \max\{borneInfRTO, RTO, RTT_{estime} \times \beta\}\}$ avec $\beta > 1$

		\begin{remarque}
			Cas particuliers du calcul d'aller:retour étant donné que l'ack reçu peut être soit celui du premier segment envoyé soit celui du second
			retransmis.
		\end{remarque}

		\paragraph{Cas particulier avec l'algorithme de Karn}
		TCP ne doit pas mettre à jour de RTT estimé dans le cadre de celui du segment retransmis.
		\subsubsection{Gestion de la congestion du réseau}
		Numéo en séquence codé sur 32bits, Raale de $2^{32}$octets.

		Conséquence d'un tel comportement: 
		\begin{enumerate}
			\item Encas d'erreur nombre élevé de retransmission
			\item Le récepteur peut être saturé
			\item Le réseau également
		\end{enumerate}

		Dans les échanges bidirectionnelles de TCP chaque émetteur annonce son crédit de nombre d'octets dans le champ fenêtre des segments qu'il
		envoi pour indiquer  le nombre d'octet qu'il est prêt à recevoir.

		Quand cette fenêtre est nulle, pas d'envoie de données de la part du correspondant sauf deux cas particulier : 
		\begin{itemize}
			\item Envoi possible de données d'urgences
			\item Envoi d'un segment contenant 1 seul octet pour obliger le correspondant à réannoncer le prochain octet attendu
		\end{itemize}<++>
\end{document}
 
