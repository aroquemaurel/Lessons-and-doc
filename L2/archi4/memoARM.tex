\documentclass{article}

\usepackage{lmodern}
\usepackage{xcolor}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage[francais]{babel}
\usepackage[top=0.7cm, bottom=0.7cm, left=0.7cm, right=0.7cm, landscape, twocolumn]{geometry}
\usepackage{verbatim}
\usepackage{tikz} %Vectoriel
\usepackage{listings}
\usepackage{fancyhdr}
\usepackage{multido}
\usepackage{amssymb}
\input{./remarquesExempleAttention.tex}
\begin{document}
\setlength{\columnseprule}{0.5pt}
\section{Instruction arithmétiques et logiques}
\subsection{Arithmétique}
\begin{tabular}{p{3cm}p{3.6cm}l}
	\texttt{ADD r0,r1,\#cst} & \texttt{r0 <- r1 + cst} & Addition\\
	\texttt{ADC r0,r1,\#cst} & \texttt{r0 <- r1 + ct + C} & Addition avec cary\\
	\texttt{SUB r0,r1,\#cst} & \texttt{r0 <- r1 - cst} & Soustraction\\
	\texttt{SBC r0,r1,\#cst} & \texttt{r0 <- r1 -cst + C-1}& Soustraction avec carry\\
	\texttt{RSB r0,r1,\#cst} & \texttt{r0 <- cst - r1}& Soustraction inverse\\
	\texttt{RSC r0,r1,\#cst} & \texttt{r0 <- cst -r1 + C-1}& Soustraction inverse avec carry\\
\end{tabular}
\subsection{Logique}
\begin{tabular}{p{3cm}p{3.6cm}l}
	\texttt{AND r0,r1,\#cst} & \texttt{r0 <- r1 ET cst} & Et logique (\texttt{AND})\\
	\texttt{ORR r0,r1,\#cst} & \texttt{r0 <- r1 OU st} & Ou logique (\texttt{OR})\\
	\texttt{EOR r0,r1,\#cst} & \texttt{r0 <- r1 XOR cst} & Ou exclusif (\texttt{XOR})\\
	\texttt{BIC r0,r1,\#cst} & \texttt{r0 <- r1 ET !cst} & RAZ bit (\texttt{BIT CLEAR})\\
\end{tabular} 
\subsection{Décalages et rotations}
\begin{tabular}{p{3cm}p{3.6cm}l}
	\texttt{rj, LSL \#cst} && Décalage logique à gauche\\
	\texttt{rj, LSR \#cst} && Décalage logique à drote\\
	\texttt{rj, ASR \#cst} && Décalage arithmétique à droite\\
	\texttt{rj, ROR \#cst} && Rotation droite\\
	\texttt{rj, RRX} &\footnotesize{1 seule rotation}& Rotation droite avec intro de C\\
\end{tabular} 
\section{Affectations ou transferts} 
\begin{tabular}{p{3cm}p{3.6cm}l}
	\texttt{MOV r0,\#cst} & \texttt{r0 <- cst} & Assigne cst dans r0\\
	\texttt{MVN r0,\#cst} & \texttt{r0 <- cst} & Complément de cst dans r0\\
\end{tabular}
\subsection{Transferts mémoires}
\begin{tabular}{p{3cm}p{6.6cm}l}
	\texttt{LDR r0,[r1]} & \texttt{r0 <- MEM32(r1)}&\\
	\texttt{STR r0,[r1]} & \texttt{MEM32(r1) <- r0}&\\
	\texttt{LDR r0,[r1,\#4]} & \texttt{r0 <- MEM32(r1+4)}&\\
	\texttt{LDR r0,[r1],\#4} & \texttt{r0 <- MEM32(r1) ; r1 <- r1+4}&\\
	\texttt{LDR r0,[r1,\#4]!} & \texttt{r1 <- r1 + 4 ; r0 <- MEM32(r1)}&\\
	\texttt{STMFD sp!\{r0,r5\}} &  Stocke dans la pile r0 et r5\\
	\texttt{LDMFD sp!\{r0,r5\}} &  Recharge r0 et r5 qui étaient dans la pile\\
\end{tabular}
\remarque{
\begin{itemize}
	\item \texttt{LDR} et \texttt{STR} transfèrent des mots (32bits)
	\item \texttt{LDRH} et \texttt{STRH} transfèrent des demis mots (16bits)
	\item \texttt{LDRB} et \texttt{STRB} transfèrent des octets (8bits)
\end{itemize}
}
\subsection{Sous programmes}
\subsubsection{Appel de sous programme}
	Initialiser les registres au valeurs souhaités dans le sous programme, puis effectuer un branchement.
\subsubsection{Dans le sous programme}
\begin{enumerate}
	\item Stocker les registres utilisés dans la Pile (STMFD)
	\item Execution du sous programme
	\item Décharger la pile (LDMFD)
	\item \texttt{MOV pc,r14}
\end{enumerate}
\attention{En cas de sous programme imbriqué, ne pas oublier de stocker r14 dans la pile}

% Références mémoires
\section{Branchement et comparaison}
\subsection{Comparaison}
\begin{tabular}{p{3cm}p{4.8cm}l}
	\texttt{CMP r1,r2} & \texttt{cpsr <- cc(r1-r2)} & \\
	\texttt{TST r1,r2} & \texttt{cpsr <- cc(r1 ET r2)} & \\
	\texttt{TEQ r1,r2} & \texttt{cpsr <- cc(r1 XOR r2)} & \\
\end{tabular}
\subsection{Branchement}
\begin{tabular}{cccc|cccc}
	\multicolumn{8}{c}{\begin{centering}\begin{tabular}{llll} 
		B& Always& & \\
		BEQ& if Equal& \texttt{==} & \\
		BNE& if Not Equal& \texttt{!=} & \\
	\end{tabular}\end{centering}}\\
	\hline
	\multicolumn{4}{c|}{\textbf{Signé}} & \multicolumn{4}{c}{\textbf{Non signé}} \\
	BGT & if Greater Than& \texttt{>} && BHI & if HIgher& \texttt{>} &\\
	BGE & if Greater or Equal& \texttt{>=} && BHS &if Higher or Same & \texttt{>=} & \\
	BLT & if Less Than& \texttt{<} && BLO &if LOwer& \texttt{<} & \\
	BLE & if Less or Equal& \texttt{<=} && BLS &if Lower or Same& \texttt{<=} & \\
\end{tabular}

\section{Directives d'assemblage}
\begin{tabular}{p{3cm}p{6.6cm}l}
	\texttt{.byte} & Octet\\
	\texttt{.word} & Mots\\
	\texttt{.eq: N, 10} & \texttt{const N=10}&\\
	\texttt{t: .word 1,5,...} & Tableau de mots possédant les valeurs listés&\\
\end{tabular}
\end{document}

