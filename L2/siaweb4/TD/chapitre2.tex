	\chapter{Imbrication -- Ensembliste}
	\remarque{Interdiction d'utiliser les jointures}
	\begin{enumerate}
		\item 
				$R = \Pi_{nome} (\sigma_{ne\ \in\ (\Pi_{ne}\ Projet)})$\\
	\begin{lstlisting}[language=SQL, numbers=none]
select distinct nome from equipe e1 
where e1.ne in (select distinct ne from projet); 
	\end{lstlisting}

\item 
	$ R = \Pi_{nomc}(\sigma_{nc \in\ (\Pi_{nc}(\sigma_{np = 'p1'}aff)})Chercheur)$
	\begin{lstlisting}[language=SQL, numbers=none]
select distinct nomc from chercheur
where nc in (select distinct nc from aff where np='p1');
	\end{lstlisting}
\item 
	\begin{eqnarray*}
	R &=& \Pi_{nomc}(\sigma_{nc\ \in R_1} chercheur)\\
	R_1 &=& \Pi_{nc}(\sigma_{np\ \in\ R_2} aff)\\
	R_2 &=& \Pi_{np}(\sigma_{ne = 'e1'} Projet)
	\end{eqnarray*}
	\begin{lstlisting}[language=SQL, numbers=none]
select distinct nomc from chercheur 
where nc IN (select nc from aff 
						where np in (select np from projet where ne = 'e1'));
	\end{lstlisting}
\item 
	$\Pi_{nomc} (\sigma_{nc\ \in\ (\Pi_{nc}\ aff)} chercheur)$
	\begin{lstlisting}[language=SQL, numbers=none]
select distinct nomc from chercheur where nc in (select distinct n from aff);
	\end{lstlisting}
\item 
	$\Pi_{nomc} (\sigma_{nc\ \notin\ (\Pi_{nc}\ aff)} chercheur)$
	\begin{lstlisting}[language=SQL, numbers=none]
select distinct nomc from chercheur where nc not in (select distinct n from aff);
	\end{lstlisting}
\item ~ 
	\remarque{À partir de cette question la notation algébrique n'est pas indispensable.\\
	L'utilisation des opérateurs ensembliste est indispensable, chercher ensuite une requete non ensembliste}
	\begin{lstlisting}[language=SQL, numbers=none]
select nomc from chercheur where nc in (
	select ne from aff 
	where np in(select np from projet where nomp = 'SRI')
)
intersect
select nomc from chercheur where nc in (
	select ne from aff 
	where np in(select np from projet where nomp = 'BIG')
)
	\end{lstlisting}
\item ~ 
	\begin{lstlisting}[language=SQL, numbers=none]
(select nomc from chercheur where nc in (
	select ne from aff 
	where np in(select np from projet where nomp = 'SRI')
)
intersect
select nomc from chercheur where nc in (
	select ne from aff 
	where np in(select np from projet where nomp = 'BIG')
))
except
(select nomc from chercheur where nc in (
	select ne from aff 
	where np in(select np from projet where nomp <> 'SRI' and nomp <> 'BIG')
)
);
	\end{lstlisting}
\end{enumerate}

\chapter{Jointure}
\begin{enumerate}
	\item 
	\begin{lstlisting}[language=SQL, numbers=none]
select ne, nome, pbudget from equipe, projet 
where equipe.ne = projet.ne and equipe.ne = 'e1';
	\end{lstlisting}
\item ~ 
	$R = \Pi_{nomc, nome}( ( (chercheur \bowtie_{nc = nc})\bowtie_{np=np}projet)\bowtie_{ne = ne}equipe)$
	\begin{lstlisting}[language=SQL, numbers=none]
select nomc, nome from equipe, chercheur, aff 
where aff.nc = chercheur.nc and aff.ne = equipe.ne and aff.np = projet.np;
	\end{lstlisting}
\item ~
	$R = count( (\Pi_{ne,nc}(aff\bowtie_{np=np}projet))\bowtie_{ne=ne}equipe,nome,nc);$
	\begin{lstlisting}[language=SQL, numbers=none]
select nome, count(nc) 
from equipe, aff a, projet p 
where a.np = p.np and p.ne = a.ne group by nome;
	\end{lstlisting}
\item ~
	\begin{eqnarray*}
	R_1 &=& \Pi_{numc, nomc}( (chercheur \bowtie_{nc = nc}aff) \bowtie_{np=np}(\sigma_{nomp='sri'}projet))\\
	R_2 &=& \Pi_{numc, nomc}( (chercheur \bowtie_{nc = nc}aff) \bowtie_{np=np}(\sigma_{nomp='big'}projet))\\
	R &=& R_1 \cap R_2 
	\end{eqnarray*}
	\begin{lstlisting}[language=SQL, numbers=none]
(select nc, nomc 
from chercheur c, aff a, projet p 
where p.nomp = 'SRI'
and c.nc = aff.nc 
and aff.np = p.np ) 
	intersect
(select nc, nomc 
from chercheur c, aff a, projet p 
where p.nomp = 'BIG'
	and c.nc = aff.nc 
	and aff.np = p.np )
	\end{lstlisting}
\item ~
	\begin{lstlisting}[language=SQL, numbers=none]
select nomc, count(np) 
from chercheur c, aff a, projet p 
where c.nc = a.nc and a.np = p.np 
group by nomc;
	\end{lstlisting}
\item ~
	\begin{lstlisting}[language=SQL, numbers=none]
select nomc, avg(pbudge) 
from chercheur c, aff a, projet
where c.nc = a.nc and a.np = p.np 
group by nomc
	\end{lstlisting}

\end{enumerate}


