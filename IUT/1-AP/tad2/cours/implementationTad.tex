\section{Implémentation d'un type concret}
	\paragraph{Définition}
		Mise en œuvre informatique de la spécification algorithmique du type concret.\\
		Tâche du ressort du programmeur du type.\\
		L'implémentation doit respecter la spécification (spécification = cahier des charges pour le
			programmeur)

	\subsection{Tâche du programmeur}
		\begin{enumerate}
			\item Choisir une représentation mémoire pour coder les opérations du type
			\item Coder les corps des sous-programmes conformément à la spécification.
			\item Regrouper au sein d'un module la représentation mémoire et le codage des opérations. 
		\end{enumerate}

	\subsection{Conteneur d'un module d'implémentation}
		Un module peut contenir: 
		\begin{itemize}
			\item des déclarations de constantes
			\item des déclarations de types dont l'un au moins correspond à la définition du type étudié.
			\item les corps des sous-programmes définies par la spécification.
			\item tout sous-programmes nécessaire à la mise en œuvre du type. 
		\end{itemize}

	\subsection{Exemple}
		\subsubsection{1}
		Pour le TAD Point en représentation statique.
		\lstinputlisting{4-1.algo}

	\subsection{Implémentation du TAD Point en représentation dynamique}
		En représentation statique: \\
%			\input{x.tex}
		En représentation dynamique \\
%			\input{x.tex}
		(Un pointeur vers un enregistrement)
		Dans cette représentation dynamique		
		\lstinputlisting{4-2.algo}


\section{Sémantique de valeur et sémantique de référence}
	Dans le type concret, deux nouvelles opération s'ajoutent: l'affectation(<-) et l'égalité(=).
	\paragraph{Problème} Quelle signification (sémantique) donner à ces opérations pour un client? 
	\paragraph{Exemple} Pour un client
		\lstinputlisting{4-3.algo}

	\subsection{Sémantique de valeurs}
		\paragraph{Définition}
			Une affectation x<-y à une sémantique de valeurs si le conteneur (la valeur) de y est 
				recopiée dans x.
		\paragraph{Remarque}
			Avec une sémantique de valeur, toute opération de modification sur y après l'affectation y<-y
			n'affecte pas la valeur de x.
		\subsubsection{Exemple}
			Soit le TAD Point en représentation statique. (c'est-à-dire un enregistrement)\\
			Cette représentation statique à une sémantique de valeur pour le TAD Point
			Car la copie (<-) et la comparaison (= et /=) de deux enregistrements travaillant sur les
			valeur est un enregistrement.
			de champs d'un enregistrement. \\
			\input{Diagram1.tex}\\
			\input{Diagram2.tex}
			\lstinputlisting{4-4-1.algo}
			\lstinputlisting{4-4.algo}
			On obtient l'affichage: \\
			3.5\\1.0

	\subsection{Sémantique de référence}
		\paragraph{Définition}
			L'affectation x <- y désigne le même contenu mémoire pouvant être référencé a la fois par x et 
			par y.
		\paragraph{Remarque}
			Après l'affectation x <- y avec un sémantique de référence toute modification sur y se 
			répercute sur x! \\
			On dit que x et y sont des alias pour désigner le même contenu.	

		\subsubsection{Exemple}
			Soit le TAD Point en représentation dynamique (c'est-à-dire par un pointeur vers un
			enregistrement).\\
			$\Rightarrow$ Sémantique de référence pour le TAD Point\\
			(Car affectation et comparaison de deux pointeurs!)\\
			\input{Diagram4.tex}				
			\lstinputlisting{4-4-1.algo}
			\lstinputlisting{4-5.algo}
			On obtient à l'affichage\\ 3.5\\3.5	
			\paragraph{Remarque}
				\subparagraph{1- }
					Avec une représentation par pointeur (et donc avec un sémantique de référence) 
					on peut définir un type de sémantique de valeur\\
					$\Rightarrow$ ajouter dans le TAD une opération de copie et une opération de 
					comparaison.\\
					Pour le TAD Point en représentation dynamique on définit
					\lstinputlisting{4-6.algo}
				\subparagraph{2- }
					En C, un tableau est représenté par un pointeur constant vers son premier élément. 	\\
					$\Rightarrow$ Affectation de deux tableaux n'est pas autorisée!\\
					Comparaison de deux tableaux sont autorisés: comparaisons de deux adresses (différent
					de la comparaison des élément des deux tableaux).


\section{Exportation des opérateurs <-, = et /=}
	\subsection{Implémentation sans exportation des opérateurs}
		La spécification du TAD limite les opérations en interdisant l'usage de l'affectation et des 
		comparaisons.\\
		$\Rightarrow$ la spécification n'inclut pas d'en tête pour <-, = et /=
		\subsubsection{Exemple}
			Pour le TAD Point en implémentation statique ou dynamique. \\
			Pas d'indication de la spécification vis-à-vis des opérateurs implique l'interdiction au client
			d'utiliser les opérateurs. (voir spécification du TAD du chapitre 2) 
			\lstinputlisting[caption=Pour un client]{5-1.algo}
		\paragraph{Remarque} 
			Le statut d'exportation permet de protéger les données d'un type abstrait 
			(renforce l'encapsulation)\\
			Par exemple soit le TAD compteInformatique représente
			\lstinputlisting{5-2.algo}
	\subsection{Implémentation sans exportation}
		La spécification du type abstrait avec un en-tête par opérateur selon la syntaxe pour le type T.	
			\lstinputlisting[caption=Spécification]{5-3.algo}
			\lstinputlisting[caption=Cotès client]{5-4.algo}
			Pour l'implémentation du type deux possibilités.
			\begin{itemize}
				\item Pas de corps pour l'opérateur si la sémantique donné par le langage correspond à
					celle du type.
				\item Écriture d'un corps pour l'opérateur à la sémantique du langage ne correspond plus
					à celle du type abstrait
			\end{itemize}	
	\subsection{Synthèse}
		\begin{tabular}{|p{3cm}|p{7cm}|p{7cm}|}
			\hline
				& Implémentation sans exportations & Implémentation avec exportations\\ % à fusionner.... 
			\hline
				Utilisation (client) & opérateur non définie & Opérateur définie\\
			\hline 
				Spécification (concepteur) & Pas d'entête pour l'opérateur & Entête pour l'opérateur \\ 
			\hline
				Implémentation (programmeur) & Pas de corps pour l'opérateur (il n'y a pas d'entête) &pas de corps opérateur supporté par le langage. Présence d'un corps, redéfinition de l'opérateur\\
			\hline
		\end{tabular}
		\subsubsection{Remarque}
			\paragraph{1- } 
				On peut accorder un statut d'exportation différent selon l'opérateur. 
			\paragraph{2- } 
				L'opérateur inégalité est toujours défini implicitement à partir de l'opérateur égalité.	


\section{Type fonctionnelle V.S type impératif}
	\subsection{Type fonctionnelle}
		Type qui ne propose que des fonctions algorithmique. En général par d'affectation.  
	\subsection{Type impératif}
		Type qui possède au moins une opération de modification avec une procédure et un mode mise à jour pour une 
		variable du type. En général l'affectation est autorisée.
