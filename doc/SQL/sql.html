<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xml:lang="fr" xmlns="http://www.w3.org/1999/xhtml"><head><link media="all" href="sql_fichiers/widget52.css" type="text/css" rel="stylesheet">







    

        


        <meta http-equiv="content-type" content="text/html; charset=UTF-8">
        <meta name="keywords" content="langage, sql, bases, relationnelles, non, organisation, des, données...">
        <meta name="description" content="Langage SQL, bases relationnelles ou non, organisation des données...">
        <meta name="robots" content="index,follow">
        <meta name="verify-v1" content="UL/4+QUCNTv1xBkNcC4sv4EjPUAoVj1yE+fMZClqLsc=">

        <title>
            Pour aller plus loin...
        </title>

        <link rel="shortcut icon" type="image/x-icon" href="http://www.siteduzero.com/Templates/images/designs/2/favicon.ico">
        <link rel="alternate" type="application/rss+xml" title="News du Site du Zéro" href="http://www.siteduzero.com/Templates/xml/news_fr.xml">
        
        <link rel="alternate" type="application/rss+xml" title="Derniers tutoriels du Site du Zéro" href="http://www.siteduzero.com/Templates/xml/tutoriels_fr.xml">
        

        <link rel="index" href="http://www.siteduzero.com/plan.html">
        <link rel="start" title="Accueil" href="http://www.siteduzero.com/">
        <link rel="search" type="application/opensearchdescription+xml" title="Site Du Zero" href="http://www.siteduzero.com/Templates/xml/xpi/fr/siteduzero.xpi">
        <link rel="search" href="http://www.siteduzero.com/recherche.html" title="Rechercher">
        <link rel="help" title="Accessibilité" href="http://www.siteduzero.com/accessibilite.html">
        <link rel="accesskeys" title="Raccourcis et Accesskeys" href="http://www.siteduzero.com/accessibilite.html">


        <link href="sql_fichiers/design.css" rel="stylesheet" type="text/css" media="screen, handheld, tv, projection">
        <link href="sql_fichiers/zcode.css" rel="stylesheet" type="text/css" media="screen, handheld, tv, projection">
        <link href="sql_fichiers/impression.css" rel="stylesheet" type="text/css" media="print">


        

        

        <!--[if lt IE 8]>
            <link href="/css/ie_old.min.css?1297850855" rel="stylesheet" type="text/css" media="screen" />
        <![endif]-->

        
            <style type="text/css">
                .spoiler3
                {
                        visibility: hidden;
                }
                .spoiler3_hidden
                {
                        display: none;
                }
            </style>
        
        <script src="sql_fichiers/ga.js" async="" type="text/javascript"></script><script type="text/javascript" src="sql_fichiers/jquery.js"></script>
        <script type="text/javascript" src="sql_fichiers/jqueryui.js"></script>
    </head><body><div id="_atssh" style="visibility: hidden; height: 1px; width: 1px; position: absolute; z-index: 100000;"><iframe src="sql_fichiers/sh32.html" style="height: 1px; width: 1px; position: absolute; z-index: 100000; border: 0pt none; left: 0pt; top: 0pt;" id="_atssh173"></iframe></div>
		
            <div id="acces_rapide">
                <a href="#menu">Aller au menu</a> - <a href="#corps">Aller au contenu</a>
            </div>

            <div id="top">
                <ul class="intersites">
                    
                    <li class="selected"><a href="http://www.siteduzero.com/">Informatique</a></li>
                    <li><a href="#" id="bientot_lien">Bientôt...</a></li>
                </ul>

		<ul class="stats_sites">
                    
                    <li class="last_items"><a href="http://www.siteduzero.com/connectes.html">1 691 Zéros connectés</a> - </li>
                    <li class="last_items"><a href="http://www.siteduzero.com/membres-292.html">226 822 Membres inscrits</a></li>
		</ul>
            </div>

            <div id="header">
                <div class="header_gauche">
                    <a href="http://www.siteduzero.com/"><img src="sql_fichiers/logo_sdz_fr.png" alt=""></a>
                </div>

                <div class="header_droit">
                    <div class="fr">
                        <div id="logbox">
                            
                                <div class="bloc_inscription">
                                    <a href="http://www.siteduzero.com/membres-315.html">
                                        <strong class="liens_invites">Inscription</strong><br>
                                        Inscription rapide en 2 minutes
                                    </a>
                                </div>
                                <div class="bloc_connexion">
                                    <a href="http://www.siteduzero.com/connexion.html">
                                        <strong class="liens_invites">Connexion</strong><br>
                                        Utilisez votre compte
                                    </a>
                                    <a class="rpxnow" onclick="return false;" href="https://site-du-zero.rpxnow.com/openid/v2/signin?token_url=http%3A%2F%2Fwww.siteduzero.com%2Fmembres-348-1.html%3Freferer%3Dtutoriel-3-9866-pour-aller-plus-loin.html%3Fall%3D1"><img src="sql_fichiers/rpx_icons.png" alt="connexion_rpx"></a>
                                    <script type="text/javascript">
                                        var rpxJsHost = (("https:" == document.location.protocol) ? "https://" : "http://static.");
                                        document.write(unescape("%3Cscript src='" + rpxJsHost +
                                        "rpxnow.com/js/lib/rpx.js' type='text/javascript'%3E%3C/script%3E"));
                                    </script><script src="sql_fichiers/rpx.js" type="text/javascript"></script>
                                    <script type="text/javascript">
                                        RPXNOW.overlay = true;
                                        RPXNOW.language_preference = 'fr';
                                    </script>
                                </div>
                            
                        </div>

                        
                    </div>

                    <div id="publicite_header">
                        <div id="publicite_banniere" class="publicite">
                            <script type="text/javascript">
                                <!--
                                ord=Math.random();
                                ord=ord*10000000000000000000;
                                document.write('<scr'+'ipt type="text/javascript" src="pub.js.php?cb='+ord+'&amp;l=468&amp;h=60&amp;age=0&amp;pays=0&amp;cid=404"><\/scr'+'ipt>');
                                -->
                            </script><script type="text/javascript" src="sql_fichiers/pub.html"></script>
                        </div>

                    </div>
                    </div>
                </div>

                    <div id="speedbarre">
                            <ul class="smenu">
                                <li id="speed_accueil" class="home">
                                    <a href="http://www.siteduzero.com/" accesskey="1">
                                        <span title="Accueil">Accueil</span>
                                    </a>
                                </li>
                                
                                <li class="" id="speed_cours">
                                    <a href="http://www.siteduzero.com/tutoriel.html">
                                        <span>Cours</span>
                                    </a>
                                    <span class="speedbarre_arrow"></span>
                                </li>
                                <li class="" id="speed_forum">
                                    <a href="http://www.siteduzero.com/forum.html">
                                        <span>Forums</span>
                                    </a>
                                    <span class="speedbarre_arrow"></span>
                                </li>
                                
                                    <li class="" id="speed_concours">
                                        <a href="http://www.siteduzero.com/participez.html">
                                            <span>Participez</span>
                                        </a>
                                        <span class="speedbarre_arrow"></span>
                                    </li>
                                    <li class="" id="speed_etudes">
                                        <a href="http://www.siteduzero.com/etudes.html" class="last_item">
                                            <span>Études</span>
                                        </a>
                                        <span class="speedbarre_arrow"></span>
                                    </li>
                                    <li class="" id="speed_job">
                                        <a href="http://www.siteduzero.com/emploi.html" class="last_item">
                                            <span>Emploi</span>
                                        </a>
                                        <span class="speedbarre_arrow"></span>
                                    </li>

                                    <li class="" id="speed_boutique">
                                    <a href="http://www.siteduzero.com/boutique.html" class="last_item">
                                            <span>Boutique</span>
                                        </a>
                                        <span class="speedbarre_arrow"></span>
                                    </li>
                                
                            </ul>

                            <div id="speedbar_expand" class="menuh" style="display: none;">
                                <div class="menuh_content">
                                    <div id="menuh_tutorials" style="display: none;">
                                        

                                        <div id="menu_tutorials">
                                            <div class="menu_prim">
                                                <h5>Les cours phares</h5>
                                                <div class="menuh_list_category">
                                                    <div class="ico"><a href="http://www.siteduzero.com/tutoriel-1-67-site-web.html"><img src="sql_fichiers/67.png" alt=""></a></div>
                                                    <h6><a href="http://www.siteduzero.com/tutoriel-1-67-site-web.html"><strong>Site Web</strong></a></h6>
                                                    <ul>
                                                        <li><a href="http://www.siteduzero.com/tutoriel-3-13666-apprenez-a-creer-votre-site-web.html"><span style="display: block;">XHTML / CSS</span></a></li>
                                                        <li><a href="http://www.siteduzero.com/tutoriel-3-309961-dynamisez-vos-sites-web-avec-javascript.html">Javascript</a></li>
                                                        <li><a href="http://www.siteduzero.com/tutoriel-3-14668-concevez-votre-site-web-avec-php-et-mysql.html">PHP / MySQL</a>
                                                            <a href="http://www.siteduzero.com/boutique-614-107-concevez-votre-site-web-avec-php-et-mysql.html">
                                                                <span class="in_book"><img src="sql_fichiers/ico_livre.png" alt=""></span>
                                                                <span style="display: none;">Ce cours existe en livre :<br>(Concevez votre site web avec PHP et MySQL)</span>
                                                            </a>
                                                        </li>
                                                        <li><a href="http://www.siteduzero.com/tutoriel-3-112219-apprenez-a-creer-des-applications-web-dynamiques-avec-jee.html">Java EE (J2EE)</a></li>
                                                    </ul>
                                                </div>

                                                <div class="menuh_list_category">
                                                    <div class="ico"><a href="http://www.siteduzero.com/tutoriel-1-57-programmation.html"><img src="sql_fichiers/57.png" alt=""></a></div>
                                                    <h6><a href="http://www.siteduzero.com/tutoriel-1-57-programmation.html"><strong>Programmation</strong></a></h6>
                                                    <ul>
                                                        <li><a href="http://www.siteduzero.com/tutoriel-3-14189-apprenez-a-programmer-en-c.html">Langage C</a>
                                                            <a href="http://www.siteduzero.com/boutique-614-65-apprenez-a-programmer-en-c.html">
                                                                <span class="in_book"><img src="sql_fichiers/ico_livre.png" alt=""></span>
                                                                <span style="display: none;">Ce cours existe en livre :<br>(Apprenez à programmer en C)</span>
                                                            </a>
                                                        </li>
                                                        <li><a href="http://www.siteduzero.com/tutoriel-3-11406-apprenez-a-programmer-en-c.html">Langage C++</a></li>
                                                        <li><a href="http://www.siteduzero.com/tutoriel-3-10601-programmation-en-java.html">Java</a></li>
                                                        <li><a href="http://www.siteduzero.com/tutoriel-3-119239-programmation-en-java-api.html">Java (API)</a></li>
                                                        <li><a href="http://www.siteduzero.com/tutoriel-3-223267-apprendre-python.html">Python</a></li>
                                                        <li><a href="http://www.siteduzero.com/tutoriel-3-134798-visual_basic_net.html">VB .NET </a></li>
                                                    </ul>
                                                </div>


                                                <div class="menuh_list_category">
                                                    <div class="ico"><a href="http://www.siteduzero.com/tutoriel-1-60-systemes-d-exploitation.html"><img src="sql_fichiers/60.png" alt=""></a></div>
                                                    <h6><a href="http://www.siteduzero.com/tutoriel-1-60-systemes-d-exploitation.html"><strong>Systèmes d'exploitation</strong></a></h6>
                                                    <ul>
                                                        <li><a href="http://www.siteduzero.com/tutoriel-3-12827-reprenez-le-controle-a-l-aide-de-linux.html">Linux</a>
                                                            <a href="http://www.siteduzero.com/boutique-614-171-reprenez-le-controle-a-l-aide-de-linux.html">
                                                                <span class="in_book"><img src="sql_fichiers/ico_livre.png" alt=""></span>
                                                                <span style="display: none;">Ce cours existe en livre :<br>(Reprenez le contrôle a l'aide de Linux)</span>
                                                            </a>
                                                        </li>                                                    
                                                        <li><a href="http://www.siteduzero.com/tutoriel-3-273305-freebsd-et-l-envers-du-decor.html">FreeBSD</a></li>
                                                    </ul>
                                                </div>

                                                <div class="menuh_list_category">
                                                <div class="ico"><a href="http://www.siteduzero.com/tutoriel-1-56-graphisme.html"><img src="sql_fichiers/56.png" alt=""></a></div>
                                                    <h6><a href="http://www.siteduzero.com/tutoriel-1-56-graphisme.html"><strong>Graphisme</strong></a></h6>
                                                    <ul>
                                                        <li><a href="http://www.siteduzero.com/tutoriel-3-351765-debuter-sur-adobe-photoshop.html">Photoshop</a></li>
                                                    </ul>
                                                </div>

                                                <div class="menuh_list_category">
                                                    <div class="ico"><a href="http://www.siteduzero.com/tutoriel-1-58-infographie-3d.html"><img src="sql_fichiers/58.png" alt=""></a></div>
                                                    <h6><a href="http://www.siteduzero.com/tutoriel-1-58-infographie-3d.html"><strong>Infographie 3D</strong></a></h6>
                                                    <ul>
                                                        <li><a href="http://www.siteduzero.com/tutoriel-3-11714-debutez-dans-la-3d-avec-blender.html">Blender</a></li>
                                                        <li><a href="http://www.siteduzero.com/tutoriel-3-228998-apprenez-a-modeliser-en-3d-avec-autodesk-maya.html">Maya </a></li>
                                                    </ul>
                                                </div>

                                                <div class="menuh_list_category">
                                                    <div class="ico"><a href="http://www.siteduzero.com/tutoriel-1-55-bureautique.html"><img src="sql_fichiers/55.png" alt=""></a></div>
                                                    <h6><a href="http://www.siteduzero.com/tutoriel-1-55-bureautique.html"><strong>Bureautique</strong></a></h6>
                                                    <ul>
                                                        <li><a href="http://www.siteduzero.com/tutoriel-3-258577-redigez-des-documents-de-qualite-professionnelle-avec-latex.html">LaTeX</a>
                                                            <a href="http://www.siteduzero.com/boutique-614-207-redigez-des-documents-de-qualite-professionnelle-avec-latex.html">
                                                                <span class="in_book"><img src="sql_fichiers/ico_livre.png" alt=""></span>
                                                                <span style="display: none;">Ce cours existe en livre :<br>(Rédigez des documents de qualité avec LaTeX)</span>
                                                            </a>
                                                        </li>
                                                    </ul>
                                                </div>
                                            </div>
                                            
                                            <div class="menu_princi menuhcattuto ">
                                                <h5>Tous les cours par catégories</h5>
                                                <div class="menuh_princi_col">
                                                    
                                                            <div class="menuh_list_category">
                                                                <div class="ico"><a href="http://www.siteduzero.com/tutoriel-1-67-site-web.html"><img src="sql_fichiers/67.png" alt=""></a></div>
                                                                <h6><a href="http://www.siteduzero.com/tutoriel-1-67-site-web.html">Site Web <span style="font-weight: normal;">(206 Cours)</span></a></h6>
                                                                <ul>
                                                                    <li>
                                                                        
                                                                            <a href="http://www.siteduzero.com/tutoriel-2-69-xhtml-css.html">XHTML / CSS</a>,
                                                                            <a href="http://www.siteduzero.com/tutoriel-1-210-php.html">PHP</a>,
                                                                            <a href="http://www.siteduzero.com/tutoriel-2-71-divers.html">Divers</a>,
                                                                            <a href="http://www.siteduzero.com/tutoriel-2-73-forums.html">Forums</a>,
                                                                            <a href="http://www.siteduzero.com/tutoriel-2-77-hebergement.html">Hébergement</a>,
                                                                            <a href="http://www.siteduzero.com/tutoriel-2-70-javascript.html">Javascript</a>,
                                                                            <a href="http://www.siteduzero.com/tutoriel-2-74-serveur.html">Serveur</a>,
                                                                            <a href="http://www.siteduzero.com/tutoriel-2-309-ide.html">IDE</a>
                                                                    </li>
                                                                </ul>
                                                            </div>
                                                        
                                                            <div class="menuh_list_category">
                                                                <div class="ico"><a href="http://www.siteduzero.com/tutoriel-1-60-systemes-d-exploitation.html"><img src="sql_fichiers/60.png" alt=""></a></div>
                                                                <h6><a href="http://www.siteduzero.com/tutoriel-1-60-systemes-d-exploitation.html">Systèmes d'exploitation <span style="font-weight: normal;">(96 Cours)</span></a></h6>
                                                                <ul>
                                                                    <li>
                                                                        
                                                                            <a href="http://www.siteduzero.com/tutoriel-2-96-linux.html">Linux</a>,
                                                                            <a href="http://www.siteduzero.com/tutoriel-2-147-macos.html">MacOS</a>,
                                                                            <a href="http://www.siteduzero.com/tutoriel-1-97-windows.html">Windows</a>,
                                                                            <a href="http://www.siteduzero.com/tutoriel-2-408-bsd.html">BSD</a>
                                                                    </li>
                                                                </ul>
                                                            </div>
                                                        
                                                            <div class="menuh_list_category">
                                                                <div class="ico"><a href="http://www.siteduzero.com/tutoriel-1-54-mapping.html"><img src="sql_fichiers/54.png" alt=""></a></div>
                                                                <h6><a href="http://www.siteduzero.com/tutoriel-1-54-mapping.html">Mapping <span style="font-weight: normal;">(31 Cours)</span></a></h6>
                                                                <ul>
                                                                    <li>
                                                                        
                                                                            <a href="http://www.siteduzero.com/tutoriel-2-63-half-life.html">Half-Life</a>,
                                                                            <a href="http://www.siteduzero.com/tutoriel-2-66-half-life.html">Half-Life²</a>,
                                                                            <a href="http://www.siteduzero.com/tutoriel-2-173-warcraft.html">Warcraft</a>,
                                                                            <a href="http://www.siteduzero.com/tutoriel-2-188-autres.html">Autres</a>
                                                                    </li>
                                                                </ul>
                                                            </div>
                                                        
                                                            <div class="menuh_list_category">
                                                                <div class="ico"><a href="http://www.siteduzero.com/tutoriel-1-55-bureautique.html"><img src="sql_fichiers/55.png" alt=""></a></div>
                                                                <h6><a href="http://www.siteduzero.com/tutoriel-1-55-bureautique.html">Bureautique <span style="font-weight: normal;">(29 Cours)</span></a></h6>
                                                                <ul>
                                                                    <li>
                                                                        
                                                                            <a href="http://www.siteduzero.com/tutoriel-1-290-microsoft-office.html">Microsoft Office</a>,
                                                                            <a href="http://www.siteduzero.com/tutoriel-1-291-openoffice-org.html">OpenOffice.org</a>,
                                                                            <a href="http://www.siteduzero.com/tutoriel-2-87-firefox.html">Firefox</a>,
                                                                            <a href="http://www.siteduzero.com/tutoriel-2-195-irc.html">IRC</a>,
                                                                            <a href="http://www.siteduzero.com/tutoriel-2-192-divers.html">Divers</a>
                                                                    </li>
                                                                </ul>
                                                            </div>
                                                        
                                                            <div class="menuh_list_category">
                                                                <div class="ico"><a href="http://www.siteduzero.com/tutoriel-1-59-jeux-video.html"><img src="sql_fichiers/59.png" alt=""></a></div>
                                                                <h6><a href="http://www.siteduzero.com/tutoriel-1-59-jeux-video.html">Jeux Vidéo <span style="font-weight: normal;">(22 Cours)</span></a></h6>
                                                                <ul>
                                                                    <li>
                                                                        
                                                                            <a href="http://www.siteduzero.com/tutoriel-2-102-hl-ses-mods.html">HL &amp; ses mods</a>,
                                                                            <a href="http://www.siteduzero.com/tutoriel-2-185-autres-jeux.html">Autres jeux</a>
                                                                    </li>
                                                                </ul>
                                                            </div>
                                                        
                                                            <div class="menuh_list_category">
                                                                <div class="ico"><a href="http://www.siteduzero.com/tutoriel-1-61-materiel.html"><img src="sql_fichiers/61.png" alt=""></a></div>
                                                                <h6><a href="http://www.siteduzero.com/tutoriel-1-61-materiel.html">Matériel <span style="font-weight: normal;">(11 Cours)</span></a></h6>
                                                                <ul>
                                                                    <li>
                                                                        
                                                                            <a href="http://www.siteduzero.com/tutoriel-2-101-general.html">Général</a>
                                                                    </li>
                                                                </ul>
                                                            </div>
                                                        

                                                    <div class="menuh_list_category">
                                                        <div class="ico"><img src="sql_fichiers/tuto_cat_thb.png" alt=""></div>
                                                        <h6>Autres</h6>
                                                        <ul>
                                                            
                                                                <li>
                                                                    <a style="display: block;" href="http://www.siteduzero.com/tutoriel-2-404-bases-de-donnees.html">Bases de données</a>
                                                                </li>
                                                            
                                                                <li>
                                                                    <a style="display: block;" href="http://www.siteduzero.com/tutoriel-2-403-mobiles.html">Mobiles</a>
                                                                </li>
                                                            
                                                                <li>
                                                                    <a style="display: block;" href="http://www.siteduzero.com/tutoriel-2-141-site-du-zero.html">Site du Zéro</a>
                                                                </li>
                                                            
                                                        </ul>
                                                    </div>
                                                </div>

                                                <div class="menuh_princi_col">
                                                    
                                                            <div class="menuh_list_category">
                                                                <div class="ico"><a href="http://www.siteduzero.com/tutoriel-1-57-programmation.html">
                                                                    <img src="sql_fichiers/57.png" alt=""></a>
                                                                </div>
                                                                <h6><a href="http://www.siteduzero.com/tutoriel-1-57-programmation.html">Programmation</a> <span style="font-weight: normal;">(244 Cours)</span></h6>
                                                                <ul>
                                                                    <li>
                                                                        
                                                                            <a href="http://www.siteduzero.com/tutoriel-2-91-as-flash-flex.html">AS / Flash / Flex</a>,
                                                                            <a href="http://www.siteduzero.com/tutoriel-2-217-algorithmique.html">Algorithmique</a>,
                                                                            <a href="http://www.siteduzero.com/tutoriel-2-254-basic-et-derives.html">Basic et dérivés</a>,
                                                                            <a href="http://www.siteduzero.com/tutoriel-1-344-bibliotheques.html">Bibliothèques</a>,
                                                                            <a href="http://www.siteduzero.com/tutoriel-2-262-c.html">C</a>,
                                                                            <a href="http://www.siteduzero.com/tutoriel-2-261-c.html">C++</a>,
                                                                            <a href="http://www.siteduzero.com/tutoriel-2-201-c-net.html">C# / .NET</a>,
                                                                            <a href="http://www.siteduzero.com/tutoriel-1-258-calculatrices.html">Calculatrices</a>,
                                                                            <a href="http://www.siteduzero.com/tutoriel-2-242-ide.html">IDE</a>,
                                                                            <a href="http://www.siteduzero.com/tutoriel-2-336-erlang.html">Erlang</a>,
                                                                            <a href="http://www.siteduzero.com/tutoriel-2-227-general.html">Général</a>,
                                                                            <a href="http://www.siteduzero.com/tutoriel-2-178-java.html">Java</a>,
                                                                            <a href="http://www.siteduzero.com/tutoriel-2-93-mirc.html">mIRC</a>,
                                                                            <a href="http://www.siteduzero.com/tutoriel-2-196-python.html">Python</a>,
                                                                            <a href="http://www.siteduzero.com/tutoriel-2-355-caml-ocaml.html">Caml / OCaml</a>,
                                                                            <a href="http://www.siteduzero.com/tutoriel-2-386-cocoa-objective-c.html">Cocoa / Objective-C</a>,
                                                                            <a href="http://www.siteduzero.com/tutoriel-2-253-autres-langages.html">Autres langages</a>
                                                                    </li>
                                                                </ul>
                                                            </div>
                                                        
                                                            <div class="menuh_list_category">
                                                                <div class="ico"><a href="http://www.siteduzero.com/tutoriel-1-56-graphisme.html">
                                                                    <img src="sql_fichiers/56.png" alt=""></a>
                                                                </div>
                                                                <h6><a href="http://www.siteduzero.com/tutoriel-1-56-graphisme.html">Graphisme</a> <span style="font-weight: normal;">(27 Cours)</span></h6>
                                                                <ul>
                                                                    <li>
                                                                        
                                                                            <a href="http://www.siteduzero.com/tutoriel-2-176-dessin.html">Dessin</a>,
                                                                            <a href="http://www.siteduzero.com/tutoriel-2-177-divers.html">Divers</a>,
                                                                            <a href="http://www.siteduzero.com/tutoriel-2-79-flash.html">Flash</a>,
                                                                            <a href="http://www.siteduzero.com/tutoriel-2-157-gimp.html">Gimp</a>,
                                                                            <a href="http://www.siteduzero.com/tutoriel-2-153-dessin-vectoriel.html">Dessin vectoriel</a>,
                                                                            <a href="http://www.siteduzero.com/tutoriel-2-190-photofiltre.html">PhotoFiltre</a>,
                                                                            <a href="http://www.siteduzero.com/tutoriel-2-78-photoshop.html">Photoshop</a>,
                                                                            <a href="http://www.siteduzero.com/tutoriel-2-197-pov-ray.html">POV-Ray</a>
                                                                    </li>
                                                                </ul>
                                                            </div>
                                                        
                                                            <div class="menuh_list_category">
                                                                <div class="ico"><a href="http://www.siteduzero.com/tutoriel-1-58-infographie-3d.html">
                                                                    <img src="sql_fichiers/58.png" alt=""></a>
                                                                </div>
                                                                <h6><a href="http://www.siteduzero.com/tutoriel-1-58-infographie-3d.html">Infographie 3D</a> <span style="font-weight: normal;">(25 Cours)</span></h6>
                                                                <ul>
                                                                    <li>
                                                                        
                                                                            <a href="http://www.siteduzero.com/tutoriel-2-95-3d-studio-max.html">3D Studio Max</a>,
                                                                            <a href="http://www.siteduzero.com/tutoriel-2-152-blender.html">Blender</a>,
                                                                            <a href="http://www.siteduzero.com/tutoriel-2-296-maya.html">Maya</a>
                                                                    </li>
                                                                </ul>
                                                            </div>
                                                        
                                                            <div class="menuh_list_category">
                                                                <div class="ico"><a href="http://www.siteduzero.com/tutoriel-1-62-multimedia.html">
                                                                    <img src="sql_fichiers/62.png" alt=""></a>
                                                                </div>
                                                                <h6><a href="http://www.siteduzero.com/tutoriel-1-62-multimedia.html">Multimédia</a> <span style="font-weight: normal;">(24 Cours)</span></h6>
                                                                <ul>
                                                                    <li>
                                                                        
                                                                            <a href="http://www.siteduzero.com/tutoriel-2-99-audio.html">Audio</a>,
                                                                            <a href="http://www.siteduzero.com/tutoriel-2-100-video.html">Vidéo</a>,
                                                                            <a href="http://www.siteduzero.com/tutoriel-2-382-after-effects.html">After Effects</a>
                                                                    </li>
                                                                </ul>
                                                            </div>
                                                        
                                                            <div class="menuh_list_category">
                                                                <div class="ico"><a href="http://www.siteduzero.com/tutoriel-1-182-reseaux.html">
                                                                    <img src="sql_fichiers/182.png" alt=""></a>
                                                                </div>
                                                                <h6><a href="http://www.siteduzero.com/tutoriel-1-182-reseaux.html">Réseaux</a> <span style="font-weight: normal;">(18 Cours)</span></h6>
                                                                <ul>
                                                                    <li>
                                                                        
                                                                            <a href="http://www.siteduzero.com/tutoriel-2-183-general.html">Général</a>,
                                                                            <a href="http://www.siteduzero.com/tutoriel-2-189-securite.html">Sécurité</a>
                                                                    </li>
                                                                </ul>
                                                            </div>
                                                        

                                                    <div class="menuh_list_category">
                                                        <div id="create_tutorials_button">
                                                            
                                                                <div><a href="http://www.siteduzero.com/connexion.html"><img src="sql_fichiers/redigercours.png" alt=""></a></div>
                                                            
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="clear"></div>
                                            </div>
                                            <div class="clear"></div>
                                        </div>
                                    </div>
                                    
                                    <div id="menuh_forum" style="display: none;">
                                        <div class="menu_princi">
                                            <a class="button_all_forums" href="http://www.siteduzero.com/forum.html">Accueil des forums</a>
                                            <div class="menuh_princi_col">
                                                
                                                        <div class="menuh_list_category">
                                                            <div class="ico"><a href="http://www.siteduzero.com/forum-89-121-site-web.html"><img src="sql_fichiers/121.png" alt=""></a></div>
                                                            <h6><a href="http://www.siteduzero.com/forum-89-121-site-web.html">Site Web</a></h6>
                                                            <ul>
                                                                <li>
                                                                    
                                                                            <a href="http://www.siteduzero.com/forum-81-122-xhtml-css.html">XHTML / CSS</a>
                                                                        
                                                                            <a href="http://www.siteduzero.com/forum-81-338-javascript.html">Javascript</a>
                                                                        
                                                                            <a href="http://www.siteduzero.com/forum-81-123-php.html">PHP</a>
                                                                        
                                                                </li>
                                                            </ul>
                                                        </div>
                                                    
                                                        <div class="menuh_list_category">
                                                            <div class="ico"><a href="http://www.siteduzero.com/forum-89-128-mapping.html"><img src="sql_fichiers/128.png" alt=""></a></div>
                                                            <h6><a href="http://www.siteduzero.com/forum-89-128-mapping.html">Mapping</a></h6>
                                                            <ul>
                                                                <li>
                                                                    
                                                                            <a href="http://www.siteduzero.com/forum-81-129-goldsource-hl1.html">GoldSource (HL1)</a>
                                                                        
                                                                            <a href="http://www.siteduzero.com/forum-81-130-source-hl2.html">Source (HL2)</a>
                                                                        
                                                                </li>
                                                            </ul>
                                                        </div>
                                                    
                                                        <div class="menuh_list_category">
                                                            <div class="ico"><a href="http://www.siteduzero.com/forum-89-24-communaute-des-zeros.html"><img src="sql_fichiers/24.png" alt=""></a></div>
                                                            <h6><a href="http://www.siteduzero.com/forum-89-24-communaute-des-zeros.html">Communauté des zéros</a></h6>
                                                            <ul>
                                                                <li>
                                                                    
                                                                            <a href="http://www.siteduzero.com/forum-81-28-discussions-generales.html">Discussions générales</a>
                                                                        
                                                                            <a href="http://www.siteduzero.com/forum-81-278-vos-etudes.html">Vos études</a>
                                                                        
                                                                            <a href="http://www.siteduzero.com/forum-81-239-presentation-de-vos-projets.html">Présentation de vos projets</a>
                                                                        
                                                                            <a href="http://www.siteduzero.com/forum-81-200-recrutements-pour-vos-projets.html">Recrutements pour vos projets</a>
                                                                        
                                                                </li>
                                                            </ul>
                                                        </div>
                                                    
                                                        <div class="menuh_list_category">
                                                            <div class="ico"><a href="http://www.siteduzero.com/forum-89-440-sciences.html"><img src="sql_fichiers/440.png" alt=""></a></div>
                                                            <h6><a href="http://www.siteduzero.com/forum-89-440-sciences.html">Sciences</a></h6>
                                                            <ul>
                                                                <li>
                                                                    
                                                                            <a href="http://www.siteduzero.com/forum-81-441-mathematiques.html">Mathématiques</a>
                                                                        
                                                                            <a href="http://www.siteduzero.com/forum-81-442-physique-chimie.html">Physique - Chimie</a>
                                                                        
                                                                            <a href="http://www.siteduzero.com/forum-81-443-biologie-et-geologie.html">Biologie et Géologie</a>
                                                                        
                                                                            <a href="http://www.siteduzero.com/forum-81-444-autres-sciences.html">Autres sciences</a>
                                                                        
                                                                </li>
                                                            </ul>
                                                        </div>
                                                    
                                            </div>

                                            <div class="menuh_princi_col">
                                                
                                                        <div class="menuh_list_category">
                                                            <div class="ico"><a href="http://www.siteduzero.com/forum-89-125-programmation.html"><img src="sql_fichiers/125.png" alt=""></a></div>
                                                            <h6><a href="http://www.siteduzero.com/forum-89-125-programmation.html">Programmation</a></h6>
                                                            <ul>
                                                                <li>
                                                                    
                                                                            <a href="http://www.siteduzero.com/forum-81-126-langage-c.html">Langage C</a>
                                                                        
                                                                            <a href="http://www.siteduzero.com/forum-81-237-langage-c.html">Langage C++</a>
                                                                        
                                                                            <a href="http://www.siteduzero.com/forum-81-305-langage-java.html">Langage Java</a>
                                                                        
                                                                            <a href="http://www.siteduzero.com/forum-81-407-langage-python.html">Langage Python</a>
                                                                        
                                                                            <a href="http://www.siteduzero.com/forum-81-406-bases-de-donnees.html">Bases de données</a>
                                                                        
                                                                            <a href="http://www.siteduzero.com/forum-81-127-autres-langages-outils-et-approches.html">Autres langages, outils et approches</a>
                                                                        
                                                                </li>
                                                            </ul>
                                                        </div>
                                                    
                                                        <div class="menuh_list_category">
                                                            <div class="ico"><a href="http://www.siteduzero.com/forum-89-219-materiel-et-logiciels.html"><img src="sql_fichiers/219.png" alt=""></a></div>
                                                            <h6><a href="http://www.siteduzero.com/forum-89-219-materiel-et-logiciels.html">Matériel et logiciels</a></h6>
                                                            <ul>
                                                                <li>
                                                                    
                                                                            <a href="http://www.siteduzero.com/forum-81-339-discussions-informatiques.html">Discussions informatiques</a>
                                                                        
                                                                            <a href="http://www.siteduzero.com/forum-81-220-linux-mac-et-bsd.html">Linux, Mac et *BSD</a>
                                                                        
                                                                            <a href="http://www.siteduzero.com/forum-81-221-windows.html">Windows</a>
                                                                        
                                                                            <a href="http://www.siteduzero.com/forum-81-116-jeux-video.html">Jeux vidéo</a>
                                                                        
                                                                            <a href="http://www.siteduzero.com/forum-81-117-graphisme.html">Graphisme</a>
                                                                        
                                                                            <a href="http://www.siteduzero.com/forum-81-223-materiel.html">Matériel</a>
                                                                        
                                                                </li>
                                                            </ul>
                                                        </div>
                                                    
                                                        <div class="menuh_list_category">
                                                            <div class="ico"><a href="http://www.siteduzero.com/forum-89-310-concours.html"><img src="sql_fichiers/310.png" alt=""></a></div>
                                                            <h6><a href="http://www.siteduzero.com/forum-89-310-concours.html">Concours</a></h6>
                                                            <ul>
                                                                <li>
                                                                    
                                                                            <a href="http://www.siteduzero.com/forum-81-435-innov-game-2011-a-la-gloire-de.html">Innov'Game 2011 : A la gloire de</a>
                                                                        
                                                                            <a href="http://www.siteduzero.com/forum-81-447-atelier-de-noel-faites-votre-jeu.html">Atelier de noël : "Faites votre jeu"</a>
                                                                        
                                                                </li>
                                                            </ul>
                                                        </div>
                                                    
                                                        <div class="menuh_list_category">
                                                            <div class="ico"><a href="http://www.siteduzero.com/forum-89-143-le-site-du-zero.html"><img src="sql_fichiers/143.png" alt=""></a></div>
                                                            <h6><a href="http://www.siteduzero.com/forum-89-143-le-site-du-zero.html">Le Site du Zéro</a></h6>
                                                            <ul>
                                                                <li>
                                                                    
                                                                            <a href="http://www.siteduzero.com/forum-81-144-suggestions-et-commentaires.html">Suggestions et Commentaires</a>
                                                                        
                                                                            <a href="http://www.siteduzero.com/forum-81-145-designs-du-site-du-zero.html">Designs du Site du Zéro</a>
                                                                        
                                                                            <a href="http://www.siteduzero.com/forum-81-429-tutoriels-du-site-du-zero.html">Tutoriels du Site du Zéro</a>
                                                                        
                                                                </li>
                                                            </ul>
                                                        </div>
                                                    
                                            </div>
                                        </div>

                                        
                                    <div class="clear"></div>
                                    </div>
                                    <div id="menuh_collaborate" style="display: none;">
                                        <div class="menuh_list_category">
                                            
                                                <div class="ico"><a href="http://www.siteduzero.com/membres-315.html"><img src="sql_fichiers/tuto_cat_thb.png" alt=""></a></div>
                                                <h6><a href="http://www.siteduzero.com/membres-315.html">Cours</a></h6>
                                                <ul>
                                                    <li style="font-style: italic;">Pour rédiger et participer à la rédaction d'un tutoriel, <a style="display: inline; font-style: normal;" href="http://www.siteduzero.com/membres-315.html">rejoignez-nous !</a></li>
                                                </ul>
                                            
                                        </div>

                                        <div class="menuh_list_category">
                                            
                                                <div class="ico"><a href="http://www.siteduzero.com/membres-315.html"><img src="sql_fichiers/defaut_thb.png" alt=""></a></div>
                                                <h6><a href="http://www.siteduzero.com/membres-315.html">News</a></h6>
                                                <ul>
                                                    <li style="font-style: italic;">Pour partager ou participer à la rédaction d'une news, <a style="display: inline; font-style: normal;" href="http://www.siteduzero.com/membres-315.html"> rejoignez-nous !</a></li>
                                                </ul>
                                            
                                        </div>

                                        <div class="menuh_list_category">
                                            <div class="ico"><a href="http://www.siteduzero.com/concours.html"><img src="sql_fichiers/cup_thb.png" alt=""></a></div>
                                            <h6><a href="http://www.siteduzero.com/concours.html">Concours</a></h6>
                                            <ul>
                                                
                                                        <li><a href="http://www.siteduzero.com/concours-654-122-innov-game-2011-a-la-gloire-de.html">Innov'Game 2011 : A la gloire de</a></li>
                                                    
                                            </ul>
                                        </div>
                                        <div class="clear"></div>
                                    </div>


                                    <div id="menuh_job" style="display: none;">
                                        <div class="menu_princi">
                                            <div class="menuh_princi_col">
                                                <div class="menuh_list_category">
                                                    <h6>Dernières annonces</h6>
                                                    <div class="menuh_list_category_job">
                                                        
                                                            <a title="Consulter le poste : Consultant en Architecture S…" href="http://www.siteduzero.com/emploi/45/consultant-en-architecture-si-logicielle" class="corpsmenu">
                                                                <span class="last_jobs">
                                                                    <span title="CDI" class="job_type jobtypes1">CDI</span>
                                                                </span>
                                                                <span>
                                                                    <span class="job_title">Consultant en Architecture S…</span>
                                                                    <span style="color: rgb(0, 0, 0);">Solucom</span>
                                                                </span>
                                                            </a>
                                                        
                                                            <a title="Consulter le poste : Consultant en Architecture S…" href="http://www.siteduzero.com/emploi/46/consultant-en-architecture-si-technique" class="corpsmenu">
                                                                <span class="last_jobs">
                                                                    <span title="CDI" class="job_type jobtypes1">CDI</span>
                                                                </span>
                                                                <span>
                                                                    <span class="job_title">Consultant en Architecture S…</span>
                                                                    <span style="color: rgb(0, 0, 0);">Solucom</span>
                                                                </span>
                                                            </a>
                                                        
                                                            <a title="Consulter le poste : Consultant en Gouvernance SI…" href="http://www.siteduzero.com/emploi/47/consultant-en-gouvernance-si" class="corpsmenu">
                                                                <span class="last_jobs">
                                                                    <span title="CDI" class="job_type jobtypes1">CDI</span>
                                                                </span>
                                                                <span>
                                                                    <span class="job_title">Consultant en Gouvernance SI…</span>
                                                                    <span style="color: rgb(0, 0, 0);">Solucom</span>
                                                                </span>
                                                            </a>
                                                        
                                                    </div>
                                                </div>
                                            </div>
                                                
                                                <div class="menuh_princi_col">
                                                    <div class="menuh_list_category">
                                                        <h6>Annonces à la une</h6>
                                                        <div class="menuh_list_category_job">
                                                            
                                                                <a title="Consulter le poste : Stage : Télétravail et sé…" href="http://www.siteduzero.com/emploi/22/stage-teletravail-et-securite-des-postes-mobiles" class="corpsmenu">

                                                                    <span class="last_jobs">
                                                                        <span title="Stage" class="job_type jobtypes3">Stage</span>
                                                                    </span>
                                                                    <span>
                                                                        <span class="job_title">Stage : Télétravail et sé…</span>
                                                                        <span style="color: rgb(0, 0, 0);">NetXP</span>
                                                                    </span>
                                                                </a>
                                                            
                                                                <a title="Consulter le poste : Ingénieur Etudes et Dévelo…" href="http://www.siteduzero.com/emploi/4/ingenieur-etudes-et-developpements-c" class="corpsmenu">

                                                                    <span class="last_jobs">
                                                                        <span title="CDI" class="job_type jobtypes1">CDI</span>
                                                                    </span>
                                                                    <span>
                                                                        <span class="job_title">Ingénieur Etudes et Dévelo…</span>
                                                                        <span style="color: rgb(0, 0, 0);">TEAM TRADE GROUPE</span>
                                                                    </span>
                                                                </a>
                                                            
                                                        </div>
                                                    </div>
                                                    <div class="menuh_list_category">
                                                        <div>
                                                            <div><a href="http://www.siteduzero.com/emploi.html"><img src="sql_fichiers/speed_barre_btn_recherche_emploi.png" alt=""></a></div>
                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="menuh_more2">
                                                        <a href="http://www.siteduzero.com/emploi/liste.html">Toutes les annonces<img src="sql_fichiers/fleche_droite.png" alt="►"></a>
                                                </div>
                                            </div>
                                        <div class="clear"></div>
                                    </div>

                                    <div id="menuh_study" style="display: none; padding-left: 15px;">
                                        <div class="menu_princi">
                                            <div class="ico_study"><img src="sql_fichiers/ico_etude.png" alt="icon etude" width="50"></div>
                                            <div class="menuh_princi_col">
                                                <div class="menuh_list_category">
                                                    <h6>Recrutement à Bac / Bac +1</h6>
                                                    <ul>
                                                        <li><a href="http://www.siteduzero.com/etudes-550-280-bts.html">BTS</a></li>
                                                        <li><a href="http://www.siteduzero.com/etudes-550-269-ecoles-d-ing%C3%A9nieurs-en-informatique.html">Ecoles d'ingénieurs en informatique</a></li>
                                                        <li><a href="http://www.siteduzero.com/etudes-550-274-ecoles-d-ing%C3%A9nieurs-generalistes.html">Ecoles d'ingénieurs généralistes</a></li>
                                                        <li><a href="http://www.siteduzero.com/etudes-550-283-iut.html">IUT</a></li>
                                                        <li><a href="http://www.siteduzero.com/etudes-550-300-universites.html">Universités</a></li>
                                                        <li><a href="http://www.siteduzero.com/etudes-550-287-autre-formation-diplomantes.html">Autres formations diplômantes</a></li>
                                                        <li><a href="http://www.siteduzero.com/etudes-550-448-cpge.html">CPGE</a></li>
                                                    </ul>
                                                </div>

                                                <div class="menuh_list_category">
                                                    <h6>Recrutement à Bac +2</h6>
                                                    <ul>
                                                       <li><a href="http://www.siteduzero.com/etudes-550-270-ecoles-d-ing%C3%A9nieurs-en-informatique.html">Ecoles d'ingénieurs en informatique</a></li>
                                                       <li><a href="http://www.siteduzero.com/etudes-550-273-ecoles-d-ing%C3%A9nieurs-generalistes.html">Ecoles d'ingénieurs généralistes</a></li>
                                                       <li><a href="http://www.siteduzero.com/etudes-550-289-autre-formation-diplomantes.html">Autres formations diplômantes</a></li>
                                                    </ul>
                                                </div>
                                            </div>

                                            <div class="menuh_princi_col">
                                                <div class="menuh_list_category">
                                                    <h6>Recrutement à Bac +3 / Bac +4</h6>
                                                    <ul>
                                                        <li><a href="http://www.siteduzero.com/etudes-550-388-ecoles-d-ing%C3%A9nieurs-en-informatique.html">Ecoles d'ingénieurs en informatique</a></li>
                                                        <li><a href="http://www.siteduzero.com/etudes-550-389-ecoles-d-ing%C3%A9nieurs-generalistes.html">Ecoles d'ingénieurs généralistes</a></li>
                                                        <li><a href="http://www.siteduzero.com/etudes-550-390-autre-formation-diplomantes.html">Autres formations diplômantes</a></li>
                                                    </ul>
                                                </div>

                                                <div class="menuh_list_category">
                                                    <h6>Recrutement à Bac +5</h6>
                                                    <ul>
                                                       <li><a href="http://www.siteduzero.com/etudes-550-299-doctorats.html">Doctorats</a></li>
                                                       <li><a href="http://www.siteduzero.com/etudes-550-391-autre-formation-diplomantes.html">Autres formations diplômantes</a></li>
                                                    </ul>
                                                    <div class="menuh_list_category">
                                                        <div id="find_training">
                                                            <div><a href="http://www.siteduzero.com/etudes.html"><img src="sql_fichiers/ico_recherche_cours.png" alt=""><strong>Trouvez une formation</strong></a></div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="clear"></div>
                                    </div>

                                    <div id="menuh_shop" style="display: none;">
                                        <div class="flagship_products">
                                            <a href="http://www.siteduzero.com/boutique-614-384-peluche-zozor.html"><img src="sql_fichiers/peluche_zozor.png" alt="peluche zozor"></a>
                                            <h5>Zozor en peluche</h5>
                                            <div class="price" style="margin-top: 46px;">
                                                19 €
                                            </div>
                                            <span><a class="bouton_action fl" href="http://www.siteduzero.com/boutique-614-384-peluche-zozor.html">Acheter</a></span>
                                        </div>
                                        <div class="flagship_products">
                                            <a href="http://www.siteduzero.com/boutique-614-188-cle-usb-du-site-du-zero-8-go.html"><img src="sql_fichiers/image_usb_speedbarre.jpg" alt="cle usb"></a>
                                            <h5>Clé USB du site du Zéro</h5>
                                            <a href="http://www.siteduzero.com/boutique-614-184-cle-usb-du-site-du-zero-4-go.html">4 Go</a>
                                            - <a href="http://www.siteduzero.com/boutique-614-188-cle-usb-du-site-du-zero-8-go.html">8 Go</a>
                                            - <a href="http://www.siteduzero.com/boutique-614-191-cle-usb-du-site-du-zero-16-go.html">16 Go</a><br>
                                            <div class="price">
                                                <span class="min_price">À partir de</span><br>
                                                15,20 €
                                            </div>
                                            <span><a class="bouton_action fl" href="http://www.siteduzero.com/boutique-614-188-cle-usb-du-site-du-zero-8-go.html">Acheter</a></span>
                                        </div>

                                    <div class="other_products">
                                        <span>Concevez votre site web avec PHP et MySQL<br>
                                        <a href="http://www.siteduzero.com/boutique-614-107-concevez-votre-site-web-avec-php-et-mysql.html">En savoir plus ►</a></span>
                                        <a href="http://www.siteduzero.com/boutique-614-107-concevez-votre-site-web-avec-php-et-mysql.html">
                                        <img style="margin: 13px 0pt 0pt 22px;" alt="Concevez votre site web avec php et mysql" src="sql_fichiers/livre_cours_php_2d.png"></a>
                                    </div>

                                    <div class="other_products">
                                        <span>Apprenez à programmer en C <br>
                                        <a href="http://www.siteduzero.com/boutique-614-65-apprenez-a-programmer-en-c.html">En savoir plus ►</a></span>
                                        <a href="http://www.siteduzero.com/boutique-614-65-apprenez-a-programmer-en-c.html">
                                        <img style="margin: 13px 0pt 0pt 22px;" alt="Apprenez à programmer en C" src="sql_fichiers/livre_cours_c_2d.png"></a>
                                    </div>
                                    <div class="other_products">
                                        <span>Reprenez le contrôle à l'aide de Linux <br>
                                        <a href="http://www.siteduzero.com/boutique-614-171-reprenez-le-controle-a-l-aide-de-linux.html">En savoir plus ►</a></span>
                                        <a href="http://www.siteduzero.com/boutique-614-171-reprenez-le-controle-a-l-aide-de-linux.html">
                                        <img style="margin: 13px 0pt 0pt 22px;" alt="Reprenez le contrôle à l'aide de Linux" src="sql_fichiers/livre_cours_linux_2d.png"></a>
                                    </div>

                                    <div class="other_products">
                                        <span>Rédigez des documents de qualité avec LaTeX<br>
                                        <a href="http://www.siteduzero.com/boutique-614-207-redigez-des-documents-de-qualite-avec-latex.html">En savoir plus ►</a></span>
                                        <a href="http://www.siteduzero.com/boutique-614-207-redigez-des-documents-de-qualite-avec-latex.html">
                                        <img style="margin: 13px 0pt 0pt 22px;" alt="Rédigez des documents de qualité avec LaTeX" src="sql_fichiers/livre_cours_latex_2d.png"></a>
                                    </div>
                                      
                                    <div class="menuh_more">
                                        <a href="http://www.siteduzero.com/boutique.html">Tous les produits <img src="sql_fichiers/fleche_droite_002.png" alt="►"></a>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div id="search_bar">
                        <div class="ard"></div>
                        <form method="get" action="recherche.html" id="recherche">
                            <p>
                                <input name="src" id="champ_recherche" accesskey="4" value="Rechercher" type="text">
                                <select name="c" id="section_recherche">
                                    <option value="3" selected="selected">Cours</option>
                                    <option value="6">Forums</option>
                                    <option value="4">News</option>
                                    <option value="mbr">Membres</option>
                                    <option value="formation">Études</option>
                                    <option value="codeweb">Code web</option>
                                    <option value="mp">MP</option>
                                </select>
                                <input class="button_go_search" value="Go" type="submit">
                                <a class="button_more_search" href="http://www.siteduzero.com/recherche.html">+</a>
                            </p>
                        </form>
                        </div>

                    </div>

<script type="text/javascript">

    
        //On Hover

    var keyCodeEscape = 27;
    $(document).keyup(function(f) {
        if (f.keyCode == keyCodeEscape)
        {
            hideBlocMenu();
        }
    });


    /* Var for speedbar*/
    showDelay = 300;
    hiddenDelay = 367;
    fadeInDelay = 100
    fadeOutDelay = 100
    timer = null;
    hideTimeOut = null
    // speedbar function
    function speedShowDelay(){
        if($('.menuh_content > div').is(':visible'))
        {
            showDelay = null;
        }
        else
        {
            showDelay = 300;
        }
    }
    
    $("body").mouseleave(function(){
        $('.menuh_content > div').hide();
        $('#speedbarre .smenu>li a').removeClass("smenu_hover");
    });
    
    function showMenu(id, id2){

        $(id2).click(function(){
            clearInterval(timer);
            hideBlocMenu();
            return;
        });

        speedShowDelay();

        $("body").unbind('click');

        clearInterval(timer);
        if(!$(id).is(':visible'))
        {
            $('.menuh_content > div').hide();

            $('#speedbarre .smenu>li a').removeClass("smenu_hover");
            $('#speedbarre .smenu > li > .speedbarre_arrow').hide();

            timer=setInterval(function(){
                $(id+' ,#speedbar_expand').fadeIn(fadeInDelay);
                $(id2+' a').addClass('smenu_hover')
                clearInterval(timer);

                },showDelay);
        }
    }

    function hideMenu(id, id2){

        clearInterval(timer);
        clearTimeout(hideTimeOut);

        $("body").bind('click',function(){
            hideBlocMenu();
        });

        timer=setInterval(function(){
            $(id).fadeOut(fadeOutDelay,function(){
                $('#speedbar_expand').hide();
                $(id2+' a').removeClass("smenu_hover");
            });
            clearInterval(timer);
        },hiddenDelay)
    }

    function hideBlocMenu(){
        $('.menuh_content > div').fadeOut(fadeOutDelay, function(){
            $('#speedbar_expand').hide();
            $('#speedbarre .smenu>li a').removeClass("smenu_hover");})
    }

        /* speedbar */


    $("#speed_cours").addClass('hideOnLoad');
    $("#speed_forum").addClass('hideOnLoad');
    $("#speed_concours").addClass('hideOnLoad');
    $("#speed_job").addClass('hideOnLoad');
    $("#speed_etudes").addClass('hideOnLoad');
    $("#speed_boutique").addClass('hideOnLoad');



    $(document).mousemove(function(){
        $("#speed_cours").removeClass('hideOnLoad');
        $("#speed_forum").removeClass('hideOnLoad');
        $("#speed_concours").removeClass('hideOnLoad');
        $("#speed_job").removeClass('hideOnLoad');
        $("#speed_etudes").removeClass('hideOnLoad');
        $("#speed_boutique").removeClass('hideOnLoad');
    })


    //TUTORIALS
    $("#speed_cours, #menuh_tutorials").hover(function(){
        clearTimeout(hideTimeOut);
        id = '#menuh_tutorials';
        id2 = '#speed_cours';
        if(!$(id2).hasClass('hideOnLoad'))
        {
            hideTimeOut = setTimeout(function(){
                showMenu(id, id2);
            },100);
        }

    ;},function(){

        id = '#menuh_tutorials';
        id2 = '#speed_cours';
        hideMenu(id, id2);
    });
    //FORUMS
    $("#speed_forum, #menuh_forum").hover(function(){
        clearTimeout(hideTimeOut);
        id = '#menuh_forum';
        id2 = '#speed_forum';

        if(!$(id2).hasClass('hideOnLoad'))
        {
            hideTimeOut = setTimeout(function(){
                showMenu(id, id2);
            },100);
        }

    ;},function(){

        id = '#menuh_forum';
        id2 = '#speed_forum';
        hideMenu(id, id2);
    });

    //COLLABORATE
    $("#speed_concours, #menuh_collaborate").hover(function(){
        clearTimeout(hideTimeOut);
        id = '#menuh_collaborate';
        id2 = '#speed_concours';
        if(!$(id2).hasClass('hideOnLoad'))
        {
            hideTimeOut = setTimeout(function(){
                showMenu(id, id2);
            },100);
        }

    ;},function(){

        id = '#menuh_collaborate';
        id2 = '#speed_concours';
        hideMenu(id, id2);
    });

    //JOB
    $("#speed_job, #menuh_job").hover(function(){
        clearTimeout(hideTimeOut);
        id = '#menuh_job';
        id2 = '#speed_job';
        if(!$(id2).hasClass('hideOnLoad'))
        {
            hideTimeOut = setTimeout(function(){
                showMenu(id, id2);
            },100);
        }

    ;},function(){

        id = '#menuh_job';
        id2 = '#speed_job';
        hideMenu(id, id2);
    });

    //STUDY
    $("#speed_etudes, #menuh_study").hover(function(){
        clearTimeout(hideTimeOut);
        id = '#menuh_study';
        id2 = '#speed_etudes';
        if(!$(id2).hasClass('hideOnLoad'))
        {
            hideTimeOut = setTimeout(function(){
                showMenu(id, id2);
            },100);
        }

    ;},function(){

        id = '#menuh_study';
        id2 = '#speed_etudes';
        hideMenu(id, id2);
    });

    //SHOP
    $("#speed_boutique, #menuh_shop").hover(function(){
        clearTimeout(hideTimeOut);
        id = '#menuh_shop';
        id2 = '#speed_boutique';
        if(!$(id2).hasClass('hideOnLoad'))
        {
            hideTimeOut = setTimeout(function(){
                showMenu(id, id2);
            },100);
        }

    ;},function(){

        id = '#menuh_shop';
        id2 = '#speed_boutique';
        hideMenu(id, id2);
    });

    

</script>
            
            <div class="contenu">
                <div id="menu">
                    

                    <div class="box_menu">
                        <h5>Cours</h5>

                        <div class="corpsmenu">
                            <ul>
                                
                                    <li style="border-bottom: 0pt none; padding: 0pt 0pt 2px; background-color: rgb(226, 240, 255);">
                                        <a href="http://www.siteduzero.com/tutoriel-3-361996-par-ou-commencer.html"><img style="padding-left: 5px;" src="sql_fichiers/compass.png" class="fl" alt=""></a>
                                        <div class="liste_cours_menu" style="margin-left: 43px;">
                                            <a href="http://www.siteduzero.com/tutoriel-3-361996-par-ou-commencer.html"><strong class="menu_cours_section">Nouveau ?</strong></a>
                                            <ul>
                                                <li><a href="http://www.siteduzero.com/tutoriel-3-361996-par-ou-commencer.html">Suivez le guide !</a></li>
                                            </ul>
                                        </div>
                                    </li>
                                    <li>
                                        <a href="http://www.siteduzero.com/tutoriel-1-67-site-web.html"><img src="sql_fichiers/67.png" class="fl" alt=""></a>
                                        <div class="liste_cours_menu">
                                            <a href="http://www.siteduzero.com/tutoriel-1-67-site-web.html"><strong class="menu_cours_section">Site Web</strong></a>
                                            <ul>
                                                <li><a href="http://www.siteduzero.com/tutoriel-3-13666-apprenez-a-creer-votre-site-web.html">XHTML / CSS</a></li>
                                                <li><a href="http://www.siteduzero.com/tutoriel-3-309961-dynamisez-vos-sites-web-avec-javascript.html">Javascript</a></li>
                                                <li><a href="http://www.siteduzero.com/tutoriel-3-14668-concevez-votre-site-web-avec-php-et-mysql.html">PHP / MySQL</a></li>
                                                <li><a href="http://www.siteduzero.com/tutoriel-3-112219-apprenez-a-creer-des-applications-web-dynamiques-avec-jee.html">Java EE (J2EE)</a></li>
                                            </ul>
                                        </div>
                                    </li>
                                    <li>
                                        <a href="http://www.siteduzero.com/tutoriel-1-57-programmation.html"><img src="sql_fichiers/57.png" class="fl" alt=""></a>
                                        <div class="liste_cours_menu">
                                            <a href="http://www.siteduzero.com/tutoriel-1-57-programmation.html"><strong class="menu_cours_section">Programmation</strong></a>
                                            <ul>
                                                <li><a href="http://www.siteduzero.com/tutoriel-3-14189-apprenez-a-programmer-en-c.html">Langage C</a></li>
                                                <li><a href="http://www.siteduzero.com/tutoriel-3-11406-apprenez-a-programmer-en-c.html">Langage C++</a></li>
                                                <li><a href="http://www.siteduzero.com/tutoriel-3-10601-programmation-en-java.html">Java</a></li>
                                                <li><a href="http://www.siteduzero.com/tutoriel-3-119239-programmation-en-java-api.html">Java (API)</a></li>
                                                <li><a href="http://www.siteduzero.com/tutoriel-3-223267-apprendre-python.html">Python </a></li>
                                                <li><a href="http://www.siteduzero.com/tutoriel-3-134798-visual_basic_net.html">VB .NET</a></li>
                                            </ul>
                                        </div>
                                    </li>
                                    <li>                                        
                                        <a href="http://www.siteduzero.com/tutoriel-1-60-systemes-d-exploitation.html"><img src="sql_fichiers/60.png" class="fl" alt=""></a>
                                        <div class="liste_cours_menu">
                                            <a href="http://www.siteduzero.com/tutoriel-1-60-systemes-d-exploitation.html"><strong class="menu_cours_section">Systèmes d'exploitation</strong></a>
                                            <ul>
                                                <li><a href="http://www.siteduzero.com/tutoriel-3-12827-reprenez-le-controle-a-l-aide-de-linux.html">Linux</a></li>
                                                <li><a href="http://www.siteduzero.com/tutoriel-3-273305-freebsd-et-l-envers-du-decor.html">FreeBSD</a></li>
                                            </ul>
                                        </div>
                                    </li>
                                    <li>
                                        <a href="http://www.siteduzero.com/tutoriel-1-56-graphisme.html"><img src="sql_fichiers/56.png" class="fl" alt=""></a>
                                        <div class="liste_cours_menu">
                                            <a href="http://www.siteduzero.com/tutoriel-1-56-graphisme.html"><strong class="menu_cours_section">Graphisme</strong></a>
                                            <ul>
                                                <li><a href="http://www.siteduzero.com/tutoriel-3-351765-debuter-sur-adobe-photoshop.html">Photoshop</a></li>
                                            </ul>
                                        </div>
                                    </li>
                                    <li>
                                        <a href="http://www.siteduzero.com/tutoriel-1-58-infographie-3d.html"><img src="sql_fichiers/58.png" class="fl" alt=""></a>
                                        <div class="liste_cours_menu">
                                            <a href="http://www.siteduzero.com/tutoriel-1-58-infographie-3d.html"><strong class="menu_cours_section">Infographie 3D</strong></a>
                                            <ul>
                                                <li><a href="http://www.siteduzero.com/tutoriel-3-11714-debutez-dans-la-3d-avec-blender.html">Blender</a></li>
                                                <li><a href="http://www.siteduzero.com/tutoriel-3-228998-apprenez-a-modeliser-en-3d-avec-autodesk-maya.html">Maya</a></li>
                                            </ul>
                                        </div>
                                    </li>

                                    <li>
                                        <a href="http://www.siteduzero.com/tutoriel-1-55-bureautique.html"><img src="sql_fichiers/55.png" class="fl" alt=""></a>
                                        <div class="liste_cours_menu">
                                            <a href="http://www.siteduzero.com/tutoriel-1-55-bureautique.html"><strong class="menu_cours_section">Bureautique</strong></a>
                                            <ul>
                                                <li><a href="http://www.siteduzero.com/tutoriel-3-258577-redigez-des-documents-de-qualite-professionnelle-avec-latex.html">LaTeX </a></li>
                                            </ul>
                                        </div>
                                        
                                    </li>
                                    
                                    
                                    <li class="last_idem_liste">
                                        <img src="sql_fichiers/die.png" class="fl" alt="">
                                        <div class="liste_cours_menu">
                                            <strong class="menu_cours_section">Tutoriel du jour</strong><br>
                                            <a href="http://www.siteduzero.com/tutoriel-3-35024-selecteur-css-simple-proposer-differents-styles.html">Sélecteur CSS simple - Proposer différents styles</a><br>
                                        </div>
                                        <div id="menu_ajout_cours">
                                            
                                                <a href="http://www.siteduzero.com/tutoriel-3-256867-devenez-auteur-de-cours-sur-le-site-du-zero-et-le-livre-du-zero.html">
                                            
                                            Rédigez un cours <img src="sql_fichiers/add.png" alt="">&nbsp;</a>
                                        </div>
                                        <a href="http://www.siteduzero.com/tutoriel.html" class="fr">Tous les cours  <img src="sql_fichiers/fleche_droite.png" alt="">&nbsp;</a><br>
                                    </li>
                                
                            </ul>
                        </div>
                    </div>
                </div>

                <div id="corps">
                    <div id="zozor_position">
                        <div id="zozor">
                            <div class="centre"><img src="sql_fichiers/zozor6.png" alt=" Zozor" title=" Zozor"></div>
                       </div>
                    </div>

                    <div id="container_bulle_zozor">
                        
                    </div>

                    <div id="arbre">
                        
			&gt;  <a href="http://www.siteduzero.com/">Le Site du Zéro</a>
		
			&gt;  <a href="http://www.siteduzero.com/tutoriel.html">Cours</a>
			 &gt;  <a href="http://www.siteduzero.com/tutoriel-1-352-tutoriels.html">Tutoriels</a>
		 &gt;  <a href="http://www.siteduzero.com/tutoriel-2-404-bases-de-donnees.html">Bases de données</a>
		&gt;  <a href="http://www.siteduzero.com/tutoriel-3-9866-pour-aller-plus-loin.html">Pour aller plus loin...</a> 

&gt; Lecture du tutoriel

                    </div>

                    


<h1>Pour aller plus loin...</h1>


<div id="onglets_tutos" class="onglets_tutos">
  <ul>
    
      <li class="selected">
      <a href="http://www.siteduzero.com/tutoriel-3-9866-pour-aller-plus-loin.html">Tutoriel</a></li>
    
      <li>
      <a href="http://www.siteduzero.com/tutoriel-50-9866-p1-pour-aller-plus-loin.html#r59052">8 commentaires</a></li>
    
      <li>
      <a href="http://www.siteduzero.com/tutoriel-21-9866-pour-aller-plus-loin.html">Historique</a></li>
    
  </ul>
</div>
<hr class="bas_onglets">





<div class="cadre_auteur_date">
  <form action="tutoriel-54-9866.html" method="post">
    <div class="dnone"><input value="f53c5344a072a968120ed40ad0c32357aa206891" name="challenge" type="hidden"></div>

    <div class="infobox">
<h3 class="special">Informations sur le tutoriel</h3>
<div class="conteneur_infobox">
<table>
  <tbody><tr>
    <td>
    <div class="boite_avatar_100px">
      <a href="http://www.siteduzero.com/"><img src="sql_fichiers/300.jpg" style="width: 93px; height: 100px; display: block;" alt="Avatar" class="avatar" id="avatar302"></a>  
     </div>
    </td>
    <td>
     
      <strong>Auteur</strong> :
      
    
	    <a class="auteur_tut" href="http://www.siteduzero.com/membres-294-302.html">Shepard</a>
    
      <br>
    
      <br>
      <br>
      <a href="#tuto_details" onclick="toggle('infos_detaillees'); return false;">Plus d'informations <img src="sql_fichiers/fleche_bas.png" alt="Plus d'informations" title="Plus d'informations" id="image_detail"></a>

      <div style="display: none;" id="infos_detaillees">
	<br>			
<strong>Créé</strong> : Le 12/04/2006 à 00:35:08<br>
<strong>Modifié</strong> : Le 29/06/2009 à 11:32:48<br>

<strong>Avancement</strong> : 0%<br>

<strong>Licence</strong> : Copie non autorisée<br><br>


<a href="http://www.siteduzero.com/tutoriel-50-9866-59052-pour-aller-plus-loin.html#r59052">8 commentaires</a><br>

  <a href="http://www.siteduzero.com/tutoriel-3-9866-pour-aller-plus-loin.html">Revenir au sommaire du tutoriel</a><br>


      </div>

    </td>
  </tr>
</tbody></table>
</div>
</div>


    <div class="infobox">
        <h3 class="special">Popularité</h3>
        <div class="conteneur_infobox">
            <strong>Visualisations</strong> : 639&nbsp;424<br><br>
            <div style="padding-top: 1px; float: left;"><strong>Appréciation<br>des lecteurs</strong> : </div>
            <div class="tut_appreciation">
                <div class="tut_appreciation_smiley" id="smiley-1-84--115111" style="background-position: -19px 50%;"><img src="sql_fichiers/empty.gif" alt=""></div>
                <span id="eval_nb-1">0</span>
            </div>
            <div class="tut_appreciation">
                <div class="tut_appreciation_smiley" id="smiley-2-84--115111" style="background-position: -57px 50%;"><img src="sql_fichiers/empty.gif" alt=""></div>
                <span id="eval_nb-2">0</span>
            </div>
            <div class="tut_appreciation">
                <div class="tut_appreciation_smiley" id="smiley-3-84--115111" style="background-position: -95px 50%;"><img src="sql_fichiers/empty.gif" alt=""></div>
                <span id="eval_nb-3">0</span>
            </div>
            <div class="tut_appreciation">
                <div class="tut_appreciation_smiley eval_always_color" id="smiley-4-84--115111" style="background-position: -114px 50%;"><img src="sql_fichiers/empty.gif" alt=""></div>
                <span id="eval_nb-4">19</span>
            </div>
            
            <div style="clear: both;"></div>
                
                    <p id="tut_vot_ldz" style="text-align: center;"><img src="sql_fichiers/thb_livre_cours_c.png" id="tut_vot_ldz_img" alt="">
                    
                                <b>11 personnes</b> souhaitent voir ce tutoriel publié en livre ! <br> <a href="http://www.siteduzero.com/vote/ldz/84.html" id="tut_vot_ldz_link">Vous aussi ?</a>
                            
            </p>
        </div>
    </div>


<div class="infobox" id="pave_pub_tuto" style="">
<h3 class="special">Publicité</h3>
<div class="conteneur_infobox">
<table style="width: 100%;">
  <tbody><tr>
    <td colspan="2" id="menu_pub_tuto">
        
        <script type="text/javascript" src="sql_fichiers/adserverPub.js"></script><script src="sql_fichiers/a.js"></script>
        <noscript>
            <a href="http://www.smartadserver.com/call/pubjumpi/22332/152674/1825/M/[timestamp]/?">
            <img src="http://www.smartadserver.com/call/pubi/22332/152674/1825/M/[timestamp]/?"
            border="0" alt="" /></a>
        </noscript>
        
    </td>
  </tr>
</tbody></table>
</div>
</div>

    
	<div class="infobox">
		<h3 class="special">Historique des mises à jour</h3>
		<div class="conteneur_infobox">
			<ul>
				
					<li>
						<em>Le 05/01/2011 à 16:21:49</em><br>
						Erreur de validation.
					</li>
			  
					<li>
						<em>Le 05/01/2011 à 16:20:12</em><br>
						Correction d'images.
					</li>
			  
					<li>
						<em>Le 29/06/2009 à 11:32:47</em><br>
						correction d'une faute
					</li>
			  
			</ul>
		</div>
	</div>


    
  </form>
</div>

<div id="btuto_intro">
	<div class="rmq question">C'est quoi tous ces trucs que je vois sur les
 forums et auxquels je ne comprends rien à rien ?? J'en ai marre de 
passer pour un idiot, que quelqu'un m'expliiiique !!</div><br>
<br>
Tiens ben ça tombe bien : c'est justement pour ça que ce tutorial est conçu <img src="sql_fichiers/langue.png" alt=":p" class="smilies"> .<br>
Comme pour tous les cours de ce site, on part de Zér0, ici je 
considérerai que Zér0, c'est le cours à M@teo... Donc avant de vous 
lancer, allez au moins relire <a href="http://www.siteduzero.com/tuto-3-4-0-un-site-dynamique-avec-php.html#part_20">ceci</a> si votre cerveau vous paraît embrouillé sur certains points <img src="sql_fichiers/clin.png" alt=";)" class="smilies"> .<br>
<br>
Je vous conseille également fortement de lire les chapitres dans 
l'ordre, la plupart s'appuient sur des concepts vus précédemment. Mais 
si vous êtes attentif et que vous vous appliquez, vous vous demanderez 
bientôt pourquoi tous les Zér0s n'utilisent pas les techniques citées 
ici <img src="sql_fichiers/heureux.png" alt=":D" class="smilies"> .
</div>

<hr>



<div id="pre_liste_parties">
	Ce cours est composé des parties suivantes :
</div>

<ul id="liste_parties">
	
		<li><a href="#part_9865">SELECT: Une puissance négligée</a></li>
	
</ul>
		<ul class="liste_parties_btut">
		
		<li>
		<hr class="separateur_parties">
		<h2 id="part_9865">Partie 1 : SELECT: Une puissance négligée</h2>
		<div>
			A la fin du cours de M@teo, vous croyiez peut-être tout savoir ?<br>
Je vais vous démontrer le contraire rien que sur les requêtes SELECT !
		</div>
			
				<ul class="liste_chapitres_btut">
				
					<li>
						<br><br><a href="#chap_9795">1) Avant de commencer : utilisation de la console MySQL</a>
						<div class="icone_chap">
							
								<img src="sql_fichiers/6113.png" alt="Icône du chapitre" class="icone_chapitre">
							
						</div>
						<div class="droite_chapitre">
						<ul class="liste_btuto_chap">
							
									<li><a href="#ss_part_9798">Lancer le client</a></li>
								
									<li><a href="#ss_part_9797">Tests : est-ce que ça marche ?</a></li>
								
									<li><a href="#ss_part_9796">Quelques explications...</a></li>
								
						</ul>
						</div>
						<div class="clearer"> </div>
					</li>
				
					<li>
						<br><br><a href="#chap_9806">2) Sélectionner une valeur... ne provenant pas d'une table !</a>
						<div class="icone_chap">
							
								<img src="sql_fichiers/6063.png" alt="Icône du chapitre" class="icone_chapitre">
							
						</div>
						<div class="droite_chapitre">
						<ul class="liste_btuto_chap">
							
									<li><a href="#ss_part_9805">Quelques bases...</a></li>
								
									<li><a href="#ss_part_9804">Les fonctions MySQL</a></li>
								
									<li><a href="#ss_part_9803">Les fonctions utilisateur</a></li>
								
						</ul>
						</div>
						<div class="clearer"> </div>
					</li>
				
					<li>
						<br><br><a href="#chap_9812">3) Les variables utilisateur</a>
						<div class="icone_chap">
							
								<img src="sql_fichiers/6145.png" alt="Icône du chapitre" class="icone_chapitre">
							
						</div>
						<div class="droite_chapitre">
						<ul class="liste_btuto_chap">
							
									<li><a href="#ss_part_9816">Variables utilisateur ?</a></li>
								
									<li><a href="#ss_part_9815">Déclarer et utiliser une variable</a></li>
								
									<li><a href="#ss_part_9814">Mini-TP : un classement</a></li>
								
									<li><a href="#ss_part_9813">Un autre exemple : sélection au hasard</a></li>
								
						</ul>
						</div>
						<div class="clearer"> </div>
					</li>
				
					<li>
						<br><br><a href="#chap_9824">4) Traitement des "NULL"s</a>
						<div class="icone_chap">
							
								<img src="sql_fichiers/6157.png" alt="Icône du chapitre" class="icone_chapitre">
							
						</div>
						<div class="droite_chapitre">
						<ul class="liste_btuto_chap">
							
									<li><a href="#ss_part_9823">Spécificités des valeurs nulles</a></li>
								
									<li><a href="#ss_part_9822">Les fonctions de traitement des valeurs nulles</a></li>
								
									<li><a href="#ss_part_9821">Le système de classement en une seule requête !</a></li>
								
						</ul>
						</div>
						<div class="clearer"> </div>
					</li>
				
					<li>
						<br><br><a href="#chap_9834">5) Les conditions</a>
						<div class="icone_chap">
							
								<img src="sql_fichiers/6253.png" alt="Icône du chapitre" class="icone_chapitre">
							
						</div>
						<div class="droite_chapitre">
						<ul class="liste_btuto_chap">
							
									<li><a href="#ss_part_9833">Des conditions en SQL ? Différences entre MySQL et la norme</a></li>
								
									<li><a href="#ss_part_9832">Utilisation de CASE</a></li>
								
									<li><a href="#ss_part_9831">Les autres structures conditionnelles</a></li>
								
									<li><a href="#ss_part_9830">[Problème SQL] Somme des nombres si leur nombre correspond à un nombre...</a></li>
								
						</ul>
						</div>
						<div class="clearer"> </div>
					</li>
				
					<li>
						<br><br><a href="#chap_9845">6) Et si on faisait un peu de SQL ? ...</a>
						<div class="icone_chap">
							
								<img src="sql_fichiers/19908.png" alt="Icône du chapitre" class="icone_chapitre">
							
						</div>
						<div class="droite_chapitre">
						<ul class="liste_btuto_chap">
							
									<li><a href="#ss_part_9844">La norme SQL ?</a></li>
								
									<li><a href="#ss_part_9843">Quelques données de test</a></li>
								
									<li><a href="#ss_part_9842">Enfin une requête conforme !</a></li>
								
									<li><a href="#ss_part_9841">SELECT ... FROM ( SELECT ... FROM ... )</a></li>
								
									<li><a href="#ss_part_9846">DISTINCT</a></li>
								
						</ul>
						</div>
						<div class="clearer"> </div>
					</li>
				
					<li>
						<br><br><a href="#chap_9856">7) Filtrer les données avec WHERE</a>
						<div class="icone_chap">
							
								<img src="sql_fichiers/19926.png" alt="Icône du chapitre" class="icone_chapitre">
							
						</div>
						<div class="droite_chapitre">
						<ul class="liste_btuto_chap">
							
									<li><a href="#ss_part_9855">A propos de la clause WHERE...</a></li>
								
									<li><a href="#ss_part_9854">Les opérateurs de comparaison</a></li>
								
									<li><a href="#ss_part_9853">(NOT) BETWEEN, IN et LIKE</a></li>
								
									<li><a href="#ss_part_9852">[Problème SQL] Qui est plus grand que le dernier plus grand ?</a></li>
								
						</ul>
						</div>
						<div class="clearer"> </div>
					</li>
				
					<li>
						<br><br><a href="#chap_9864">8) Un peu de stats avec GROUP BY ( 1 / 2 )</a>
						<div class="icone_chap">
							
								<img src="sql_fichiers/20020.png" alt="Icône du chapitre" class="icone_chapitre">
							
						</div>
						<div class="droite_chapitre">
						<ul class="liste_btuto_chap">
							
									<li><a href="#ss_part_9863">Les fonctions statistiques de MySQL</a></li>
								
									<li><a href="#ss_part_9862">Grouper les données avec GROUP BY</a></li>
								
									<li><a href="#ss_part_9861">Les fonctions statistiques agissent sur des groupes !!</a></li>
								
						</ul>
						</div>
						<div class="clearer"> </div>
					</li>
				
					<li>
						<br><br><a href="#chap_136008">9) Un peu de stats avec GROUP BY ( 2 / 2 )</a>
						<div class="icone_chap">
							
								<img src="sql_fichiers/22843.png" alt="Icône du chapitre" class="icone_chapitre">
							
						</div>
						<div class="droite_chapitre">
						<ul class="liste_btuto_chap">
							
									<li><a href="#ss_part_136007">Fonctionnalités moins connues</a></li>
								
						</ul>
						</div>
						<div class="clearer"> </div>
					</li>
				
				</ul>
				<div>
					<br>
					
				</div>
			
		</li>
		
		</ul>

<hr>
<h2>Partie 1 : SELECT: Une puissance négligée</h2>
<div>
A la fin du cours de M@teo, vous croyiez peut-être tout savoir ?<br>
Je vais vous démontrer le contraire rien que sur les requêtes SELECT !
</div>
	
	<hr>
	<h1 id="chap_9795">Avant de commencer : utilisation de la console MySQL</h1>
	<div id="chap_intro">
	Dans ce chapitre, vous allez apprendre à vous servir du client en ligne
 de commande de MySQL, c'est pour moi le moyen le plus simple et le plus
 rapide d'effectuer des tests avec MySQL.
	</div>
		
		<hr class="separateur_parties">
		<h2 id="ss_part_9798">Lancer le client</h2>
		<div class="ss_part_texte">
		Notez que quand je dis "lancer le client", celà n'est possible qu'en 
local sur votre machine. En effet pas question de lancer ce client sur 
une machine distante telle que celle de votre hébergeur, à moins que 
vous n'y ayez un accès sécurisé (<a href="http://fr.wikipedia.org/wiki/SSH">SSH</a>)<br>
<br>
<h3>Sous Windows - WampServer</h3><br>
<br>
Lancer le client sous Windows avec WampServer, il n'y a rien de plus 
simple : dans la dernière version, soit WAMP5 1.6.0, il suffit de 
cliquer sur l'icône du systray (en supposant bien sur que WAMP5 est 
lancé), puis de cliquer sur <span class="italique">MySQL console</span> du menu <span class="italique">MySQL</span>.
 Entrez ensuite votre mot de passe (par défaut, appuyez simplement sur 
ENTRÉE). Voici ce que vous devriez obtenir (sous WAMP5 1.6.0) :<br>
<br>
<div class="centre"><img src="sql_fichiers/10216.png" alt="Image utilisateur"><br>
<img src="sql_fichiers/10218.png" alt="Image utilisateur"></div><br>
<br>
<h3>Sous Windows - Autres</h3><br>
<br>
Si vous n'utilisez pas Wamp, ou que vous n'aimez pas son menu ( <img src="sql_fichiers/langue.png" alt=":p" class="smilies"> ), il y a une autre solution : lancer le client avec la ligne de commande de Windows.<br>
<br>
Pour commencer, il faut repérer le fichier mysql du dossier 
d'installation de mysql. Ca pourrait être : "C:\Program 
Files\EsayPHP1-8\mysql\bin\mysql.exe".<br>
<br>
Appuyez simultanément sur la touche "Windows" du clavier (entre "ctrl" 
et "alt" en bas à gauche) et sur R pour lancer l'exécuteur Windows. 
Tapez ensuite "cmd" puis ENTER.<br>
<br>
Ensuite, il faut commencer par aller dans le répertoire où se trouve 
mysql.exe grâce à la commande "cd". Enfin, pour lancer le client, il 
faut faire "mysql.exe --user=root --password=<span class="italique">mot_de_passe</span>. Ce qui donne :<br>
<br>
<span class="code">Code : Console - <a href="#" class="select_code">Sélectionner</a></span><div class="code2 console"><table class="syntaxtable"><tbody><tr><td class="linenos"><pre></pre></td><td class="code"><div class="syntax"><pre>cd&nbsp;"C:\Program&nbsp;Files\EasyPHP1-8\mysql\bin"
mysql.exe&nbsp;--user=root</pre></div></td></tr></tbody></table></div><br>
<br>
Généralement, vous pouvez remplacer utilisateur par root et omettre la clause --password.<br>
<br>
En images : (remarquez que j'exécute directement la commande dans 
l'exécuteur de Windows, si vous n'y arrivez pas de cette façon, reprenez
 la méthode du dessus).<br>
<br>
<div class="centre"><img src="sql_fichiers/10220.png" alt="Image utilisateur"><br>
<img src="sql_fichiers/10222.png" alt="Image utilisateur"></div><br>
<br>
<h3>Sous Unix ( Linux, BSD,...)</h3><br>
<br>
Sous Unix, lancez une console et tapez mysql -u root (Et ça fait une 
belle claque pour tous ceux qui disent que Windows est plus simple que 
Linux ^^).<br>
<br>
<div class="centre"><img src="sql_fichiers/10224.png" alt="Image utilisateur"></div><br>
<br>
A noter que si la console vous répond quelque chose du genre <span class="italique">ERROR 1045 (28000): Access denied for user 'root'@'localhost' (using password: NO)</span>, ajouter l'option -p pourra vous permettre d'indiquer un mot de passe <img src="sql_fichiers/smile.png" alt=":)" class="smilies"><br>
<br>
<span class="code">Code : Console - <a href="#" class="select_code">Sélectionner</a></span><div class="code2 console"><table class="syntaxtable"><tbody><tr><td class="linenos"><pre></pre></td><td class="code"><div class="syntax"><pre>mysql&nbsp;-u&nbsp;root&nbsp;-p</pre></div></td></tr></tbody></table></div>
		</div>
		<hr>
		
		<hr class="separateur_parties">
		<h2 id="ss_part_9797">Tests : est-ce que ça marche ?</h2>
		<div class="ss_part_texte">
		On va maintenant voir si tout marche bien sur notre installation de MySQL.<br>
<br>
<h3>Test 1 : test des fonctionnalités</h3><br>
<br>
Lancez cette commande :<br>
<br>
<span class="code">Code : SQL - <a href="#" class="select_code">Sélectionner</a></span><div class="code2 sql"><table class="syntaxtable"><tbody><tr><td class="linenos"><pre>1</pre></td><td class="code"><div class="syntax"><pre><span class="k">SELECT</span> <span class="s1">'essai'</span> <span class="k">AS</span> <span class="n">test</span><span class="p">;</span>
</pre></div>
</td></tr></tbody></table></div><br>
<br>
Vous devriez voir ceci (ou quelque chose qui y ressemble en tout cas, dans le cas contraire, bah postez un message sur le forum <img src="sql_fichiers/langue.png" alt=":p" class="smilies"> ) :<br>
<br>
<div class="centre"><img src="sql_fichiers/10225.png" alt="Image utilisateur"></div><br>
<br>
<h3>Test 2 : test des droits</h3><br>
<br>
Normalement, vous devriez être logué en tant que root : sous Windows, 
c'est fait automatiquement la plupart du temps, et je vous ai expliqué 
sous linux comment vous loguer en tant que tel.<br>
<br>
Nous allons, histoire d'être sûrs, tester que nous avons bien les droits
 create et drop, logiquement, si vous avez ces deux là, vous devriez 
tous les avoir.<br>
<br>
Lancez donc ces deux commandes l'une après l'autre et regardez si vous obtenez à peu près le même résultat que moi :<br>
<br>
<span class="code">Code : SQL - <a href="#" class="select_code">Sélectionner</a></span><div class="code2 sql"><table class="syntaxtable"><tbody><tr><td class="linenos"><pre>1
2
3
4
5</pre></td><td class="code"><div class="syntax"><pre><span class="k">SHOW</span> <span class="n">DATABASES</span><span class="p">;</span>
<span class="k">CREATE</span> <span class="k">DATABASE</span> <span class="n">abcxtest</span><span class="p">;</span>
<span class="k">SHOW</span> <span class="n">DATABASES</span><span class="p">;</span>
<span class="k">DROP</span> <span class="k">DATABASE</span> <span class="n">abcxtest</span><span class="p">;</span>
<span class="k">SHOW</span> <span class="n">DATABASES</span><span class="p">;</span>
</pre></div>
</td></tr></tbody></table></div><br>
<br>
<div class="centre"><img src="sql_fichiers/10226.png" alt="Image utilisateur"></div><br>
<br>
Si vous avez le même que moi, c'est bon ! Sinon vous n'êtes probablement
 pas connecté en tant que root, auquel cas je vous conseille, sous 
linux, de relire la sous-partie précédente, et sous Windows, de vérifier
 vos paramètres de connexion, et, pourquoi pas, d'ajouter <strong>-u root</strong> à votre ligne de commande (<strong>-u root -p</strong> si vous avez configuré un mot de passe pour root).
		</div>
		<hr>
		
		<hr class="separateur_parties">
		<h2 id="ss_part_9796">Quelques explications...</h2>
		<div class="ss_part_texte">
		Bon, c'est bien beau tout ça : ça fonctionne, ça va vite, ça fait pro, c'est beau,...<br>
<br>
Oui mais pourquoi quand je fais ça : SELECT 'bonjour', ça m'affiche deux fois "bonjour" dans un tableau ?<br>
<br>
En fait, la première ligne du tableau comporte les noms des différentes 
colonnes, tandis que les lignes suivantes comportent les données. 
Reprenons l'exemple précédent :<br>
<br>
<div class="centre"><img src="sql_fichiers/10226.png" alt="Image utilisateur"></div><br>
<br>
On voit bien, dans le résultat de la dernière requête par exemple, que 
"Database" est le nom de la colonne, et que "information_schema", 
"mysql" et "test" sont les données contenues dans cette colonne (en 
l'occurence les noms des différentes bases de données présentes sur le 
serveur).
		</div>
		<hr>
		
	<div id="chap_conclusion">
	Comme vous avez pu le constater, la console MySQL est très pratique 
pour effectuer quelques tests avant de mettre la requête dans PHP. De 
plus elle répond trés rapidement par rapport au chargement d'une page 
PHP.
	</div>
	
	<hr>
	<h1 id="chap_9806">Sélectionner une valeur... ne provenant pas d'une table !</h1>
	<div id="chap_intro">
	Un premier chapitre peut-être pas des plus attractifs mais nécessaire pour la suite.<br>
<br>
Vous vous demandez plus que certainement à quoi peut bien servir une 
requête appelant des données ne provenant pas d'une table. Je vous le 
dis tout de suite, pas à énormément de choses, mais dans certains cas, 
ça peut être très pratique.<br>
<br>
Nous verrons plusieurs cas : simplement sélectionner une valeur, 
sélectionner une valeur ayant subi des "transformations", les variables 
utilisateur et enfin les fonctions utilisateur (qui n'existent qu'à 
partir de MySQL 5).<br>
<br>
Allez, c'est parti !
	</div>
		
		<hr class="separateur_parties">
		<h2 id="ss_part_9805">Quelques bases...</h2>
		<div class="ss_part_texte">
		<h3>Sélectionner une valeur</h3><br>
<br>
Essayez donc d'exécuter la requête suivante :<br>
<br>
<span class="code">Code : SQL - <a href="#" class="select_code">Sélectionner</a></span><div class="code2 sql"><table class="syntaxtable"><tbody><tr><td class="linenos"><pre>1</pre></td><td class="code"><div class="syntax"><pre><span class="k">SELECT</span> <span class="s1">'bonjour'</span><span class="p">;</span>
</pre></div>
</td></tr></tbody></table></div><br>
<img src="sql_fichiers/10125.png" alt="Image utilisateur"><br>
<br>
Vous vous demandez peut-être pourquoi je vous montre ça, et bien juste 
parce que beaucoup d'entre vous ne savez pas que la clause FROM n'est <strong>pas</strong>
 obligatoire dans une requête SELECT ! Vous vous en doutez certainement 
vu le titre de ce chapitre : la plupart des requêtes qui suivent seront 
basées sur le même modèle... <img src="sql_fichiers/langue.png" alt=":p" class="smilies"><br>
<br>
<h3>Utilisation des apostrophes</h3><br>
<br>
A propos, faisons une petite mise au point à propos de l'utilisation des apostrophes autour des valeurs ...<br>
<br>
<ul>
<li>Pour les valeurs numériques, les apostrophes ne sont pas obligatoires :<br>
<span class="code">Code : SQL - <a href="#" class="select_code">Sélectionner</a></span><div class="code2 sql"><table class="syntaxtable"><tbody><tr><td class="linenos"><pre>1</pre></td><td class="code"><div class="syntax"><pre><span class="k">SELECT</span> <span class="mi">5</span><span class="p">;</span>
</pre></div>
</td></tr></tbody></table></div></li>
<li>Pour les valeurs littérales, les apostrophes sont obligatoires :<br>
<span class="code">Code : SQL - <a href="#" class="select_code">Sélectionner</a></span><div class="code2 sql"><table class="syntaxtable"><tbody><tr><td class="linenos"><pre>1</pre></td><td class="code"><div class="syntax"><pre><span class="k">SELECT</span> <span class="s1">'bonjour'</span><span class="p">;</span>
</pre></div>
</td></tr></tbody></table></div></li>
<li>Pour les valeurs horodataires, les apostrophes sont obligatoires :<br>
<span class="code">Code : SQL - <a href="#" class="select_code">Sélectionner</a></span><div class="code2 sql"><table class="syntaxtable"><tbody><tr><td class="linenos"><pre>1</pre></td><td class="code"><div class="syntax"><pre><span class="k">SELECT</span> <span class="s1">'01:13:54'</span><span class="p">;</span>
</pre></div>
</td></tr></tbody></table></div></li>
<li>Les valeurs TRUE, FALSE et NULL ( on en reparlera plus tard ) s'écrivent sans apostrophe :<br>
<span class="code">Code : SQL - <a href="#" class="select_code">Sélectionner</a></span><div class="code2 sql"><table class="syntaxtable"><tbody><tr><td class="linenos"><pre>1</pre></td><td class="code"><div class="syntax"><pre><span class="k">SELECT</span> <span class="k">NULL</span><span class="p">;</span>
</pre></div>
</td></tr></tbody></table></div></li>
</ul><br>
<br>
<div class="rmq information">Il est fortement conseillé d'utiliser les 
apostrophes et non pas les guillemets car la norme SQL prévoit 
l'utilisation des apostrophes et non des guillemets. Respecter la norme 
vous permettra d'éviter bien des déboires si vous décidez un jour de 
changer de moteur de gestion de base de données (PostGreSQL, SQLite,... )</div><br>
<br>
Pour écrire une apostrophe, il suffit de la doubler :<br>
<span class="code">Code : SQL - <a href="#" class="select_code">Sélectionner</a></span><div class="code2 sql"><table class="syntaxtable"><tbody><tr><td class="linenos"><pre>1</pre></td><td class="code"><div class="syntax"><pre><span class="k">SELECT</span> <span class="s1">'On m''appelle Shepard'</span><span class="p">;</span>
</pre></div>
</td></tr></tbody></table></div><br>
<div class="centre"><img src="sql_fichiers/10126.png" alt="Image utilisateur"></div><br>
<br>
Il est fortement recommandé de toujours terminer ses requêtes par un 
point-virgule. Pourquoi ? Parce que quand on en arrivera au chapitre sur
 les transactions, si vous n'avez pas encore pris cette habitude, vous 
risquez d'être confrontés à quelques ennuis. Retenez simplement ceci : 
toute requête SQL doit se terminer par un point-virgule.<br>
<br>
<h3>Le renommage de colonnes avec AS</h3><br>
<br>
Bien sûr, on peut sélectionner plusieurs valeurs en les séparant par des virgules :<br>
<span class="code">Code : SQL - <a href="#" class="select_code">Sélectionner</a></span><div class="code2 sql"><table class="syntaxtable"><tbody><tr><td class="linenos"><pre>1</pre></td><td class="code"><div class="syntax"><pre><span class="k">SELECT</span> <span class="s1">'bonjour'</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">'01:25:18'</span><span class="p">;</span>
</pre></div>
</td></tr></tbody></table></div><br>
<br>
Qui renvoie :<br>
<div class="centre"><img src="sql_fichiers/10127.png" alt="Image utilisateur"></div><br>
<br>
Vous remarquez que les noms de colonnes ne sont pas vraiment... 
pratiques. C'est pour ça qu'existe le renommage de colonnes. Exemple :<br>
<span class="code">Code : SQL - <a href="#" class="select_code">Sélectionner</a></span><div class="code2 sql"><table class="syntaxtable"><tbody><tr><td class="linenos"><pre>1</pre></td><td class="code"><div class="syntax"><pre><span class="k">SELECT</span> <span class="s1">'bonjour'</span> <span class="k">AS</span> <span class="n">exemple_texte</span><span class="p">,</span> <span class="mi">1</span> <span class="k">AS</span> <span class="n">exemple_nombre</span><span class="p">,</span> <span class="s1">'01:25:18'</span> <span class="k">AS</span> <span class="n">exemple_heure</span><span class="p">;</span>
</pre></div>
</td></tr></tbody></table></div><br>
<br>
Résultat :<br>
<div class="centre"><img src="sql_fichiers/10128.png" alt="Image utilisateur"></div><br>
<br>
On peut aussi mettre des noms plus exotiques grâce aux accents :<br>
<span class="code">Code : SQL - <a href="#" class="select_code">Sélectionner</a></span><div class="code2 sql"><table class="syntaxtable"><tbody><tr><td class="linenos"><pre>1</pre></td><td class="code"><div class="syntax"><pre><span class="k">SELECT</span> <span class="s1">'bonjour'</span> <span class="k">AS</span> <span class="o">`</span><span class="n">Du</span> <span class="n">texte</span><span class="o">`</span><span class="p">,</span> <span class="mi">1</span> <span class="k">AS</span> <span class="o">`</span><span class="n">Un</span> <span class="n">chiffre</span><span class="o">`</span><span class="p">,</span> <span class="s1">'01:25:18'</span> <span class="k">AS</span> <span class="o">`</span><span class="n">De</span> <span class="n">l</span><span class="err">'</span><span class="n">horodatage</span><span class="o">`</span><span class="p">;</span>
</pre></div>
</td></tr></tbody></table></div><br>
<br>
<div class="centre"><img src="sql_fichiers/10129.png" alt="Image utilisateur"></div><br>
<br>
Remarquez les espaces et l'apostrophe dans le nom. Il est toutefois 
vivement contre-indiqué d'utiliser des noms pareils car le traitement 
PHP s'en trouvera fortement pénalisé.<br>
<br>
<h3>Les opérateurs mathématiques</h3><br>
<br>
Il existe 7 opérateurs principaux sous MySQL:<br>
<br>
<ul>
<li>L'addition: "+"</li>
<li>La soustraction: "-"</li>
<li>La multiplication: "*"</li>
<li>La division: "/"</li>
<li>La division entière "DIV"</li>
<li>Le reste d'une division ( Modulo ): "%" ou "MOD"</li>
<li>La puissance: "^"</li>
</ul><br>
<br>
La division entière retourne toujours un nombre <strong>arrondi à l'unité inférieure</strong>
 ! Ne vous étonnez pas si vos calculs sont incorrects si vous utilisez à
 un moment ou à un autre des nombres décimaux et que vous utilisez DIV 
plutôt que /.<br>
<br>
Toutefois, il est préférable, pour des raisons d'optimisation, 
d'utiliser 5 DIV 4 que ROUND( 5 / 4 ). (Vous apprendrez l'utilisation de
 ROUND dans quelques minutes).<br>
<br>
<h4>Exemple</h4><br>
<br>
<span class="code">Code : SQL - <a href="#" class="select_code">Sélectionner</a></span><div class="code2 sql"><table class="syntaxtable"><tbody><tr><td class="linenos"><pre>1</pre></td><td class="code"><div class="syntax"><pre><span class="k">SELECT</span> <span class="p">(</span> <span class="mi">1</span><span class="p">.</span><span class="mi">0</span> <span class="o">+</span> <span class="mi">5</span><span class="p">.</span><span class="mi">0</span> <span class="o">*</span> <span class="mi">6</span><span class="p">.</span><span class="mi">0</span> <span class="k">MOD</span> <span class="p">(</span> <span class="mi">4</span><span class="p">.</span><span class="mi">0</span> <span class="o">%</span> <span class="mi">3</span><span class="p">.</span><span class="mi">0</span> <span class="p">)</span> <span class="p">)</span> <span class="o">/</span> <span class="p">(</span> <span class="mi">2</span><span class="p">.</span><span class="mi">0</span> <span class="o">/</span> <span class="mi">0</span><span class="p">.</span><span class="mi">25</span> <span class="p">),</span> <span class="mi">0</span><span class="p">.</span><span class="mi">12</span> <span class="n">DIV</span> <span class="mi">1</span><span class="p">;</span>
</pre></div>
</td></tr></tbody></table></div><br>
<div class="centre"><img src="sql_fichiers/10130.png" alt="Image utilisateur"></div><br>
<br>
<div class="rmq information">Notez que tout ce que j'ai dit dans cette 
sous-partie ne concerne pas uniquement MySQL. Tous les SGBDR (Système de
 Gestion de Base de Données Relationnelle) utilisent le doublage de 
l'apostrophe, le point-virgule final,... ou du moins tous les SGBDR 
respectant la norme.</div>
		</div>
		<hr>
		
		<hr class="separateur_parties">
		<h2 id="ss_part_9804">Les fonctions MySQL</h2>
		<div class="ss_part_texte">
		C'est peut-être assez con à dire, mais M@teo ne dit à aucun moment 
qu'il existe des fonctions aussi dans MySQL. Le seul soupçon que vous 
pourriez avoir par rapport à leur existence était le moment où vous avez
 appris à compter le nombre de lignes avec COUNT(col).<br>
<br>
Il existe une floppée de fonctions MySQL telles que COUNT, certaines 
agissant sur des chaînes de caractères, d'autres sur des nombres, 
d'autres sur des dates, certaines sur les colonnes d'une table,...<br>
<br>
Comme nous ne travaillons pas sur des tables, nous nous passerons pour 
le moment de la dernière catégorie, je vous apprendrai dans cette 
sous-partie les fonctions principales ainsi que leur utilité. Bonne 
lecture !<br>
<br>
<h3>UPPER / LOWER</h3><br>
<br>
<h4>Exemple</h4><br>
<br>
<span class="code">Code : SQL - <a href="#" class="select_code">Sélectionner</a></span><div class="code2 sql"><table class="syntaxtable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="syntax"><pre><span class="k">SELECT</span> <span class="k">UPPER</span><span class="p">(</span><span class="s1">'C''est un assassinat !!'</span><span class="p">)</span> <span class="k">AS</span> <span class="n">majs</span><span class="p">,</span> <span class="k">LOWER</span><span class="p">(</span><span class="s1">'NON ?'</span><span class="p">)</span> <span class="k">AS</span> <span class="n">mins</span><span class="p">;</span>
</pre></div>
</td></tr></tbody></table></div><br>
<div class="centre"><img src="sql_fichiers/10131.png" alt="Image utilisateur"></div><br>
<br>
<h4>Effets</h4><br>
<br>
UPPER met une chaîne en majuscules et LOWER met une chaîne en 
minuscules. Seuls les caractères alphabétiques sont pris en compte.<br>
<br>
<h4>Utilisation</h4><br>
<br>
Plusieurs utilisations, dont certaines sont contre-indiquées :<br>
<ul>
<li>On utilise souvent UPPER() ou LOWER() pour comparer deux chaînes 
quand on ne veut pas faire attention à la casse (c'est à dire ne pas 
tenir compte des minuscules / majuscules). Mais il est préférable 
d'utiliser un autre charset se terminant par _ci (case insensitive). La 
plupart du temps c'est déjà le cas et vous ne devez même pas vous en 
préoccuper.</li>
<li>UPPER et LOWER sont aussi parfois utilisés pour uniformiser des 
chaînes de caractères (par exemple NOM Prénom). L'exemple le plus 
courant étant de mettre un nom en majuscules et un prénom en minuscules 
sauf la première lettre en majuscule.</li>
</ul><br>
<br>
<h3>CHAR_LENGTH</h3><br>
<br>
<h4>Exemple</h4><br>
<br>
<span class="code">Code : SQL - <a href="#" class="select_code">Sélectionner</a></span><div class="code2 sql"><table class="syntaxtable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="syntax"><pre><span class="k">SELECT</span> <span class="k">CHAR_LENGTH</span><span class="p">(</span><span class="s1">'Bonjour tout le monde !!'</span><span class="p">);</span>
<span class="k">SELECT</span> <span class="k">CHAR_LENGTH</span><span class="p">(</span><span class="s1">'Il l''a'</span><span class="p">);</span>
</pre></div>
</td></tr></tbody></table></div><br>
<div class="centre"><img src="sql_fichiers/10132.png" alt="Image utilisateur"></div><br>
<br>
<h4>Effets</h4><br>
<br>
CHAR_LENGTH renvoie le nombre de caractères contenus dans une chaîne.<br>
<div class="rmq information">La fonction LENGTH sert à la même chose 
mais tient compte des caractères codés sur 2 octets ! Attention donc aux
 surprises avec LENGTH que je vous déconseille d'utiliser !</div><br>
<br>
<h4>Utilisation</h4><br>
<br>
CHAR_LENGTH peut être utilisé comme une vérification (vérifier qu'un 
pseudo ne contient pas plus de n caractères, etc). Vous allez me dire 
qu'on peut faire ça du côté PHP, mais moi je trouve ça plus facile du 
côté SQL, on va dire : "Chacun ses goûts" <img src="sql_fichiers/clin.png" alt=";)" class="smilies"> .<br>
<br>
<h3>CONCAT et CONCAT_WS</h3><br>
<br>
<h4>Exemple</h4><br>
<br>
<span class="code">Code : SQL - <a href="#" class="select_code">Sélectionner</a></span><div class="code2 sql"><table class="syntaxtable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="syntax"><pre><span class="k">SELECT</span> <span class="n">CONCAT</span><span class="p">(</span><span class="s1">'Bon'</span><span class="p">,</span> <span class="s1">'jour'</span><span class="p">),</span> <span class="n">CONCAT_WS</span><span class="p">(</span><span class="s1">' - '</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">);</span>
</pre></div>
</td></tr></tbody></table></div><br>
<div class="centre"><img src="sql_fichiers/10133.png" alt="Image utilisateur"></div><br>
<br>
<h4>Effets</h4><br>
<br>
Joindre deux chaînes <img src="sql_fichiers/langue.png" alt=":p" class="smilies"> .<br>
<br>
La norme SQL prévoit deux moyens pour concaténer : CONCATENATE et 
l'opérateur || (l'opérateur étant plus largement utilisé). Par exemple, 
sous PostGreSQL :<br>
<div class="centre"><img src="sql_fichiers/10134.png" alt="Image utilisateur"></div><br>
MySQL ne suit pas la norme et crée une autre fonction : CONCAT.<br>
<br>
L'opérateur || n'existe tout simplement pas en MySQL, enfin si il existe, mais il ne sert pas du tout à concaténer <img src="sql_fichiers/langue.png" alt=":p" class="smilies"> .<br>
<br>
<h4>Utilisation</h4><br>
<br>
Imaginez que vous avez créé un forum où on peut entrer son nom et son 
prénom. Vous avez stocké ces données dans deux champs distincts. Dans un
 tableau HTML, vous n'allez tout de même pas écrire le nom et le prénom 
dans deux colonnes différentes <img src="sql_fichiers/langue.png" alt=":p" class="smilies"> . Donc vous utilisez CONCAT.<br>
<br>
CONCAT_WS est moins connu mais parfois très utile ! Il permet de 
concaténer des chaînes mais d'insérer entre chaque chaîne des 
caractères. On en reparlera dans le chapitre sur les variables 
utilisateur <img src="sql_fichiers/smile.png" alt=":)" class="smilies"> .<br>
<br>
<h3>LEFT / RIGHT / SUBSTRING</h3><br>
<br>
<h4>Exemple</h4><br>
<br>
<span class="code">Code : SQL - <a href="#" class="select_code">Sélectionner</a></span><div class="code2 sql"><table class="syntaxtable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="syntax"><pre><span class="k">SELECT</span> <span class="k">LEFT</span><span class="p">(</span><span class="s1">'bonjour'</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span> <span class="k">AS</span> <span class="n">gauche3</span><span class="p">,</span> <span class="k">RIGHT</span><span class="p">(</span><span class="s1">'bonjour'</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="k">AS</span> <span class="n">droite1</span><span class="p">,</span> <span class="k">SUBSTRING</span><span class="p">(</span><span class="s1">'Bonjour'</span> <span class="k">FROM</span> <span class="mi">2</span> <span class="k">FOR</span> <span class="mi">3</span><span class="p">)</span> <span class="k">AS</span> <span class="n">souschaine23</span><span class="p">;</span>
</pre></div>
</td></tr></tbody></table></div><br>
<div class="centre"><img src="sql_fichiers/10136.png" alt="Image utilisateur"></div><br>
<br>
<h4>Effets</h4><br>
<br>
<strong>LEFT('chaine', n)</strong> prend n caractères de 'chaine' en partant de la gauche.<br>
<strong>RIGHT('chaine', n)</strong> prend n caractères de 'chaine' en partant de la droite.<br>
<strong>SUBSTRING('chaine' FROM m FOR n)</strong> prend n caractères de 'chaine' en partant du caractère m.<br>
<br>
<h4>Utilisations</h4><br>
<br>
Vous vous souvenez de ce qu'on a dit avec UPPER et LOWER à propos du 
formatage de nom / prénom ? Eh bien maintenant vous savez le faire <img src="sql_fichiers/langue.png" alt=":p" class="smilies"> <img src="sql_fichiers/smile.png" alt=":)" class="smilies"> .<br>
<br>
Essayez de trouver la requête vous-même, puis regardez la solution <img src="sql_fichiers/clin.png" alt=";)" class="smilies"> .<br>
Note : les données sont dans deux champs différents, rassemblez-les en 
un seul histoire d'augmenter un (tout petit) peu la difficulté <img src="sql_fichiers/diable.png" alt=":diable:" class="smilies"> . Résultat à obtenir : NOM Prénom à partir de Nom prenoM <img src="sql_fichiers/smile.png" alt=":)" class="smilies"> .<br>
<br>
<span class="spoiler">Secret <a href="#" onclick="switch_spoiler(this); return false;">(cliquez pour afficher)</a></span><div class="spoiler2"><div class="spoiler3"><span class="code">Code : SQL - <a href="#" class="select_code">Sélectionner</a></span><div class="code2 sql"><table class="syntaxtable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="syntax"><pre><span class="k">SELECT</span> <span class="n">CONCAT</span><span class="p">(</span><span class="k">UPPER</span><span class="p">(</span><span class="s1">'nom'</span><span class="p">),</span> <span class="s1">' '</span><span class="p">,</span> <span class="k">UPPER</span><span class="p">(</span><span class="k">LEFT</span><span class="p">(</span><span class="s1">'prenoM'</span><span class="p">,</span> <span class="mi">1</span><span class="p">)),</span> <span class="k">LOWER</span><span class="p">(</span><span class="k">SUBSTRING</span><span class="p">(</span><span class="s1">'prenoM'</span> <span class="k">FROM</span> <span class="mi">2</span><span class="p">)));</span>
</pre></div>
</td></tr></tbody></table></div><br>
<div class="centre"><img src="sql_fichiers/10137.png" alt="Image utilisateur"></div></div></div><br>
<br>
<h3>Quelques fonctions mathématiques...</h3><br>
<br>
Les fonctions mathématiques s'utilisent pour faire des mathématiques, 
qui sont des outils universels et utilisables presque partout. Inutile 
de vous faire une liste de toutes les possibilités qu'elles offrent. 
Voici un tableau assez éloquent selon moi :<br>
<br>
<table class="tab_user">











<thead><tr><th>Fonction</th><th>Description</th><th>Résultat</th></tr></thead><tbody><tr>
<td>CEIL(2.318)</td>
<td>Arrondit à l'entier supérieur</td>
<td>3</td>
</tr><tr>
<td>FLOOR(1.942)</td>
<td>Arrondit à l'entier inférieur</td>
<td>1</td>
</tr><tr>
<td>ROUND(1.452, 2)</td>
<td>Arrondit 1.452 à 2 décimales. On peut arrondir un nombre négatif.</td>
<td>1.45</td>
</tr><tr>
<td>SIN(0), COS(0), TAN(0), COT(0)</td>
<td>Donne les sinus, cosinus, tangente et cotangente de 0 (angle exprimé en radians).</td>
<td>0, 1, 0, NULL</td>
</tr><tr>
<td>ASIN(0), ACOS(0), ATAN(0)</td>
<td>Donne les arcsinus,... de 0 (l'intervalle va de -1 à 1 pour ASIN et ACOS).</td>
<td>0, 1.5707963267949, 0</td>
</tr><tr>
<td>PI()</td>
<td>Donne la valeur de Pi.</td>
<td>3.141593</td>
</tr><tr>
<td>DEGREES(1)</td>
<td>Convertit 1 radian en degrés</td>
<td>57.295779513082</td>
</tr><tr>
<td>RADIANS(60)</td>
<td>Convertit 60 degrés en radians</td>
<td>1.0471975511966</td>
</tr><tr>
<td>RAND()</td>
<td>Renvoie un nombre aléatoire entre 0 et 1</td>
<td>0.54017342584224</td>
</tr><tr>
<td>SQRT(4)</td>
<td>Renvoie la racine carrée de 4</td>
<td>2</td>
</tr></tbody></table><br>
<br>
<h3>NOW() / CURRENT_TIME() / CURRENT DATE()</h3><br>
<br>
<h4>Exemple</h4><br>
<br>
<span class="code">Code : SQL - <a href="#" class="select_code">Sélectionner</a></span><div class="code2 sql"><table class="syntaxtable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="syntax"><pre><span class="k">SELECT</span> <span class="n">NOW</span><span class="p">(),</span> <span class="k">CURRENT_DATE</span><span class="p">(),</span> <span class="k">CURRENT_TIME</span><span class="p">();</span>
</pre></div>
</td></tr></tbody></table></div><br>
<div class="centre"><img src="sql_fichiers/10138.png" alt="Image utilisateur"></div><br>
<br>
<h4>Effets</h4><br>
<br>
NOW() renvoie le timestamp (pas le timestamp UNIX) actuel, CURRENT_TIME() renvoie l'heure et CURRENT_DATE() la date.<br>
<br>
<h4>Utilisations</h4><br>
<br>
Ces valeurs sont très utiles dans les valeurs par défaut de certains 
champs dans certaines tables. Par exemple, si vous faites un script de 
news et que vous stockez la date à laquelle a été postée la news, mettre
 NOW() comme valeur par défaut du champ concerné est une technique 
fortement conseillée <img src="sql_fichiers/smile.png" alt=":)" class="smilies"> .<br>
<br>
<h3>FROM_UNIXTIME() / UNIX_TIMESTAMP()</h3><br>
<br>
<h4>Exemple</h4><br>
<br>
<span class="code">Code : SQL - <a href="#" class="select_code">Sélectionner</a></span><div class="code2 sql"><table class="syntaxtable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="syntax"><pre><span class="k">SELECT</span> <span class="n">FROM_UNIXTIME</span><span class="p">(</span><span class="mi">1144835054</span><span class="p">),</span> <span class="n">UNIX_TIMESTAMP</span><span class="p">(</span><span class="n">NOW</span><span class="p">()),</span> <span class="n">UNIX_TIMESTAMP</span><span class="p">();</span>
</pre></div>
</td></tr></tbody></table></div><br>
<div class="centre"><img src="sql_fichiers/10139.png" alt="Image utilisateur"></div><br>
<br>
<h4>Effets</h4><br>
<br>
FROM_UNIXTIME() vous permet de passer d'un timestamp UNIX (par exemple 
obtenu par PHP) à un timestamp SQL (mieux adapté aux bases de données). 
Il est déconseillé de stocker des timestamps UNIX dans une BDD, c'est 
pourquoi ces fonctions existent pour permettre une conversion simple et 
efficace.<br>
<br>
UNIX_TIMESTAMP() vous permet de revenir à un format UNIX ou d'obtenir le
 timestamp UNIX actuel si aucune date n'est spécifiée en argument. 
Normalement, cette fonction ne devrait jamais être utilisée : PHP ne 
devrait plus avoir à traiter des variables de type DATETIME après une 
requête SQL ; il vaut mieux traiter les dates dans la requête SQL via 
DATE_FORMAT(), GET_FORMAT() et EXTRACT() (voir juste en dessous).<br>
<br>
<h4>Utilisation</h4><br>
<br>
Ces fonctions servent à stocker une date provenant de PHP dans une BDD 
au format date SQL. Elles permettent également de revenir à un timestamp
 UNIX, mais comme ça a déjà été dit, il vaut mieux ne plus traiter de 
dates du côté de PHP.<br>
<br>
<h3>DATE_FORMAT() / GET_FORMAT() / EXTRACT()</h3><br>
<br>
<h4>Exemple</h4><br>
<br>
<span class="code">Code : SQL - <a href="#" class="select_code">Sélectionner</a></span><div class="code2 sql"><table class="syntaxtable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="syntax"><pre><span class="k">SELECT</span> <span class="n">DATE_FORMAT</span><span class="p">(</span><span class="k">CURRENT_DATE</span><span class="p">(),</span> <span class="n">GET_FORMAT</span><span class="p">(</span><span class="nb">DATE</span><span class="p">,</span> <span class="s1">'EUR'</span><span class="p">))</span> <span class="k">AS</span> <span class="n">today</span><span class="p">,</span>
<span class="n">DATE_FORMAT</span><span class="p">(</span><span class="n">NOW</span><span class="p">(),</span> <span class="s1">'%d.%m.%Y'</span><span class="p">)</span> <span class="k">AS</span> <span class="n">today2</span><span class="p">,</span>
<span class="n">CONCAT_WS</span><span class="p">(</span><span class="s1">'.'</span><span class="p">,</span> <span class="k">EXTRACT</span><span class="p">(</span><span class="k">DAY</span> <span class="k">FROM</span> <span class="n">NOW</span><span class="p">()),</span> <span class="k">EXTRACT</span><span class="p">(</span><span class="k">MONTH</span> <span class="k">FROM</span> <span class="n">NOW</span><span class="p">()),</span> <span class="k">EXTRACT</span><span class="p">(</span><span class="k">YEAR</span> <span class="k">FROM</span> <span class="n">NOW</span><span class="p">()))</span> <span class="k">AS</span> <span class="n">today3</span><span class="p">;</span>
</pre></div>
</td></tr></tbody></table></div><br>
<div class="centre"><img src="sql_fichiers/10140.png" alt="Image utilisateur"></div><br>
<br>
<h4>Effets</h4><br>
<br>
DATE_FORMAT() permet de formater une date selon divers formats fournis 
soit par vous-même (le truc bizarre avec les signes %), soit par 
GET_FORMAT(). Toutes les options disponibles pour ces deux options 
peuvent être trouvées sur cette page (je vais pas copier la doc non plus
 <img src="sql_fichiers/hihi.png" alt="^^" class="smilies"> <img src="sql_fichiers/langue.png" alt=":p" class="smilies"> ) :<br>
<ul>
<li><a href="http://dev.mysql.com/doc/refman/5.0/en/date-and-time-functions.html#id2683872">DATE_FORMAT</a></li>
<li><a href="http://dev.mysql.com/doc/refman/5.0/en/date-and-time-functions.html#id2685320">GET_FORMAT</a></li>
<li><a href="http://dev.mysql.com/doc/refman/5.0/en/date-and-time-functions.html#id2684975">GET_FORMAT</a></li>
</ul><br>
<br>
<h4>Utilisation</h4><br>
<br>
Ces fonctions sont utilisées pour rendre des dates au format français, 
c'est très pratique et ça permet de ne pas devoir intervenir du côté 
PHP. A préférer aux fonctions UNIX (et donc au traitement du côté PHP).<br>
<br>
Et voilà, bien sûr, il existe beaucoup plus de fonctions dans MySQL, 
mais je crois vous avoir donné les principales, et en tout cas les plus 
utiles <img src="sql_fichiers/clin.png" alt=";)" class="smilies"> <img src="sql_fichiers/smile.png" alt=":)" class="smilies"> .
		</div>
		<hr>
		
		<hr class="separateur_parties">
		<h2 id="ss_part_9803">Les fonctions utilisateur</h2>
		<div class="ss_part_texte">
		Saviez-vous que, en plus des fonctions préexistantes fournies par 
MySQL, vous pouviez créer vos propres fonctions à partir de MySQL 5 ?<br>
<br>
Dans cette partie, je ne vais pas vous expliquer comment créer vos 
propres fonctions, on n'a pas encore le niveau, mais je voulais juste 
vous dire que ça existait, et vous donner un petit exemple <img src="sql_fichiers/langue.png" alt=":p" class="smilies"> <img src="sql_fichiers/smile.png" alt=":)" class="smilies"> .<br>
<br>
Les fonctions utilisateur ont des utilités multiples, de plus, elles 
peuvent retourner des valeurs qui pourraient être utilisées directement 
dans une requête. Une seule contrainte : l'appel de la fonction, 
admettons que vous ayez créé une fonction nommée 'f_format_nom_prenom' 
qui prend deux arguments (nom et prenom), vous ne pourriez lancer une 
requête de ce style (ça ne marcherait pas) :<br>
<br>
<span class="code">Code : SQL - <a href="#" class="select_code">Sélectionner</a></span><div class="code2 sql"><table class="syntaxtable"><tbody><tr><td class="linenos"><pre>1</pre></td><td class="code"><div class="syntax"><pre><span class="n">f_format_nom_prenom</span><span class="p">(</span><span class="s1">'pijcke'</span><span class="p">,</span> <span class="s1">'fabiaN'</span><span class="p">);</span>
</pre></div>
</td></tr></tbody></table></div><br>
<br>
Le SELECT est <strong>obligatoire</strong> ! Voici ce qu'il aurait fallu faire :<br>
<br>
<span class="code">Code : SQL - <a href="#" class="select_code">Sélectionner</a></span><div class="code2 sql"><table class="syntaxtable"><tbody><tr><td class="linenos"><pre>1</pre></td><td class="code"><div class="syntax"><pre><span class="k">SELECT</span> <span class="n">f_format_nom_prenom</span><span class="p">(</span><span class="s1">'pijcke'</span><span class="p">,</span> <span class="s1">'fabiaN'</span><span class="p">);</span>
</pre></div>
</td></tr></tbody></table></div><br>
<br>
Encore une fois, la clause FROM est absente, pourtant dans la fonction, 
il peut très bien y avoir des SELECT sur des tables, mais on n'en a pas 
besoin dans la requête qui appelle la fonction <img src="sql_fichiers/smile.png" alt=":)" class="smilies"> .<br>
<br>
Juste pour vous montrer à quoi ça ressemble, voici comment on aurait pu coder la fonction f_format_nom_prenom :<br>
<br>
<span class="code">Code : SQL - <a href="#" class="select_code">Sélectionner</a></span><div class="code2 sql"><table class="syntaxtable"><tbody><tr><td class="linenos"><pre>1
2
3
4</pre></td><td class="code"><div class="syntax"><pre><span class="k">CREATE</span> <span class="k">FUNCTION</span>
        <span class="n">f_format_nom_prenom</span> <span class="p">(</span> <span class="n">nom</span> <span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">25</span><span class="p">),</span> <span class="n">prenom</span> <span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">25</span><span class="p">)</span> <span class="p">)</span>
        <span class="k">RETURNS</span> <span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span> <span class="k">LANGUAGE</span> <span class="k">SQL</span> <span class="k">READS</span> <span class="k">SQL</span> <span class="k">DATA</span>
<span class="k">RETURN</span> <span class="n">CONCAT</span><span class="p">(</span><span class="k">UPPER</span><span class="p">(</span><span class="n">nom</span><span class="p">),</span> <span class="s1">' '</span><span class="p">,</span> <span class="k">UPPER</span><span class="p">(</span><span class="k">LEFT</span><span class="p">(</span><span class="n">prenom</span><span class="p">,</span> <span class="mi">1</span><span class="p">)),</span> <span class="k">LOWER</span><span class="p">(</span><span class="k">SUBSTRING</span><span class="p">(</span><span class="n">prenom</span> <span class="k">FROM</span> <span class="mi">2</span><span class="p">)));</span>
</pre></div>
</td></tr></tbody></table></div><br>
<br>
Bien sûr, une fonction peut contenir beaucoup plus de lignes, on ajoute 
alors les mots-clefs BEGIN et END, mais on verra tout ça plus tard...<br>
<br>
Voici comment on utilise cette fonction :<br>
<br>
<span class="code">Code : SQL - <a href="#" class="select_code">Sélectionner</a></span><div class="code2 sql"><table class="syntaxtable"><tbody><tr><td class="linenos"><pre>1</pre></td><td class="code"><div class="syntax"><pre><span class="k">SELECT</span> <span class="n">f_format_nom_prenom</span><span class="p">(</span><span class="s1">'pijcke'</span><span class="p">,</span> <span class="s1">'fabian'</span><span class="p">)</span> <span class="k">AS</span> <span class="n">shepard</span><span class="p">;</span>
</pre></div>
</td></tr></tbody></table></div><br>
<div class="centre"><img src="sql_fichiers/10173.png" alt="Image utilisateur"></div><br>
<br>
Pas si mal pour 4 petites lignes de code <img src="sql_fichiers/hihi.png" alt="^^" class="smilies"> <img src="sql_fichiers/langue.png" alt=":p" class="smilies"> .
		</div>
		<hr>
		
	<div id="chap_conclusion">
	C'était pas trop dur ? <img src="sql_fichiers/langue.png" alt=":p" class="smilies"><br>
<br>
Bon comme je vous l'avais dit, ce chapitre est doté d'un pouvoir 
assez... soporifique, j'espère au moins que vous avez eu 20 / 20 au 
Q.C.M. ! <img src="sql_fichiers/ange.png" alt=":ange:" class="smilies">
	</div>
	
	<hr>
	<h1 id="chap_9812">Les variables utilisateur</h1>
	<div id="chap_intro">
	Voici un chapitre qui devrait en intéresser plus d'un !<br>
<br>
Ce chapitre vous permettra de faire plein de trucs géniaux, de plus, 
très peu savent ce que sont les variables utilisateur, donc profitez en :
 même M@teo ne savait pas ce que c'était avant de lire ce tuto <img src="sql_fichiers/heureux.png" alt=":D" class="smilies"> <img src="sql_fichiers/langue.png" alt=":p" class="smilies"> (pour ceux qui voudraient savoir comment moi je l'ai appris, dites-vous simplement que je me suis farci toute la doc <img src="sql_fichiers/hihi.png" alt="^^" class="smilies"> ).<br>
<br>
Bon amusement !
	</div>
		
		<hr class="separateur_parties">
		<h2 id="ss_part_9816">Variables utilisateur ?</h2>
		<div class="ss_part_texte">
		Vous vous demandez sans doute ce que c'est <img src="sql_fichiers/langue.png" alt=":p" class="smilies"> .<br>
<br>
En fait il s'agit simplement de variables, exactement comme dans PHP, à quelques différences près :<br>
<br>
<ul>
<li>Une variable commence par @ et est composée de caractères 
alphanumériques et de tirets bas "_" (on peut également utiliser $ et . 
mais je vous déconseille d'utiliser ces deux signes car ils créent des 
confusions).</li>
<li>Les variables ne doivent pas être déclarées : elles valent NULL par défaut.</li>
<li>Les variables peuvent être définies grâce à SET ou à l'aide de l'opérateur :=</li>
<li>Une variable peut contenir un entier, un réel ou une chaîne de caractères.</li>
<li>Toute variable est automatiquement fermée à la fin d'une session.</li>
</ul>
		</div>
		<hr>
		
		<hr class="separateur_parties">
		<h2 id="ss_part_9815">Déclarer et utiliser une variable</h2>
		<div class="ss_part_texte">
		Il y a plusieurs façons de définir une variable, il n'y en a pas une 
"meilleure" que l'autre, on utilise l'une dans certains cas, et l'autre 
dans d'autres.<br>
<br>
<h3>Déclarer une variable avec SET</h3><br>
<br>
SET permet de déclarer une variable. Par exemple :<br>
<br>
<span class="code">Code : SQL - <a href="#" class="select_code">Sélectionner</a></span><div class="code2 sql"><table class="syntaxtable"><tbody><tr><td class="linenos"><pre>1</pre></td><td class="code"><div class="syntax"><pre><span class="k">SET</span> <span class="o">@</span><span class="n">une_variable</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
</pre></div>
</td></tr></tbody></table></div><br>
<br>
On peut également utiliser une requête comme valeur de cette variable 
(en fait ce qu'on va faire s'appelle une sous-requête, mais on apprendra
 ça un peu plus tard <img src="sql_fichiers/smile.png" alt=":)" class="smilies"> ).<br>
<br>
Ne vous préoccupez pas trop de ce code, essayez juste de le comprendre, 
nous apprendrons plus tard la signification de chacunes de ces lignes.<br>
<br>
<span class="code">Code : SQL - <a href="#" class="select_code">Sélectionner</a></span><div class="code2 sql"><table class="syntaxtable"><tbody><tr><td class="linenos"><pre>1
2
3
4
5
6</pre></td><td class="code"><div class="syntax"><pre><span class="k">CREATE</span> <span class="k">DATABASE</span> <span class="n">tests</span><span class="p">;</span>
<span class="n">USE</span> <span class="n">tests</span><span class="p">;</span>
<span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">test</span> <span class="p">(</span> <span class="n">a</span> <span class="nb">int</span> <span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">test</span> <span class="k">VALUES</span> <span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">3</span><span class="p">),</span> <span class="p">(</span><span class="mi">4</span><span class="p">),</span> <span class="p">(</span><span class="mi">6</span><span class="p">),</span> <span class="p">(</span><span class="mi">9</span><span class="p">),</span> <span class="p">(</span><span class="mi">19</span><span class="p">),</span> <span class="p">(</span><span class="mi">34</span><span class="p">),</span> <span class="p">(</span><span class="mi">72</span><span class="p">);</span>

<span class="k">SET</span> <span class="o">@</span><span class="n">a</span> <span class="p">:</span><span class="o">=</span> <span class="p">(</span> <span class="k">SELECT</span> <span class="k">COUNT</span><span class="p">(</span><span class="o">*</span><span class="p">)</span> <span class="k">FROM</span> <span class="n">test</span> <span class="p">);</span> <span class="c1">-- Définition d'une variable grâce à une sous-requête</span>
</pre></div>
</td></tr></tbody></table></div><br>
<div class="centre"><img src="sql_fichiers/10260.png" alt="Image utilisateur"></div><br>
<br>
<h3>Sélectionner une variable avec SELECT</h3><br>
<br>
Pour sélectionner une variable, rien de plus simple, il suffit de faire :<br>
<span class="code">Code : SQL - <a href="#" class="select_code">Sélectionner</a></span><div class="code2 sql"><table class="syntaxtable"><tbody><tr><td class="linenos"><pre>1</pre></td><td class="code"><div class="syntax"><pre><span class="k">SELECT</span> <span class="o">@</span><span class="n">mavariable</span><span class="p">;</span>
</pre></div>
</td></tr></tbody></table></div><br>
<br>
Nous venons de définir deux variables : @une_variable et @a, regardons maintenant ce qu'elles contiennent ...<br>
<br>
<span class="code">Code : SQL - <a href="#" class="select_code">Sélectionner</a></span><div class="code2 sql"><table class="syntaxtable"><tbody><tr><td class="linenos"><pre>1</pre></td><td class="code"><div class="syntax"><pre><span class="k">SELECT</span> <span class="o">@</span><span class="n">une_variable</span><span class="p">,</span> <span class="o">@</span><span class="n">a</span><span class="p">;</span>
</pre></div>
</td></tr></tbody></table></div><br>
<div class="centre"><img src="sql_fichiers/10261.png" alt="Image utilisateur"></div><br>
<br>
Mais que vaut une variable non définie, par exemple @aetuo (pour ceux 
qui se demandent d'où ça vient, c'est azertyuiop en tirant une lettre 
sur deux <img src="sql_fichiers/heureux.png" alt=":D" class="smilies"> ) :<br>
<br>
<span class="code">Code : SQL - <a href="#" class="select_code">Sélectionner</a></span><div class="code2 sql"><table class="syntaxtable"><tbody><tr><td class="linenos"><pre>1</pre></td><td class="code"><div class="syntax"><pre><span class="k">SELECT</span> <span class="o">@</span><span class="n">aetuo</span><span class="p">;</span>
</pre></div>
</td></tr></tbody></table></div><br>
<div class="centre"><img src="sql_fichiers/10262.png" alt="Image utilisateur"></div><br>
<br>
Comme vous le voyez, ça ne renvoie pas d'erreur, ça ne renvoie tout simplement... rien. <img src="sql_fichiers/blink.gif" alt="o_O" class="smilies"><br>
<br>
En fait une valeur est bien renvoyée : la valeur NULL, cette valeur est 
l'objet du prochain chapitre, donc je ne détaillerai pas plus ce 
phénomène ici. <img src="sql_fichiers/clin.png" alt=";)" class="smilies"><br>
<br>
<h3>(re)Définir une variable avec SELECT</h3><br>
<br>
On peut également donner une valeur à une variable grâce à SELECT (ou 
UPDATE ou INSERT ou DELETE mais nous ne parlerons que de SELECT, sachez 
juste que c'est possible).<br>
<br>
On définit une variable grâce à l'opérateur := (comme en Delphi pour 
ceux qui connaissent). La plupart du temps, les variables sont définies 
la première fois avec SET puis manipulées avec SELECT, mais il n'est pas
 rare que des exceptions enfreignent cette règle.<br>
<br>
Définissons @a à 4:<br>
<span class="code">Code : SQL - <a href="#" class="select_code">Sélectionner</a></span><div class="code2 sql"><table class="syntaxtable"><tbody><tr><td class="linenos"><pre>1</pre></td><td class="code"><div class="syntax"><pre><span class="k">SELECT</span> <span class="o">@</span><span class="n">a</span> <span class="p">:</span><span class="o">=</span> <span class="mi">4</span><span class="p">;</span>
</pre></div>
</td></tr></tbody></table></div><br>
<div class="centre"><img src="sql_fichiers/10263.png" alt="Image utilisateur"></div><br>
<br>
Comme vous le voyez, SELECT renvoie directement la valeur vu que @a := 4
 est considéré comme une colonne. On aurait très bien pu rajouter un AS 
pour redéfinir le nom de cette colonne.<br>
<br>
Tiens à votre avis, est-il possible de donner à une colonne un nom contenu dans une variable ? Faisons le test :<br>
<span class="code">Code : SQL - <a href="#" class="select_code">Sélectionner</a></span><div class="code2 sql"><table class="syntaxtable"><tbody><tr><td class="linenos"><pre>1
2</pre></td><td class="code"><div class="syntax"><pre><span class="k">SET</span> <span class="o">@</span><span class="n">nom</span> <span class="o">=</span> <span class="ss">"colonne"</span><span class="p">;</span>
<span class="k">SELECT</span> <span class="mi">4</span> <span class="k">AS</span> <span class="o">@</span><span class="n">nom</span><span class="p">;</span>
</pre></div>
</td></tr></tbody></table></div><br>
<div class="centre"><img src="sql_fichiers/10264.png" alt="Image utilisateur"></div><br>
<br>
Comme vous le voyez, ça ne fonctionne malheureusement pas. C'est 
dommage, car ça aurait ouvert des voies pour la linéarisation de données
 (lignes en colonnes ou colonnes en lignes). Si toutefois quelqu'un 
trouve une astuce pour contourner ce problème, je lui serais fortement 
reconnaissant de me dire comment faire.
		</div>
		<hr>
		
		<hr class="separateur_parties">
		<h2 id="ss_part_9814">Mini-TP : un classement</h2>
		<div class="ss_part_texte">
		<h3>Le problème ...</h3><br>
<br>
Enormément de choses sont possibles grâce aux variables utilisateur ! 
Cependant la plupart des applications possibles demandent plus de 
connaissances que ce que vous êtes censé savoir. Il y a cependant une 
chose que vous devriez être capable de faire en cherchant un peu : un 
système de classement !<br>
<br>
Le but ? Je vous donne une table avec des pseudos associés à des points,
 vous devez réussir à donner une place à chacun de ces pseudos en 
fonction de son nombre de points. Chaque pseudo a un nombre de points 
différents (pas d'égalité donc), en effet la gestion des ex-aequos 
rendrait l'exercice bien trop difficile pour votre niveau actuel. <img src="sql_fichiers/langue.png" alt=":p" class="smilies"><br>
<br>
Quelques indices supplémentaires :<br>
<ul>
<li>Pensez à ORDER BY que vous avez appris à utiliser dans le cours de M@teo.</li>
<li>SET et l'opérateur := vous seront normalement nécessaires.</li>
</ul><br>
<br>
Voici les requêtes pour la création de la table :<br>
<span class="code">Code : SQL - <a href="#" class="select_code">Sélectionner</a></span><div class="code2 sql"><table class="syntaxtable"><tbody><tr><td class="linenos"><pre>1
2</pre></td><td class="code"><div class="syntax"><pre><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">joueurs</span> <span class="p">(</span> <span class="n">pseudo</span> <span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">30</span><span class="p">),</span> <span class="n">points</span> <span class="nb">INT</span> <span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">joueurs</span> <span class="p">(</span> <span class="n">pseudo</span><span class="p">,</span> <span class="n">points</span> <span class="p">)</span> <span class="k">VALUES</span> <span class="p">(</span> <span class="s1">'Shepard'</span><span class="p">,</span> <span class="mi">13854</span> <span class="p">),</span> <span class="p">(</span> <span class="s1">'Alexi'</span><span class="p">,</span> <span class="mi">4251</span> <span class="p">),</span> <span class="p">(</span> <span class="s1">'Janne'</span><span class="p">,</span> <span class="mi">11245</span> <span class="p">),</span> <span class="p">(</span> <span class="s1">'Shagrath'</span><span class="p">,</span> <span class="mi">1248</span> <span class="p">),</span> <span class="p">(</span> <span class="s1">'Fred'</span><span class="p">,</span> <span class="mi">42857</span> <span class="p">);</span>
</pre></div>
</td></tr></tbody></table></div><br>
<br>
Vous devez obtenir ce tableau :<br>
<div class="centre"><img src="sql_fichiers/10271.png" alt="Image utilisateur"></div><br>
<br>
Il ne me reste plus qu'à vous souhaiter bonne chance !<br>
<br>
<h3>Une solution</h3><br>
<br>
En SQL, il n'y a jamais qu'un seul moyen de faire, ce qu'il y a dans la 
case secrète représente donc une solution, peut-être que la vôtre est 
radicalement différente (ça m'étonnerait un peu quand même mais bon <img src="sql_fichiers/langue.png" alt=":p" class="smilies"> ), mais ce qui compte à ce niveau, c'est que ça <strong>fonctionne</strong>
 ! Le principal c'est d'avoir cherché et d'être tombé sur quelque chose 
de potable, si vous n'y êtes pas arrivé, ne vous inquiétez pas : c'était
 le premier et il y en aura sans doute d'autres. <img src="sql_fichiers/clin.png" alt=";)" class="smilies"> <img src="sql_fichiers/smile.png" alt=":)" class="smilies"><br>
<br>
Bon, assez blablaté. <img src="sql_fichiers/hihi.png" alt="^^" class="smilies"><br>
<br>
<span class="spoiler">Secret <a href="#" onclick="switch_spoiler(this); return false;">(cliquez pour afficher)</a></span><div class="spoiler2"><div class="spoiler3"><br>
<span class="code">Code : SQL - <a href="#" class="select_code">Sélectionner</a></span><div class="code2 sql"><table class="syntaxtable"><tbody><tr><td class="linenos"><pre>1
2</pre></td><td class="code"><div class="syntax"><pre><span class="k">SET</span> <span class="o">@</span><span class="n">place</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="k">SELECT</span> <span class="o">@</span><span class="n">place</span> <span class="p">:</span><span class="o">=</span> <span class="o">@</span><span class="n">place</span> <span class="o">+</span> <span class="mi">1</span> <span class="k">AS</span> <span class="n">place</span><span class="p">,</span> <span class="n">pseudo</span><span class="p">,</span> <span class="n">points</span> <span class="k">FROM</span> <span class="n">joueurs</span> <span class="k">ORDER</span> <span class="k">BY</span> <span class="n">points</span> <span class="k">DESC</span><span class="p">;</span>
</pre></div>
</td></tr></tbody></table></div><br>
<div class="centre"><img src="sql_fichiers/10272.png" alt="Image utilisateur"></div><br>
<br>
Comme vous le voyez, les requêtes ne sont pas longues du tout (ce n'est pas pour rien que je disais que c'était de votre niveau <img src="sql_fichiers/siffle.png" alt=":-°" class="smilies"> ), néanmoins il fallait y penser ! Je félicite ceux qui ont trouvé, mine de rien ce n'était pas si facile !<br>
</div></div>
		</div>
		<hr>
		
		<hr class="separateur_parties">
		<h2 id="ss_part_9813">Un autre exemple : sélection au hasard</h2>
		<div class="ss_part_texte">
		J'ai hésité à ajouter cette sous-partie à ce chapitre. En effet, elle 
fait appel à des notions dont vous n'avez certainement jamais entendu 
parler, je l'ai ajoutée quand même, dites-vous qu'il ne s'agit que d'un 
exemple, si vous ne comprenez pas tout à fait, ne vous inquiétez pas, on
 reviendra plus tard dans le cours sur tout ce qui sera montré ici. <img src="sql_fichiers/clin.png" alt=";)" class="smilies"><br>
<br>
<br>
<h3>Le problème</h3><br>
<br>
On a une table nommée livreor (id, auteur, message) qui contient des 
messages contenus dans un livre d'or, on aimerait sélectionner un 
message au hasard. Chaque message a un identifiant unique.<br>
<br>
On peut distinguer deux cas à ce stade :<br>
<br>
<ul>
<li>Les identifiants sont continus (1, 2, 3, 4,...). Dans ce cas il est 
très facile de résoudre notre problème, mais en fait il est très rare 
que les identifiants soient continus. La plupart du temps, des messages 
ont été supprimés par un administrateur (messages de test lors du 
développement du site, messages malvenus, etc).</li>
<li>On voit donc apparaître le deuxième cas : les identifiants ne sont 
pas continus (2, 3, 6, 8,...) dans ce cas le problème devient plus 
compliqué à résoudre, et c'est là que les variables de MySQL entreront 
en jeu. <img src="sql_fichiers/smile.png" alt=":)" class="smilies"></li>
</ul><br>
<br>
<h3>Cas 1 : les identifiants sont continus</h3><br>
<br>
<span class="code">Code : SQL - <a href="#" class="select_code">Sélectionner</a></span><div class="code2 sql"><table class="syntaxtable"><tbody><tr><td class="linenos"><pre>1
2
3
4
5
6
7
8</pre></td><td class="code"><div class="syntax"><pre><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">livreor</span> <span class="p">(</span> <span class="n">id</span> <span class="nb">INT</span> <span class="n">AUTO_INCREMENT</span><span class="p">,</span> <span class="n">auteur</span> <span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">30</span><span class="p">),</span> <span class="n">message</span> <span class="nb">TEXT</span><span class="p">,</span> <span class="k">PRIMARY</span> <span class="k">KEY</span><span class="p">(</span><span class="n">id</span><span class="p">)</span> <span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">livreor</span> <span class="p">(</span> <span class="n">auteur</span><span class="p">,</span> <span class="n">message</span> <span class="p">)</span>
<span class="k">VALUES</span> 
        <span class="p">(</span> <span class="s1">'Shepard'</span><span class="p">,</span> <span class="s1">'Tres bon site :p'</span> <span class="p">),</span>
        <span class="p">(</span> <span class="s1">'Alexi'</span><span class="p">,</span> <span class="s1">'Vive Children of Bodom !'</span> <span class="p">),</span>
        <span class="p">(</span> <span class="s1">'Shepard'</span><span class="p">,</span> <span class="s1">'Entierement d''acord, Alexi :)'</span> <span class="p">),</span>
        <span class="p">(</span> <span class="s1">'Janne'</span><span class="p">,</span> <span class="s1">'Vive le synthe :-°'</span> <span class="p">),</span>
        <span class="p">(</span> <span class="s1">'Alexi'</span><span class="p">,</span><span class="s1">'N''importe quoi ! C''est la guitare qui est mieux :D'</span> <span class="p">);</span>
</pre></div>
</td></tr></tbody></table></div><br>
<br>
Rien que dans ce cas-là, les variables MySQL sont déjà très utiles, je 
vous conseille de bien comprendre ce cas-ci car sinon vous risquez de 
vraiment avoir du mal pour le second... <img src="sql_fichiers/langue.png" alt=":p" class="smilies"><br>
<br>
En fait, il suffit de trouver un nombre au hasard pris entre 1 et n, n étant le nombre de messages.<br>
<br>
On peut récupérer très facilement n grâce à la requête suivante :<br>
<br>
<span class="code">Code : SQL - <a href="#" class="select_code">Sélectionner</a></span><div class="code2 sql"><table class="syntaxtable"><tbody><tr><td class="linenos"><pre>1</pre></td><td class="code"><div class="syntax"><pre><span class="k">SELECT</span> <span class="k">COUNT</span><span class="p">(</span><span class="o">*</span><span class="p">)</span> <span class="k">FROM</span> <span class="n">livreor</span><span class="p">;</span>
</pre></div>
</td></tr></tbody></table></div><br>
<br>
Ensuite on va utiliser la fonction RAND() pour prendre un nombre au hasard entre 0 et n - 0.000(...)01 :<br>
<br>
<span class="code">Code : SQL - <a href="#" class="select_code">Sélectionner</a></span><div class="code2 sql"><table class="syntaxtable"><tbody><tr><td class="linenos"><pre>1</pre></td><td class="code"><div class="syntax"><pre><span class="k">SELECT</span> <span class="n">RAND</span><span class="p">()</span> <span class="o">*</span> <span class="k">COUNT</span><span class="p">(</span><span class="o">*</span><span class="p">)</span> <span class="k">FROM</span> <span class="n">livreor</span><span class="p">;</span>
</pre></div>
</td></tr></tbody></table></div><br>
<br>
Utilisons maintenant la fonction FLOOR pour arrondir à l'entier 
inférieur. On aura alors un nombre entre 0 et n - 1. Il faudra donc 
ajouter un au résultat pour avoir un nombre entre 1 et n :<br>
<br>
<span class="code">Code : SQL - <a href="#" class="select_code">Sélectionner</a></span><div class="code2 sql"><table class="syntaxtable"><tbody><tr><td class="linenos"><pre>1</pre></td><td class="code"><div class="syntax"><pre><span class="k">SELECT</span> <span class="n">FLOOR</span><span class="p">(</span> <span class="n">RAND</span><span class="p">()</span> <span class="o">*</span> <span class="k">COUNT</span><span class="p">(</span><span class="o">*</span><span class="p">)</span> <span class="p">)</span> <span class="o">+</span> <span class="mi">1</span> <span class="k">FROM</span> <span class="n">livreor</span><span class="p">;</span>
</pre></div>
</td></tr></tbody></table></div><br>
<br>
Il suffit maintenant de prendre le message ayant pour identifiant le résultat de cette requête :<br>
<br>
<span class="code">Code : SQL - <a href="#" class="select_code">Sélectionner</a></span><div class="code2 sql"><table class="syntaxtable"><tbody><tr><td class="linenos"><pre>1</pre></td><td class="code"><div class="syntax"><pre><span class="k">SELECT</span> <span class="n">auteur</span><span class="p">,</span> <span class="n">message</span> <span class="k">FROM</span> <span class="n">livreor</span> <span class="k">WHERE</span> <span class="n">id</span> <span class="o">=</span> <span class="n">FLOOR</span><span class="p">(</span> <span class="n">RAND</span><span class="p">()</span> <span class="o">*</span> <span class="p">(</span> <span class="k">SELECT</span> <span class="k">COUNT</span><span class="p">(</span><span class="o">*</span><span class="p">)</span> <span class="k">FROM</span> <span class="n">livreor</span> <span class="p">)</span> <span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
</pre></div>
</td></tr></tbody></table></div><br>
<br>
Oui mais non ! Il y a un petit problème... RAND() est réévalué à chaque 
ligne, ce qui fait qu'avec cette requête, on peut avoir des bizarreries 
de ce genre là :<br>
<div class="centre"><img src="sql_fichiers/10273.png" alt="Image utilisateur"></div><br>
<br>
Comme vous le voyez, ça ne marche pas toujours, des fois on a 3 lignes, et des fois on n'en a pas du tout !<br>
<br>
Pour y remédier, il suffit de stocker RAND() quelque part... Où ça ? 
Dans une variable pardi ! Sauf qu'au lieu de juste stocker le RAND(), on
 va y mettre tout le FLOOR(...) + 1. Ainsi on aura un nombre entier 
(plus rapide à stocker) et la requête sera simplifiée :<br>
<br>
<span class="code">Code : SQL - <a href="#" class="select_code">Sélectionner</a></span><div class="code2 sql"><table class="syntaxtable"><tbody><tr><td class="linenos"><pre>1
2</pre></td><td class="code"><div class="syntax"><pre><span class="k">SET</span> <span class="o">@</span><span class="n">id_hasard</span> <span class="o">=</span> <span class="n">FLOOR</span><span class="p">(</span> <span class="n">RAND</span><span class="p">()</span> <span class="o">*</span> <span class="p">(</span> <span class="k">SELECT</span> <span class="k">COUNT</span><span class="p">(</span><span class="o">*</span><span class="p">)</span> <span class="k">FROM</span> <span class="n">livreor</span> <span class="p">)</span> <span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
<span class="k">SELECT</span> <span class="n">auteur</span><span class="p">,</span> <span class="n">message</span> <span class="k">FROM</span> <span class="n">livreor</span> <span class="k">WHERE</span> <span class="n">id</span> <span class="o">=</span> <span class="o">@</span><span class="n">id_hasard</span><span class="p">;</span>
</pre></div>
</td></tr></tbody></table></div><br>
<div class="centre"><img src="sql_fichiers/10274.png" alt="Image utilisateur"></div><br>
<br>
Bien sûr, il faut réexécuter le SET avant chaque SELECT, sinon 
@id_hasard garde la même valeur et on obtient toujours le même message.<br>
<br>
Et le tour est joué ! (J'espère que jusque là vous avez suivi parce que les choses vont se compliquer à partir de maintenant <img src="sql_fichiers/langue.png" alt=":p" class="smilies"> ).<br>
<br>
<br>
<h3>Cas 2 : les identifiants sont discontinus</h3><br>
<br>
<span class="code">Code : SQL - <a href="#" class="select_code">Sélectionner</a></span><div class="code2 sql"><table class="syntaxtable"><tbody><tr><td class="linenos"><pre>1
2
3
4
5
6
7
8
9</pre></td><td class="code"><div class="syntax"><pre><span class="k">DROP</span> <span class="k">TABLE</span> <span class="n">livreor</span><span class="p">;</span>
<span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">livreor</span> <span class="p">(</span> <span class="n">id</span> <span class="nb">INT</span> <span class="n">AUTO_INCREMENT</span><span class="p">,</span> <span class="n">auteur</span> <span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">30</span><span class="p">),</span> <span class="n">message</span> <span class="nb">TEXT</span><span class="p">,</span> <span class="k">PRIMARY</span> <span class="k">KEY</span><span class="p">(</span><span class="n">id</span><span class="p">)</span> <span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">livreor</span> <span class="p">(</span> <span class="n">id</span><span class="p">,</span> <span class="n">auteur</span><span class="p">,</span> <span class="n">message</span> <span class="p">)</span>
<span class="k">VALUES</span> 
        <span class="p">(</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">'Shepard'</span><span class="p">,</span> <span class="s1">'Tres bon site :p'</span> <span class="p">),</span>
        <span class="p">(</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">'Alexi'</span><span class="p">,</span> <span class="s1">'Vive Children of Bodom !'</span> <span class="p">),</span>
        <span class="p">(</span> <span class="mi">6</span><span class="p">,</span> <span class="s1">'Shepard'</span><span class="p">,</span> <span class="s1">'Entierement d''acord, Alexi :)'</span> <span class="p">),</span>
        <span class="p">(</span> <span class="mi">9</span><span class="p">,</span> <span class="s1">'Janne'</span><span class="p">,</span> <span class="s1">'Vive le synthe :-°'</span> <span class="p">),</span>
        <span class="p">(</span> <span class="mi">12</span><span class="p">,</span> <span class="s1">'Alexi'</span><span class="p">,</span><span class="s1">'N''importe quoi ! C''est la guitare qui est mieux :D'</span> <span class="p">);</span>
</pre></div>
</td></tr></tbody></table></div><br>
<br>
Là ça se complique un peu : si on prend un nombre au hasard entre 1 et 
le nombre de lignes, toutes les dernières lignes ne seront pas prises en
 compte et les "trous" pourraient être sélectionnés, donc ça ne va 
vraiment pas.<br>
<br>
Une autre solution serait de prendre un nombre au hasard entre 1 et le 
dernier id de la table, puis de prendre l'id en dessous de ce nombre qui
 se rapproche le plus de ce nombre, mais je n'aime pas cette technique, 
tout d'abord parce que s'il y a des "gros" trous (suppression de 2000 
messages d'affilée par exemple), le message juste avant ce trou 
reviendra plus souvent que les autres, et ensuite parce que cette 
méthode est plus compliquée que celle que je vais vous montrer. <img src="sql_fichiers/langue.png" alt=":p" class="smilies"><br>
<br>
Il y a une astuce : créer une table temporaire (donc qui ne dure que le 
temps de la session) avec une colonne contenant des chiffres continus 
(donc on retombe dans le premier cas), plus une autre colonne contenant 
les "vrais" id.<br>
<br>
Pour créer cette table, rien de plus simple : on se base sur le principe
 du classement, sauf qu'il n'est plus nécessaire de préciser le ORDER BY
 :<br>
<br>
<span class="code">Code : SQL - <a href="#" class="select_code">Sélectionner</a></span><div class="code2 sql"><table class="syntaxtable"><tbody><tr><td class="linenos"><pre>1
2</pre></td><td class="code"><div class="syntax"><pre><span class="k">SET</span> <span class="o">@</span><span class="n">place</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="k">CREATE</span> <span class="k">TEMPORARY</span> <span class="k">TABLE</span> <span class="n">temp_livreor</span> <span class="k">AS</span> <span class="k">SELECT</span> <span class="o">@</span><span class="n">place</span> <span class="p">:</span><span class="o">=</span> <span class="o">@</span><span class="n">place</span> <span class="o">+</span> <span class="mi">1</span> <span class="k">AS</span> <span class="n">place</span><span class="p">,</span> <span class="n">id</span> <span class="k">FROM</span> <span class="n">livreor</span><span class="p">;</span>
</pre></div>
</td></tr></tbody></table></div><br>
<br>
Histoire de nous assurer que tout fonctionne bien ...<br>
<span class="code">Code : SQL - <a href="#" class="select_code">Sélectionner</a></span><div class="code2 sql"><table class="syntaxtable"><tbody><tr><td class="linenos"><pre>1</pre></td><td class="code"><div class="syntax"><pre><span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">temp_livreor</span><span class="p">;</span>
</pre></div>
</td></tr></tbody></table></div><br>
<div class="centre"><img src="sql_fichiers/10275.png" alt="Image utilisateur"></div><br>
Remarquez qu'en général, je n'utilise jamais l'étoile qui permet de 
sélectionner tous les champs d'un coup, si je le fait ici, c'est parce 
que je veux m'assurer qu'il n'y ait rien en trop. <img src="sql_fichiers/smile.png" alt=":)" class="smilies"><br>
<br>
A partir de maintenant c'est facile : il suffit d'utiliser la même 
technique que tout à l'heure pour choisir une entrée de la table 
temp_livreor, puis de prendre le "vrai" id qui lui correspond, et 
d'afficher les infos correspondant à cet id. <img src="sql_fichiers/smile.png" alt=":)" class="smilies"><br>
<br>
Par exemple :<br>
<br>
<span class="code">Code : SQL - <a href="#" class="select_code">Sélectionner</a></span><div class="code2 sql"><table class="syntaxtable"><tbody><tr><td class="linenos"><pre>1
2
3</pre></td><td class="code"><div class="syntax"><pre><span class="k">SET</span> <span class="o">@</span><span class="n">place_hasard</span> <span class="o">=</span> <span class="p">(</span> <span class="k">SELECT</span> <span class="n">FLOOR</span><span class="p">(</span> <span class="n">RAND</span><span class="p">()</span> <span class="o">*</span> <span class="p">(</span> <span class="k">SELECT</span> <span class="k">COUNT</span><span class="p">(</span><span class="o">*</span><span class="p">)</span> <span class="k">FROM</span> <span class="n">temp_livreor</span> <span class="p">)</span> <span class="p">)</span> <span class="o">+</span> <span class="mi">1</span> <span class="p">);</span>
<span class="k">SET</span> <span class="o">@</span><span class="n">id_hasard</span> <span class="o">=</span> <span class="p">(</span> <span class="k">SELECT</span> <span class="n">id</span> <span class="k">FROM</span> <span class="n">temp_livreor</span> <span class="k">WHERE</span> <span class="n">place</span> <span class="o">=</span> <span class="o">@</span><span class="n">place_hasard</span> <span class="p">);</span>
<span class="k">SELECT</span> <span class="n">auteur</span><span class="p">,</span> <span class="n">message</span> <span class="k">FROM</span> <span class="n">livreor</span> <span class="k">WHERE</span> <span class="n">id</span> <span class="o">=</span> <span class="o">@</span><span class="n">id_hasard</span><span class="p">;</span>
</pre></div>
</td></tr></tbody></table></div><br>
<br>
Ou encore :<br>
<br>
<span class="code">Code : SQL - <a href="#" class="select_code">Sélectionner</a></span><div class="code2 sql"><table class="syntaxtable"><tbody><tr><td class="linenos"><pre>1
2</pre></td><td class="code"><div class="syntax"><pre><span class="k">SET</span> <span class="o">@</span><span class="n">place_hasard</span> <span class="o">=</span> <span class="p">(</span> <span class="k">SELECT</span> <span class="n">FLOOR</span><span class="p">(</span> <span class="n">RAND</span><span class="p">()</span> <span class="o">*</span> <span class="p">(</span> <span class="k">SELECT</span> <span class="k">COUNT</span><span class="p">(</span><span class="o">*</span><span class="p">)</span> <span class="k">FROM</span> <span class="n">temp_livreor</span> <span class="p">)</span> <span class="p">)</span> <span class="o">+</span> <span class="mi">1</span> <span class="p">);</span>
<span class="k">SELECT</span> <span class="n">auteur</span><span class="p">,</span> <span class="n">message</span> <span class="k">FROM</span> <span class="n">livreor</span> <span class="k">WHERE</span> <span class="n">id</span> <span class="o">=</span> <span class="p">(</span> <span class="k">SELECT</span> <span class="n">id</span> <span class="k">FROM</span> <span class="n">temp_livreor</span> <span class="k">WHERE</span> <span class="n">place</span> <span class="o">=</span> <span class="o">@</span><span class="n">place_hasard</span> <span class="p">);</span>
</pre></div>
</td></tr></tbody></table></div><br>
<br>
Il est également possible de le faire avec une jointure :<br>
<br>
<span class="code">Code : SQL - <a href="#" class="select_code">Sélectionner</a></span><div class="code2 sql"><table class="syntaxtable"><tbody><tr><td class="linenos"><pre>1
2</pre></td><td class="code"><div class="syntax"><pre><span class="k">SET</span> <span class="o">@</span><span class="n">place_hasard</span> <span class="o">=</span> <span class="p">(</span> <span class="k">SELECT</span> <span class="n">FLOOR</span><span class="p">(</span> <span class="n">RAND</span><span class="p">()</span> <span class="o">*</span> <span class="p">(</span> <span class="k">SELECT</span> <span class="k">COUNT</span><span class="p">(</span><span class="o">*</span><span class="p">)</span> <span class="k">FROM</span> <span class="n">temp_livreor</span> <span class="p">)</span> <span class="p">)</span> <span class="o">+</span> <span class="mi">1</span> <span class="p">);</span>
<span class="k">SELECT</span> <span class="n">auteur</span><span class="p">,</span> <span class="n">message</span> <span class="k">FROM</span> <span class="n">livreor</span> <span class="k">NATURAL</span> <span class="k">JOIN</span> <span class="n">temp_livreor</span> <span class="k">WHERE</span> <span class="n">place</span> <span class="o">=</span> <span class="o">@</span><span class="n">place_hasard</span><span class="p">;</span>
</pre></div>
</td></tr></tbody></table></div><br>
<br>
La meilleure solution est la dernière, mais les deux autres sont évidemment tout à fait valables <img src="sql_fichiers/smile.png" alt=":)" class="smilies"> (ne vous inquiétez pas si vous ne comprenez pas les deux dernières requêtes : c'est normal <img src="sql_fichiers/hihi.png" alt="^^" class="smilies"> ).<br>
<br>
Les trois techniques fonctionnent et renvoient le même message si on ne 
modifie pas @place_hasard (évidemment). Voici ce que ça donne dans la 
console :<br>
<br>
<div class="centre"><img src="sql_fichiers/10276.png" alt="Image utilisateur"></div><br>
<br>
Voilà, j'admet que cette sous-partie était ardue et impossible à 
comprendre en entier si vous n'aviez lu que le cours de M@teo. Je ne 
peux que vous conseiller de venir le relire une fois que vous saurez ce 
que sont les jointures, les sous-requêtes et les tables temporaires. <img src="sql_fichiers/clin.png" alt=";)" class="smilies"> <img src="sql_fichiers/smile.png" alt=":)" class="smilies">
		</div>
		<hr>
		
	<div id="chap_conclusion">
	Alors ? C'était sympa comme matière non ?<br>
<br>
Bien qu'on n'ait vu que quelques utilisations de ces variables, il faut bien vous rendre compte que les possibilités sont <strong>énormes</strong>
 ! MySQL est l'un des seuls SGBDR à inclure ce type de fonctionnalité, 
donc faites attention si vous comptez changer de moteur par la suite : 
vos requêtes ne seront pas compatibles !<br>
<br>
Pour moi, les variables utilisateur sont l'une des choses qu'il manque à
 la norme SQL, bien sûr il faudrait les améliorer un peu (pouvoir 
renommer une colonne selon la valeur d'une variable par exemple <img src="sql_fichiers/langue.png" alt=":p" class="smilies">
 ), mais ce serait sans aucun doute une forte avancée pour le monde de 
SQL. Je trouve dommage qu'elles soient si peu utilisées, leur potentiel 
est sous-estimé, j'espère que bientôt, les développeurs se rendront 
compte des fonctionnalités qu'elles permettent !
	</div>
	
	<hr>
	<h1 id="chap_9824">Traitement des "NULL"s</h1>
	<div id="chap_intro">
	Voici un autre chapitre intéressant : le traitement des valeurs nulles, autrement dit le traitement d'une absence de valeurs !<br>
<br>
Encore une fois, peu de développeurs se servent de cette fonctionnalité !
 Pourtant les valeurs nulles sont pratiquement indispensables dans une 
base de données. L'exemple le plus flagrant est un profil dans un espace
 membre : la plupart des codeurs mettent une chaîne vide ( '' ) pour 
indiquer qu'il n'y a pas de valeur, alors qu'il serait plus simple de 
mettre un simple NULL, qui peut être traité beaucoup plus facilement par
 la suite dans les requêtes SELECT grâce aux fonctions que nous verrons 
dans ce chapitre. <img src="sql_fichiers/smile.png" alt=":)" class="smilies"><br>
<br>
Je vous laisse lire tout ça, bonne lecture !
	</div>
		
		<hr class="separateur_parties">
		<h2 id="ss_part_9823">Spécificités des valeurs nulles</h2>
		<div class="ss_part_texte">
		La valeur NULL n'est pas une valeur comme les autres. En général, on 
la considère comme une valeur à problèmes, mais en fait elle est très 
pratique à partir du moment où on sait l'utiliser.<br>
<br>
<div class="rmq information">Notamment, ceux qui utilisent les jointures
 se plaignent qu'on ne peut récupérer les lignes où la réfèrence est 
nulle, c'est simplement parce qu'ils utilisent LEFT JOIN au lieu de 
RIGHT JOIN, mais ça c'est l'objet d'un autre chapitre. <img src="sql_fichiers/hihi.png" alt="^^" class="smilies"></div><br>
<br>
Les valeurs NULL, comme je vous le disais, sont spéciales. Par exemple, 
on ne peut pas les comparer. Pour comprendre ce principe, créons une 
table exemple :<br>
<br>
<span class="code">Code : SQL - <a href="#" class="select_code">Sélectionner</a></span><div class="code2 sql"><table class="syntaxtable"><tbody><tr><td class="linenos"><pre>1
2</pre></td><td class="code"><div class="syntax"><pre><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">ex_null</span> <span class="p">(</span> <span class="n">id</span> <span class="nb">INT</span> <span class="n">AUTO_INCREMENT</span><span class="p">,</span> <span class="n">points</span> <span class="nb">INT</span> <span class="k">DEFAULT</span> <span class="k">NULL</span><span class="p">,</span> <span class="k">PRIMARY</span> <span class="k">KEY</span> <span class="p">(</span> <span class="n">id</span> <span class="p">)</span> <span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">ex_null</span> <span class="p">(</span> <span class="n">points</span> <span class="p">)</span> <span class="k">VALUES</span> <span class="p">(</span> <span class="mi">135</span> <span class="p">),</span> <span class="p">(</span> <span class="mi">3484</span> <span class="p">),</span> <span class="p">(</span> <span class="k">DEFAULT</span> <span class="p">),</span> <span class="p">(</span> <span class="k">DEFAULT</span> <span class="p">),</span> <span class="p">(</span> <span class="mi">0</span> <span class="p">),</span> <span class="p">(</span> <span class="k">DEFAULT</span> <span class="p">);</span>
</pre></div>
</td></tr></tbody></table></div><br>
<br>
Dans cette table, les NULL représentent ceux qui n'ont jamais gagné ni 
perdu de points. Les 0 représentent ceux qui ont déjà gagné des points, 
mais les ont reperdus.<br>
<br>
Un autre façon de faire cette table aurait été d'ajouter une colonne 
"a_deja_joue", mais elle est totalement inutile dans le sens où un NULL 
nous permet d'avoir cette information plus facilement sans colonne 
supplémentaire.<br>
<br>
Essayons de récupérer les lignes de ceux qui n'ont jamais joué:<br>
<br>
<span class="code">Code : SQL - <a href="#" class="select_code">Sélectionner</a></span><div class="code2 sql"><table class="syntaxtable"><tbody><tr><td class="linenos"><pre>1</pre></td><td class="code"><div class="syntax"><pre><span class="k">SELECT</span> <span class="n">id</span><span class="p">,</span> <span class="n">points</span> <span class="k">FROM</span> <span class="n">ex_null</span> <span class="k">WHERE</span> <span class="n">points</span> <span class="o">=</span> <span class="k">NULL</span><span class="p">;</span>
</pre></div>
</td></tr></tbody></table></div><br>
<div class="centre"><img src="sql_fichiers/10280.png" alt="Image utilisateur"></div><br>
<br>
<div class="rmq question">Euh... <img src="sql_fichiers/blink.gif" alt="o_O" class="smilies"> MySQL est devenu bigleu ??  <img src="sql_fichiers/waw.png" alt=":waw:" class="smilies"> </div><br>
<br>
Non, c'est juste que les NULL ne peuvent pas être comparés à l'aide du signe "=". Et encore, MySQL est gentil : tout autre <acronym title="Système de Gestion de Base de Données Relationnelles">SGBDR</acronym> aurait renvoyé une erreur (ou le devrait, tout comme MySQL).<br>
<br>
Pour savoir si une valeur est nulle, il faut utiliser l'opérateur IS NULL :<br>
<br>
<span class="code">Code : SQL - <a href="#" class="select_code">Sélectionner</a></span><div class="code2 sql"><table class="syntaxtable"><tbody><tr><td class="linenos"><pre>1</pre></td><td class="code"><div class="syntax"><pre><span class="k">SELECT</span> <span class="n">id</span><span class="p">,</span> <span class="n">points</span> <span class="k">FROM</span> <span class="n">ex_null</span> <span class="k">WHERE</span> <span class="n">points</span> <span class="k">IS</span> <span class="k">NULL</span><span class="p">;</span>
</pre></div>
</td></tr></tbody></table></div><br>
<div class="centre"><img src="sql_fichiers/10281.png" alt="Image utilisateur"></div><br>
<br>
C'est déjà mieux, non ? <img src="sql_fichiers/langue.png" alt=":p" class="smilies"> <img src="sql_fichiers/smile.png" alt=":)" class="smilies"><br>
<br>
<div class="rmq attention">Attention également aux opérations comprenant des valeurs nulles : 1 + NULL = NULL en SQL !<br>
A noter les opérations avec OR : x OR NULL = x <strong>SAUF SI</strong> x = NULL ou x = 0 !</div>
		</div>
		<hr>
		
		<hr class="separateur_parties">
		<h2 id="ss_part_9822">Les fonctions de traitement des valeurs nulles</h2>
		<div class="ss_part_texte">
		<h3>COALESCE</h3><br>
<br>
Fonction très pratique : COALESCE prend une liste d'arguments aussi longue que l'on veut (pas trop quand même <img src="sql_fichiers/langue.png" alt=":p" class="smilies"> ), et renvoie la première valeur non nulle passée en argument :<br>
<br>
<span class="code">Code : SQL - <a href="#" class="select_code">Sélectionner</a></span><div class="code2 sql"><table class="syntaxtable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="syntax"><pre><span class="k">SELECT</span> <span class="n">COALESCE</span><span class="p">(</span><span class="k">NULL</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
</pre></div>
</td></tr></tbody></table></div><br>
Renvoie 0.<br>
<br>
Donc dans notre table d'essai, pour renvoyer 0 au lieu de NULL, on pourrait faire comme ça :<br>
<br>
<span class="code">Code : SQL - <a href="#" class="select_code">Sélectionner</a></span><div class="code2 sql"><table class="syntaxtable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="syntax"><pre><span class="k">SELECT</span> <span class="n">id</span><span class="p">,</span> <span class="n">COALESCE</span><span class="p">(</span><span class="n">points</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="k">FROM</span> <span class="n">ex_null</span><span class="p">;</span>
</pre></div>
</td></tr></tbody></table></div><br>
<div class="centre"><img src="sql_fichiers/10282.png" alt="Image utilisateur"></div><br>
<br>
Un exemple de la praticité de la fonction COALESCE :<br>
<br>
<span class="code">Code : SQL - <a href="#" class="select_code">Sélectionner</a></span><div class="code2 sql"><table class="syntaxtable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="syntax"><pre><span class="k">SELECT</span> <span class="n">id</span><span class="p">,</span> <span class="n">COALESCE</span><span class="p">(</span><span class="n">points</span><span class="p">,</span> <span class="s1">'N''a jamais joue'</span><span class="p">)</span> <span class="k">AS</span> <span class="n">points</span> <span class="k">FROM</span> <span class="n">ex_null</span><span class="p">;</span>
</pre></div>
</td></tr></tbody></table></div><br>
<div class="centre"><img src="sql_fichiers/6046.png" alt="Image utilisateur"></div><br>
<br>
Essayez donc d'obtenir un tel résultat si facilement avec une colonne "a_deja_joue" supplémentaire. <img src="sql_fichiers/clin.png" alt=";)" class="smilies"> <img src="sql_fichiers/smile.png" alt=":)" class="smilies"><br>
<br>
<h3>IFNULL</h3><br>
<br>
IFNULL est une fonction assez... spéciale et plutôt compliquée à comprendre au début, mais rassurez-vous : on s'y fait tous. <img src="sql_fichiers/langue.png" alt=":p" class="smilies"> <img src="sql_fichiers/smile.png" alt=":)" class="smilies"><br>
<br>
IFNULL prend deux paramètres.<br>
<br>
Si le premier paramètre est NULL, alors le deuxième paramètre est renvoyé.<br>
Si le premier paramètre n'est pas NULL, alors c'est lui-même qui est renvoyé.<br>
<br>
Compris ? <img src="sql_fichiers/langue.png" alt=":p" class="smilies"><br>
<br>
Relisez ça une paire de fois, et passez à la suite une fois que vous serez sûr d'avoir compris. <img src="sql_fichiers/smile.png" alt=":)" class="smilies"><br>
<br>
On va simuler une colonne a_deja_joue qui vaudra 0 si les points sont égaux à NULL, sinon 1.<br>
<br>
Pour cela, on va commencer par utiliser IFNULL(points, 0)<br>
<br>
<span class="code">Code : SQL - <a href="#" class="select_code">Sélectionner</a></span><div class="code2 sql"><table class="syntaxtable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="syntax"><pre><span class="k">SELECT</span> <span class="n">id</span><span class="p">,</span> <span class="n">IFNULL</span><span class="p">(</span><span class="n">points</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="k">AS</span> <span class="n">a_deja_joue</span> <span class="k">FROM</span> <span class="n">ex_null</span><span class="p">;</span>
</pre></div>
</td></tr></tbody></table></div><br>
<div class="centre"><img src="sql_fichiers/10283.png" alt="Image utilisateur"></div><br>
<br>
Ainsi, si points est NULL, on aura 0, sinon on aura [points].<br>
<br>
Pour le 0, c'est bon, mais nous, on veut 1, on ne veut pas points, car 
si points vaut 0 (comme l'enregistrement ayant pour id 5), notre système
 ne fonctionnera pas. On va donc diviser le résultat du IFNULL par 
COALESCE(points, 1). Ainsi on aura soit 1 (points &lt;&gt; 0 =&gt; 
points/points = 1), soit 0 (points = NULL =&gt; 0 / 1 = 0), soit NULL 
(points = 0 =&gt; 0 / 0 = NULL en SQL).<br>
<br>
<span class="code">Code : SQL - <a href="#" class="select_code">Sélectionner</a></span><div class="code2 sql"><table class="syntaxtable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="syntax"><pre><span class="k">SELECT</span> <span class="n">id</span><span class="p">,</span> <span class="n">IFNULL</span><span class="p">(</span><span class="n">points</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="o">/</span> <span class="n">COALESCE</span><span class="p">(</span><span class="n">points</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="k">AS</span> <span class="n">a_deja_joue</span> <span class="k">FROM</span> <span class="n">ex_null</span><span class="p">;</span>
</pre></div>
</td></tr></tbody></table></div><br>
<div class="centre"><img src="sql_fichiers/6047.png" alt="Image utilisateur"></div><br>
<br>
Ici, on peut améliorer un truc : comme vous le voyez, on obtient 1.0000 
et 0.0000, pas super joli, pour obtenir 1 et 0 il suffit d'utiliser 
l'opérateur DIV vu au second chapitre. <img src="sql_fichiers/smile.png" alt=":)" class="smilies"><br>
<br>
<span class="code">Code : SQL - <a href="#" class="select_code">Sélectionner</a></span><div class="code2 sql"><table class="syntaxtable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="syntax"><pre><span class="k">SELECT</span> <span class="n">id</span><span class="p">,</span> <span class="n">IFNULL</span><span class="p">(</span><span class="n">points</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="n">DIV</span> <span class="n">COALESCE</span><span class="p">(</span><span class="n">points</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="k">AS</span> <span class="n">a_deja_joue</span> <span class="k">FROM</span> <span class="n">ex_null</span><span class="p">;</span>
</pre></div>
</td></tr></tbody></table></div><br>
<div class="centre"><img src="sql_fichiers/10284.png" alt="Image utilisateur"></div><br>
<br>
Il reste un tout petit problème : les NULL (points = 0) doivent être 
transformés en 1. Pour cela, évidemment, rien de plus simple, il suffit 
d'utiliser, une fois de plus, la fonction COALESCE qui englobera cette 
fois toute la division :<br>
<br>
<span class="code">Code : SQL - <a href="#" class="select_code">Sélectionner</a></span><div class="code2 sql"><table class="syntaxtable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="syntax"><pre><span class="k">SELECT</span> <span class="n">id</span><span class="p">,</span> <span class="n">points</span><span class="p">,</span> <span class="n">COALESCE</span><span class="p">(</span><span class="n">IFNULL</span><span class="p">(</span><span class="n">points</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="n">DIV</span> <span class="n">COALESCE</span><span class="p">(</span><span class="n">points</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="mi">1</span><span class="p">)</span> <span class="k">AS</span> <span class="n">a_deja_joue</span> <span class="k">FROM</span> <span class="n">ex_null</span><span class="p">;</span>
</pre></div>
</td></tr></tbody></table></div><br>
<div class="centre"><img src="sql_fichiers/10285.png" alt="Image utilisateur"></div><br>
<br>
Assez sympa non ? Bon j'admets que ce n'était peut-être pas super super 
simple à comprendre, mais en y allant étape par étape, ça a du bien se 
passer, enfin j'espère. <img src="sql_fichiers/smile.png" alt=":)" class="smilies"><br>
<br>
<div class="rmq information">En fait, il existe une méthode <strong>beaucoup</strong> plus simple pour obtenir cela, l'inconvénient, c'est qu'elle n'est valable qu'avec MySQL. <img src="sql_fichiers/triste.png" alt=":(" class="smilies"> Je vous déconseille vraiment de l'utiliser, surtout si vous faites des calculs à base du résultat, voici cette autre requête :<br>
<br>
<span class="code">Code : SQL - <a href="#" class="select_code">Sélectionner</a></span><div class="code2 sql"><table class="syntaxtable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="syntax"><pre><span class="k">SELECT</span> <span class="n">id</span><span class="p">,</span> <span class="n">points</span> <span class="k">IS</span> <span class="k">NULL</span> <span class="k">AS</span> <span class="n">a_deja_joue</span> <span class="k">FROM</span> <span class="n">ex_null</span><span class="p">;</span>
</pre></div>
</td></tr></tbody></table></div><br>
<br>
Dans le prochain chapitre, nous verrons une méthode plus "standard" pour
 obtenir le même résultat, ne vous inquiétez pas : vous n'êtes pas 
condamné à utiliser IFNULL qui en fait n'est que très rarement utilisé 
et assez peu pratique... <img src="sql_fichiers/hihi.png" alt="^^" class="smilies"></div>
		</div>
		<hr>
		
		<hr class="separateur_parties">
		<h2 id="ss_part_9821">Le système de classement en une seule requête !</h2>
		<div class="ss_part_texte">
		Vous vous souvenez du système de classement vu dans le chapitre 
précédent ? (j'espère que oui sinon mon enseignement ne serait pas d'une
 grande utilité <img src="sql_fichiers/heureux.png" alt=":D" class="smilies"> ). Voici les requêtes que je vous avais données :<br>
<br>
<span class="code">Code : SQL - <a href="#" class="select_code">Sélectionner</a></span><div class="code2 sql"><table class="syntaxtable"><tbody><tr><td class="linenos"><pre>1
2</pre></td><td class="code"><div class="syntax"><pre><span class="k">SET</span> <span class="o">@</span><span class="n">place</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="k">SELECT</span> <span class="o">@</span><span class="n">place</span> <span class="p">:</span><span class="o">=</span> <span class="o">@</span><span class="n">place</span> <span class="o">+</span> <span class="mi">1</span> <span class="k">AS</span> <span class="n">place</span><span class="p">,</span> <span class="n">pseudo</span><span class="p">,</span> <span class="n">points</span> <span class="k">FROM</span> <span class="n">joueurs</span> <span class="k">ORDER</span> <span class="k">BY</span> <span class="n">points</span> <span class="k">DESC</span><span class="p">;</span>
</pre></div>
</td></tr></tbody></table></div><br>
<br>
Et bien grâce aux fonctions que nous venons de voir, nous pouvons maintenant tout rassembler sur une seule ligne !<br>
<br>
En fait, ça ne sert à strictement rien et ça ralentit un peu la requête,
 mais c'est toujours intéressant de le savoir car peut-être que vous 
serez confrontés à des cas où vous serez obligés d'utiliser la technique
 suivante :<br>
<br>
<span class="code">Code : SQL - <a href="#" class="select_code">Sélectionner</a></span><div class="code2 sql"><table class="syntaxtable"><tbody><tr><td class="linenos"><pre>1</pre></td><td class="code"><div class="syntax"><pre><span class="k">SELECT</span> <span class="o">@</span><span class="n">place</span> <span class="p">:</span><span class="o">=</span> <span class="n">COALESCE</span><span class="p">(</span><span class="o">@</span><span class="n">place</span><span class="p">,</span> <span class="o">@</span><span class="n">place</span> <span class="p">:</span><span class="o">=</span> <span class="mi">0</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span> <span class="k">AS</span> <span class="n">place</span><span class="p">,</span> <span class="n">pseudo</span><span class="p">,</span> <span class="n">points</span> <span class="k">FROM</span> <span class="n">joueurs</span> <span class="k">ORDER</span> <span class="k">BY</span> <span class="n">points</span> <span class="k">DESC</span><span class="p">;</span>
</pre></div>
</td></tr></tbody></table></div><br>
<div class="centre"><img src="sql_fichiers/10307.png" alt="Image utilisateur"></div><br>
<br>
Pratique non ? On peut également vérifier facilement si une variable a 
déjà été déclarée grâce à la fonction IFNULL. Comme vous le constatez, 
les fonctions de traitement des valeurs NULL sont relativement pratiques
 couplées aux variables utilisateur. Elles permettent aussi de compacter
 les requêtes et d'éviter un CASE (on verra ça dans le prochain 
chapitre) ou un IF (prochain chapitre également <img src="sql_fichiers/langue.png" alt=":p" class="smilies"> ), bien que parfois, ces fonctions (particulièrement IFNULL) font tout sauf compacter la requête. <img src="sql_fichiers/heureux.png" alt=":D" class="smilies"> <img src="sql_fichiers/langue.png" alt=":p" class="smilies">
		</div>
		<hr>
		
	<div id="chap_conclusion">
	Voilà, j'espère que ça vous a plu et que vous vous rendez compte de 
l'erreur que font les développeurs qui préfèrent travailler avec des 
chaînes vides plutôt qu'avec des valeurs nulles puis qui doivent se 
farcir des IF au lieu d'un simple COALESCE ou IFNULL. <img src="sql_fichiers/heureux.png" alt=":D" class="smilies">
	</div>
	
	<hr>
	<h1 id="chap_9834">Les conditions</h1>
	<div id="chap_intro">
	Les conditions SQL ne sont pas forcément importantes pour 
l'optimisation mais sont extrêmement pratiques pour obtenir des données 
tirées d'autres données très rapidement. Elles permettent de renvoyer 
une valeur si une expression est vraie, ou une autre valeur si elle est 
fausse...<br>
<br>
Enfin, je vous laisse découvrir ça, vous vous rendrez vite compte de leur utilité. <img src="sql_fichiers/clin.png" alt=";)" class="smilies"> <img src="sql_fichiers/smile.png" alt=":)" class="smilies">
	</div>
		
		<hr class="separateur_parties">
		<h2 id="ss_part_9833">Des conditions en SQL ? Différences entre MySQL et la norme</h2>
		<div class="ss_part_texte">
		La norme SQL prévoit ce qu'on appelle des structures conditionnelles 
qui permettent de dire "SI telle valeur vaut ça, faire ça, sinon si 
cette valeur vaut ça, faire ça, sinon faire ça".<br>
<br>
Ce n'est bien sûr qu'un exemple, mais c'est le principe. Une structure conditionnelle permet d'énoncer... Des conditions. <img src="sql_fichiers/langue.png" alt=":p" class="smilies"><br>
<br>
Dans MySQL, il existe 4 structures conditionnelles :<br>
<br>
<ul>
<li>CASE</li>
<li>NULLIF</li>
<li>IF</li>
<li>IFNULL</li>
</ul><br>
<br>
Les deux dernières structures peuvent très facilement être obtenues à 
partir des deux premières et sont plus limitées. En fait, elles sont 
spécifiques à MySQL et n'existent pas dans la norme.<br>
<br>
Il est notamment déconseillé d'utiliser IF car si un jour vous passez à 
PostGreSQL (par exemple), vous allez devoir restructurer toutes vos 
requêtes... <img src="sql_fichiers/triste.png" alt=":(" class="smilies"><br>
<br>
IFNULL, même s'il n'est pas repris par la norme, est implémenté dans la 
plupart des SGBDR (notamment MySQL, PostGreSQL et SQL Server), cela est 
donc moins grave si vous l'utilisez, mais c'est déconseillé quand 
même...
		</div>
		<hr>
		
		<hr class="separateur_parties">
		<h2 id="ss_part_9832">Utilisation de CASE</h2>
		<div class="ss_part_texte">
		CASE est la structure conditionnelle la plus répandue parmis les <acronym title="Système de Gestion de Base de Données Relationnelles">SGBDR</acronym>. Et c'est également la plus complète ! Les autres structures sont toutes dérivées de celle-ci.<br>
Pour toutes les structures conditionnelles suivantes, je vous montrerais à chaque fois le rapport entre la structure et CASE.<br>
<br>
<div class="rmq question">Bon alors comment on l'utilise, ce CASE ?</div><br>
<br>
C'est assez simple, voici tout d'abord une structure générale :<br>
<br>
<span class="code">Code : SQL - <a href="#" class="select_code">Sélectionner</a></span><div class="code2 sql"><table class="syntaxtable"><tbody><tr><td class="linenos"><pre>1
2
3
4
5
6</pre></td><td class="code"><div class="syntax"><pre><span class="k">CASE</span> <span class="p">[</span><span class="n">colonne</span><span class="p">]</span>
<span class="k">WHEN</span> <span class="n">condition</span> <span class="k">THEN</span> <span class="n">valeur</span>
<span class="k">WHEN</span> <span class="n">condition</span> <span class="k">THEN</span> <span class="n">valeur</span>
<span class="p">[...]</span>
<span class="k">ELSE</span> <span class="n">valeur</span>
<span class="k">END</span>
</pre></div>
</td></tr></tbody></table></div><br>
<br>
Bon, peut-être qu'à première vue, comme ça, ça ne vous parle pas trop, mais avec les exemples ça rentrera tout seul. <img src="sql_fichiers/clin.png" alt=";)" class="smilies"> <img src="sql_fichiers/smile.png" alt=":)" class="smilies"><br>
<br>
<div class="rmq erreur">Faites attention à ne pas oublier le END à la fin du CASE, sinon vous aurez droit à une belle erreur d'exécution ! <img src="sql_fichiers/mechant.png" alt=":colere2:" class="smilies"></div><br>
<br>
Voici un premier exemple :<br>
<br>
<span class="code">Code : SQL - <a href="#" class="select_code">Sélectionner</a></span><div class="code2 sql"><table class="syntaxtable"><tbody><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13</pre></td><td class="code"><div class="syntax"><pre><span class="k">SELECT</span> <span class="o">@</span><span class="n">a</span><span class="p">,</span> <span class="k">CASE</span>
        <span class="k">WHEN</span> <span class="o">@</span><span class="n">a</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="k">THEN</span> <span class="s1">'positif'</span>
        <span class="k">WHEN</span> <span class="o">@</span><span class="n">a</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="k">THEN</span> <span class="s1">'negatif'</span>
        <span class="k">WHEN</span> <span class="o">@</span><span class="n">a</span> <span class="o">=</span> <span class="mi">0</span> <span class="k">THEN</span> <span class="s1">'nul'</span>
        <span class="k">ELSE</span> <span class="s1">'NULL'</span>
        <span class="k">END</span> <span class="k">AS</span> <span class="n">signe_a</span><span class="p">;</span>
<span class="k">SET</span> <span class="o">@</span><span class="n">a</span> <span class="o">=</span> <span class="o">-</span><span class="mi">5</span><span class="p">;</span>
<span class="k">SELECT</span> <span class="o">@</span><span class="n">a</span><span class="p">,</span> <span class="k">CASE</span>
        <span class="k">WHEN</span> <span class="o">@</span><span class="n">a</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="k">THEN</span> <span class="s1">'positif'</span>
        <span class="k">WHEN</span> <span class="o">@</span><span class="n">a</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="k">THEN</span> <span class="s1">'negatif'</span>
        <span class="k">WHEN</span> <span class="o">@</span><span class="n">a</span> <span class="o">=</span> <span class="mi">0</span> <span class="k">THEN</span> <span class="s1">'nul'</span>
        <span class="k">ELSE</span> <span class="s1">'NULL'</span>
        <span class="k">END</span> <span class="k">AS</span> <span class="n">signe_a</span><span class="p">;</span>
</pre></div>
</td></tr></tbody></table></div><br>
<div class="centre"><img src="sql_fichiers/10357.png" alt="Image utilisateur"></div><br>
<br>
Je crois que l'exemple se passe de commentaire : le code veut dire ce qu'il veut dire. <img src="sql_fichiers/langue.png" alt=":p" class="smilies"><br>
<br>
Imaginons maintenant un autre cas : on fait un script de news et on a 
une colonne dans la table des news qui s'appelle 'validee' et qui 
indique si la news a été validée par un admin ou pas.<br>
<br>
Dans le panel d'administration, on affiche toutes les news dans un 
tableau, et dans la colonne "Validée ?", on aimerait indiquer "validée",
 ou "en attente de validation" plutôt que 0 ou 1...<br>
<br>
Rien de plus simple avec CASE ! Voici une table fictive :<br>
<br>
<span class="code">Code : SQL - <a href="#" class="select_code">Sélectionner</a></span><div class="code2 sql"><table class="syntaxtable"><tbody><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13</pre></td><td class="code"><div class="syntax"><pre><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">news</span> <span class="p">(</span>
<span class="n">id</span> <span class="nb">int</span> <span class="k">NOT</span> <span class="k">NULL</span> <span class="n">AUTO_INCREMENT</span><span class="p">,</span>
<span class="n">titre</span> <span class="nb">varchar</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>
<span class="n">validee</span> <span class="n">tinyint</span> <span class="k">NOT</span> <span class="k">NULL</span> <span class="k">DEFAULT</span> <span class="mi">0</span><span class="p">,</span>
<span class="k">PRIMARY</span> <span class="k">KEY</span><span class="p">(</span><span class="n">id</span><span class="p">)</span>
<span class="p">);</span>
 
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">news</span> <span class="p">(</span><span class="n">titre</span><span class="p">,</span> <span class="n">validee</span><span class="p">)</span> <span class="k">VALUES</span> <span class="p">(</span><span class="s1">'news 1'</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">news</span> <span class="p">(</span><span class="n">titre</span><span class="p">,</span> <span class="n">validee</span><span class="p">)</span> <span class="k">VALUES</span> <span class="p">(</span><span class="s1">'news 2'</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">news</span> <span class="p">(</span><span class="n">titre</span><span class="p">,</span> <span class="n">validee</span><span class="p">)</span> <span class="k">VALUES</span> <span class="p">(</span><span class="s1">'news 3'</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">news</span> <span class="p">(</span><span class="n">titre</span><span class="p">,</span> <span class="n">validee</span><span class="p">)</span> <span class="k">VALUES</span> <span class="p">(</span><span class="s1">'news 4'</span><span class="p">,</span> <span class="mi">2</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">news</span> <span class="p">(</span><span class="n">titre</span><span class="p">,</span> <span class="n">validee</span><span class="p">)</span> <span class="k">VALUES</span> <span class="p">(</span><span class="s1">'news 5'</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">news</span> <span class="p">(</span><span class="n">titre</span><span class="p">,</span> <span class="n">validee</span><span class="p">)</span> <span class="k">VALUES</span> <span class="p">(</span><span class="s1">'news 6'</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
</pre></div>
</td></tr></tbody></table></div><br>
<br>
Essayez de trouver une requête qui renverra :<br>
<ul>
<li>L'id de la news</li>
<li>Le titre de la news</li>
<li>Si la colonne validee vaut 1, 'Validee', si la colonne vaut 0, 'En 
attente de validation', sinon 'Etat inconnu' dans une colonne nommée 
validee_txt</li>
</ul><br>
<br>
Quand vous penserez avoir trouvé la requête, comparez votre code au mien :<br>
<br>
<span class="spoiler">Secret <a href="#" onclick="switch_spoiler(this); return false;">(cliquez pour afficher)</a></span><div class="spoiler2"><div class="spoiler3"><span class="code">Code : SQL - <a href="#" class="select_code">Sélectionner</a></span><div class="code2 sql"><table class="syntaxtable"><tbody><tr><td class="linenos"><pre>1</pre></td><td class="code"><div class="syntax"><pre><span class="k">SELECT</span> <span class="n">id</span><span class="p">,</span> <span class="n">titre</span><span class="p">,</span> <span class="k">CASE</span> <span class="k">WHEN</span> <span class="n">validee</span> <span class="o">=</span> <span class="mi">1</span> <span class="k">THEN</span> <span class="s1">'Validee'</span> <span class="k">WHEN</span> <span class="n">validee</span> <span class="o">=</span> <span class="mi">0</span> <span class="k">THEN</span> <span class="s1">'En attente de validation'</span> <span class="k">ELSE</span> <span class="s1">'Etat inconnu'</span> <span class="k">END</span> <span class="k">AS</span> <span class="n">validee_txt</span> <span class="k">FROM</span> <span class="n">news</span><span class="p">;</span>
</pre></div>
</td></tr></tbody></table></div><br>
<div class="centre"><img src="sql_fichiers/10358.png" alt="Image utilisateur"></div></div></div><br>
<br>
Bon, normalement c'était pas trop dur. <img src="sql_fichiers/heureux.png" alt=":D" class="smilies"><br>
<br>
<div class="rmq question">Oui mais attend, tantôt en nous montrant la structure de base, j'ai vu qu'elle commençait comme ça : <strong>CASE [colonne] WHEN ...</strong> A quoi correspond ce [colonne] ?</div><br>
<br>
Bien vu, en fait l'exemple que je viens de vous montrer peut être 
simplifié grâce à ce [colonne]. Comme un exemple vaut mieux qu'un long 
discours, voici le code qu'on aurait pu aussi utiliser :<br>
<br>
<span class="code">Code : SQL - <a href="#" class="select_code">Sélectionner</a></span><div class="code2 sql"><table class="syntaxtable"><tbody><tr><td class="linenos"><pre>1</pre></td><td class="code"><div class="syntax"><pre><span class="k">SELECT</span> <span class="n">id</span><span class="p">,</span> <span class="n">titre</span><span class="p">,</span> <span class="k">CASE</span> <span class="n">validee</span> <span class="k">WHEN</span> <span class="mi">1</span> <span class="k">THEN</span> <span class="s1">'Validee'</span> <span class="k">WHEN</span> <span class="mi">0</span> <span class="k">THEN</span> <span class="s1">'En attente de validation'</span> <span class="k">ELSE</span> <span class="s1">'Etat inconnu'</span> <span class="k">END</span> <span class="k">AS</span> <span class="n">validee_txt</span> <span class="k">FROM</span> <span class="n">news</span><span class="p">;</span>
</pre></div>
</td></tr></tbody></table></div><br>
<div class="centre"><img src="sql_fichiers/10359.png" alt="Image utilisateur"></div><br>
<br>
Pratique aussi non ? Le seul problème avec cette syntaxe c'est qu'elle 
ne s'applique pas à tous les cas, par exemple notre premier exemple 
(savoir si @a était positif, négatif, nul (0) ou NULL) ne pourrait 
utiliser cette syntaxe car on ne peut pas mettre le signe "&gt;" ou 
"&lt;".<br>
<br>
Vous suivez toujours ? Tant mieux parce qu'on a fait le plus dur. <img src="sql_fichiers/heureux.png" alt=":D" class="smilies"> <img src="sql_fichiers/langue.png" alt=":p" class="smilies">
		</div>
		<hr>
		
		<hr class="separateur_parties">
		<h2 id="ss_part_9831">Les autres structures conditionnelles</h2>
		<div class="ss_part_texte">
		Comme je vous l'ai dit, il existe trois autres structures conditionnelles en dehors de CASE en MySQL : IF, NULLIF et IFNULL.<br>
<br>
Nous avons déjà vu l'utilité de IFNULL mais je vais en reparler juste 
pour vous montrer le lien avec CASE et la facilité de ce dernier.<br>
<br>
<h3>Une alternative simplifiée : IF</h3><br>
<br>
IF est en fait une fonction. Voici comment on l'utilise :<br>
<br>
<span class="code">Code : SQL - <a href="#" class="select_code">Sélectionner</a></span><div class="code2 sql"><table class="syntaxtable"><tbody><tr><td class="linenos"><pre>1</pre></td><td class="code"><div class="syntax"><pre><span class="k">SELECT</span> <span class="n">IF</span><span class="p">(</span><span class="n">condition</span><span class="p">,</span> <span class="n">operation_si_vrai</span><span class="p">,</span> <span class="n">operation_si_faux</span><span class="p">);</span>
</pre></div>
</td></tr></tbody></table></div><br>
<br>
Comme vous le constatez, IF est beaucoup plus limité que CASE, voici comment on pourrait reproduire IF dans un CASE :<br>
<br>
<span class="code">Code : SQL - <a href="#" class="select_code">Sélectionner</a></span><div class="code2 sql"><table class="syntaxtable"><tbody><tr><td class="linenos"><pre>1</pre></td><td class="code"><div class="syntax"><pre><span class="k">SELECT</span> <span class="k">CASE</span> <span class="k">WHEN</span> <span class="n">condition</span> <span class="k">THEN</span> <span class="n">operation_si_vrai</span> <span class="k">ELSE</span> <span class="n">operation_si_faux</span> <span class="k">END</span><span class="p">;</span>
</pre></div>
</td></tr></tbody></table></div><br>
<br>
Vous vous souvenez de ce qu'on a vu au chapitre précédent ? La table 
ex_null qui contenait des scores ou NULL si le joueur n'avait joué 
aucune partie...<br>
<br>
Et bien le IF se prête bien à cette situation, nous avions utilisé cette requête :<br>
<br>
<span class="code">Code : SQL - <a href="#" class="select_code">Sélectionner</a></span><div class="code2 sql"><table class="syntaxtable"><tbody><tr><td class="linenos"><pre>1</pre></td><td class="code"><div class="syntax"><pre><span class="k">SELECT</span> <span class="n">id</span><span class="p">,</span> <span class="n">COALESCE</span><span class="p">(</span><span class="n">IFNULL</span><span class="p">(</span><span class="n">points</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="o">/</span> <span class="n">COALESCE</span><span class="p">(</span><span class="n">points</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="mi">1</span><span class="p">)</span> <span class="k">AS</span> <span class="n">a_deja_joue</span> <span class="k">FROM</span> <span class="n">ex_null</span><span class="p">;</span>
</pre></div>
</td></tr></tbody></table></div><br>
<div class="centre"><img src="sql_fichiers/10285.png" alt="Image utilisateur"></div><br>
<br>
Et bien avec le IF, voici ce qui suffirait :<br>
<br>
<span class="code">Code : SQL - <a href="#" class="select_code">Sélectionner</a></span><div class="code2 sql"><table class="syntaxtable"><tbody><tr><td class="linenos"><pre>1</pre></td><td class="code"><div class="syntax"><pre><span class="k">SELECT</span> <span class="n">id</span><span class="p">,</span> <span class="n">IF</span><span class="p">(</span><span class="n">points</span> <span class="k">IS</span> <span class="k">NULL</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="k">AS</span> <span class="n">a_deja_joue</span> <span class="k">FROM</span> <span class="n">ex_null</span><span class="p">;</span>
</pre></div>
</td></tr></tbody></table></div><br>
<br>
On peut même l'améliorer en mettant oui / non à la place de 1 / 0. <img src="sql_fichiers/smile.png" alt=":)" class="smilies"><br>
<br>
<span class="code">Code : SQL - <a href="#" class="select_code">Sélectionner</a></span><div class="code2 sql"><table class="syntaxtable"><tbody><tr><td class="linenos"><pre>1</pre></td><td class="code"><div class="syntax"><pre><span class="k">SELECT</span> <span class="n">id</span><span class="p">,</span> <span class="n">IF</span><span class="p">(</span><span class="n">points</span> <span class="k">IS</span> <span class="k">NULL</span><span class="p">,</span> <span class="s1">'non'</span><span class="p">,</span> <span class="s1">'oui'</span><span class="p">)</span> <span class="k">AS</span> <span class="n">a_deja_joue</span> <span class="k">FROM</span> <span class="n">ex_null</span><span class="p">;</span>
</pre></div>
</td></tr></tbody></table></div><br>
<div class="centre"><img src="sql_fichiers/10360.png" alt="Image utilisateur"></div><br>
<br>
Comme vous le voyez, c'est beaucoup plus pratique et plus simple que notre solution à base de COALESCE / IFNULL. <img src="sql_fichiers/heureux.png" alt=":D" class="smilies"> <img src="sql_fichiers/langue.png" alt=":p" class="smilies"><br>
<br>
<h3>NULLIF</h3><br>
<br>
<span class="code">Code : SQL - <a href="#" class="select_code">Sélectionner</a></span><div class="code2 sql"><table class="syntaxtable"><tbody><tr><td class="linenos"><pre>1</pre></td><td class="code"><div class="syntax"><pre><span class="k">SELECT</span> <span class="k">NULLIF</span><span class="p">(</span><span class="n">expr1</span><span class="p">,</span> <span class="n">expr2</span><span class="p">)</span> <span class="k">AS</span> <span class="n">resultat</span><span class="p">;</span>
</pre></div>
</td></tr></tbody></table></div><br>
<br>
SI expr1 = expr2 ALORS resultat vaudra NULL<br>
SINON resultat vaudra expr1.<br>
<br>
Avec CASE :<br>
<br>
<span class="code">Code : SQL - <a href="#" class="select_code">Sélectionner</a></span><div class="code2 sql"><table class="syntaxtable"><tbody><tr><td class="linenos"><pre>1</pre></td><td class="code"><div class="syntax"><pre><span class="k">SELECT</span> <span class="k">CASE</span> <span class="k">WHEN</span> <span class="n">expr1</span> <span class="o">=</span> <span class="n">expr2</span> <span class="k">THEN</span> <span class="k">NULL</span> <span class="k">ELSE</span> <span class="n">expr1</span> <span class="k">END</span> <span class="k">AS</span> <span class="n">resultat</span><span class="p">;</span>
</pre></div>
</td></tr></tbody></table></div><br>
<br>
Bon, en fait l'utilité de cette fonction est assez... réduite. <img src="sql_fichiers/siffle.png" alt=":-°" class="smilies"> Rarissimes sont les cas où elle vous servira, donc je ne détaille pas. <img src="sql_fichiers/hihi.png" alt="^^" class="smilies"><br>
<br>
<h3>IFNULL</h3><br>
<br>
On a déjà vu l'utilité de cette fonction, qui s'utilise comme cela :<br>
<br>
<span class="code">Code : SQL - <a href="#" class="select_code">Sélectionner</a></span><div class="code2 sql"><table class="syntaxtable"><tbody><tr><td class="linenos"><pre>1</pre></td><td class="code"><div class="syntax"><pre><span class="k">SELECT</span> <span class="n">IFNULL</span><span class="p">(</span><span class="n">expr1</span><span class="p">,</span> <span class="n">expr2</span><span class="p">)</span> <span class="k">AS</span> <span class="n">resultat</span><span class="p">;</span>
</pre></div>
</td></tr></tbody></table></div><br>
<br>
SI expr1 est NULL ALORS renvoyer expr2<br>
SINON renvoyer expr1<br>
<br>
Avec CASE :<br>
<br>
<span class="code">Code : SQL - <a href="#" class="select_code">Sélectionner</a></span><div class="code2 sql"><table class="syntaxtable"><tbody><tr><td class="linenos"><pre>1</pre></td><td class="code"><div class="syntax"><pre><span class="k">SELECT</span> <span class="k">CASE</span> <span class="k">WHEN</span> <span class="n">expr1</span> <span class="k">IS</span> <span class="k">NULL</span> <span class="k">THEN</span> <span class="n">expr2</span> <span class="k">ELSE</span> <span class="n">expr1</span> <span class="k">END</span> <span class="k">AS</span> <span class="n">resultat</span><span class="p">;</span>
</pre></div>
</td></tr></tbody></table></div><br>
<br>
Personnellement, je trouve cette fonction tout autant inutile que la 
précédente, dans la plupart des cas, un CASE (voir même un IF, comme 
nous l'avons vu) fait parfaitement l'affaire !<br>
<br>
Si j'étais vous, je n'encombrerais pas mon cerveau des deux dernières fonctions (NULLIF et IFNULL)...<br>
<br>
<div class="rmq information">J'ai dit que le IF était à éviter pour prévenir les ennuis lors d'un changement de <acronym title="Système de Gestion de Base de Données Relationnelles">SGBDR</acronym>,
 toutefois la plupart de ces derniers supportent les fonctions 
utilisateur, qui permettent de recréer une fonction IF sans encombre, ne
 vous privez donc pas du IF s'il peut vraiment vous être utile, mais 
évitez absolument les imbrications de IF et préférez le CASE, créé pour 
gérer le ELSEIF. <img src="sql_fichiers/smile.png" alt=":)" class="smilies"></div>
		</div>
		<hr>
		
		<hr class="separateur_parties">
		<h2 id="ss_part_9830">[Problème SQL] Somme des nombres si leur nombre correspond à un nombre...</h2>
		<div class="ss_part_texte">
		Voici le premier problème SQL que je vous propose, d'autres suivront, 
en fait un problème SQL ressemble à un mini-TP sauf qu'un mini-TP vous 
servira peut-être un jour, tandis que les problèmes sont totalement 
loufoques et ne vous serviront certainement jamais. <img src="sql_fichiers/heureux.png" alt=":D" class="smilies"><br>
<br>
J'espère que vous trouvez le titre accrocheur. <img src="sql_fichiers/blink.gif" alt="o_O" class="smilies"> <br>
<br>
Voici le problème : on a une table de 7 colonnes dont une "id" :<br>
<br>
<span class="code">Code : SQL - <a href="#" class="select_code">Sélectionner</a></span><div class="code2 sql"><table class="syntaxtable"><tbody><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22</pre></td><td class="code"><div class="syntax"><pre><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">probleme1</span> <span class="p">(</span>
        <span class="n">id</span> <span class="nb">int</span> <span class="k">NOT</span> <span class="k">NULL</span> <span class="n">AUTO_INCREMENT</span><span class="p">,</span>
        <span class="n">i1</span> <span class="nb">int</span> <span class="k">DEFAULT</span> <span class="k">NULL</span><span class="p">,</span>
        <span class="n">i2</span> <span class="nb">int</span> <span class="k">DEFAULT</span> <span class="k">NULL</span><span class="p">,</span>
        <span class="n">i3</span> <span class="nb">int</span> <span class="k">DEFAULT</span> <span class="k">NULL</span><span class="p">,</span>
        <span class="n">i4</span> <span class="nb">int</span> <span class="k">DEFAULT</span> <span class="k">NULL</span><span class="p">,</span>
        <span class="n">i5</span> <span class="nb">int</span> <span class="k">DEFAULT</span> <span class="k">NULL</span><span class="p">,</span>
        <span class="n">i6</span> <span class="nb">int</span> <span class="k">DEFAULT</span> <span class="k">NULL</span><span class="p">,</span>
        <span class="k">PRIMARY</span> <span class="k">KEY</span><span class="p">(</span><span class="n">id</span><span class="p">)</span>
<span class="p">);</span>
 
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">probleme1</span> <span class="p">(</span><span class="n">i1</span><span class="p">,</span> <span class="n">i2</span><span class="p">,</span> <span class="n">i3</span><span class="p">,</span> <span class="n">i4</span><span class="p">,</span> <span class="n">i5</span><span class="p">,</span> <span class="n">i6</span><span class="p">)</span> <span class="k">VALUES</span>
<span class="p">(</span><span class="k">NULL</span><span class="p">,</span> <span class="k">NULL</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="k">NULL</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span>
<span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="k">NULL</span><span class="p">,</span> <span class="k">NULL</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="k">NULL</span><span class="p">,</span> <span class="k">NULL</span><span class="p">),</span>
<span class="p">(</span><span class="k">NULL</span><span class="p">,</span> <span class="k">NULL</span><span class="p">,</span> <span class="k">NULL</span><span class="p">,</span> <span class="k">NULL</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">),</span>
<span class="p">(</span><span class="k">NULL</span><span class="p">,</span> <span class="k">NULL</span><span class="p">,</span> <span class="k">NULL</span><span class="p">,</span> <span class="k">NULL</span><span class="p">,</span> <span class="k">NULL</span><span class="p">,</span> <span class="k">NULL</span><span class="p">),</span>
<span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="o">-</span><span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="k">NULL</span><span class="p">,</span> <span class="k">NULL</span><span class="p">,</span> <span class="k">NULL</span><span class="p">),</span>
<span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
<span class="p">(</span><span class="mi">9</span><span class="p">,</span> <span class="k">NULL</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="k">NULL</span><span class="p">,</span> <span class="k">NULL</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
<span class="p">(</span><span class="o">-</span><span class="mi">8</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="k">NULL</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
<span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
<span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="k">NULL</span><span class="p">,</span> <span class="k">NULL</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
</pre></div>
</td></tr></tbody></table></div><br>
<br>
<div class="rmq attention">Rappel :<br>
<ul>
<li>1 + NULL = NULL</li>
<li>0 OR NULL = NULL</li>
<li>1 OR NULL = 1</li>
</ul></div><br>
<br>
On veut obtenir :<br>
<ul>
<li>Une colonne id contenant simplement l'id de la ligne.</li>
<li>Une colonne somme contenant la somme des colonnes i1, i2, i3, i4, i5 et i6 ou NULL lorsque toutes ces colonnes valent NULL.</li>
<li>Une colonne nb_cols qui contiendra le nombre de colonnes non-nulles.</li>
<li>Les colonnes i1 à i6.</li>
</ul><br>
<br>
<div class="rmq information">Il est possible de créer la colonne nb_cols sans aucune condition. <img src="sql_fichiers/heureux.png" alt=":D" class="smilies"></div><br>
<br>
Voici ce que vous devriez arriver à obtenir :<br>
<div class="centre"><img src="sql_fichiers/10362.png" alt="Image utilisateur"></div><br>
<br>
<div class="rmq information">Je sais très bien que ce que je vous 
demande est loin d'être facile, mais en SQL, rares seront les cas où 
tout sera facile et viendra du premier coup ! Croyez moi ce problème est
 un bon entrainement, essayez de le faire sérieusement et ne vous 
découragez pas, si vous n'y arrivez pas ne regardez pas la solution ! 
Demander un indice sur le forum PHP / MySQL serait une bien meilleure 
idée !</div><br>
<br>
<span class="spoiler">Secret <a href="#" onclick="switch_spoiler(this); return false;">(cliquez pour afficher)</a></span><div class="spoiler2"><div class="spoiler3"><span class="code">Code : SQL - <a href="#" class="select_code">Sélectionner</a></span><div class="code2 sql"><table class="syntaxtable"><tbody><tr><td class="linenos"><pre>1
2
3
4
5
6
7</pre></td><td class="code"><div class="syntax"><pre><span class="k">SELECT</span>
        <span class="n">id</span><span class="p">,</span> <span class="o">@</span><span class="n">somme</span> <span class="p">:</span><span class="o">=</span> <span class="k">CASE</span>
                <span class="k">WHEN</span> <span class="p">(((((</span><span class="n">i1</span> <span class="o">+</span> <span class="mi">1</span> <span class="k">OR</span> <span class="n">i2</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="k">OR</span> <span class="n">i3</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="k">OR</span> <span class="n">i4</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="k">OR</span> <span class="n">i5</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="k">OR</span> <span class="n">i6</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="k">IS</span> <span class="k">NULL</span> <span class="k">THEN</span> <span class="s1">'NULL'</span>
                <span class="k">ELSE</span> <span class="n">COALESCE</span><span class="p">(</span><span class="n">i1</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="o">+</span> <span class="n">COALESCE</span><span class="p">(</span><span class="n">i2</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="o">+</span> <span class="n">COALESCE</span><span class="p">(</span><span class="n">i3</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="o">+</span> <span class="n">COALESCE</span><span class="p">(</span><span class="n">i4</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="o">+</span> <span class="n">COALESCE</span><span class="p">(</span><span class="n">i5</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="o">+</span> <span class="n">COALESCE</span><span class="p">(</span><span class="n">i6</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="k">END</span> <span class="k">AS</span> <span class="n">somme</span><span class="p">,</span>
        <span class="mi">6</span> <span class="o">+</span> <span class="o">@</span><span class="n">somme</span> <span class="o">-</span> <span class="n">COALESCE</span><span class="p">(</span><span class="n">i1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="o">-</span> <span class="n">COALESCE</span><span class="p">(</span><span class="n">i2</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="o">-</span> <span class="n">COALESCE</span><span class="p">(</span><span class="n">i3</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="o">-</span> <span class="n">COALESCE</span><span class="p">(</span><span class="n">i4</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="o">-</span> <span class="n">COALESCE</span><span class="p">(</span><span class="n">i5</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="o">-</span> <span class="n">COALESCE</span><span class="p">(</span><span class="n">i6</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="k">AS</span> <span class="n">nb_cols</span><span class="p">,</span>
        <span class="n">i1</span><span class="p">,</span> <span class="n">i2</span><span class="p">,</span> <span class="n">i3</span><span class="p">,</span> <span class="n">i4</span><span class="p">,</span> <span class="n">i5</span><span class="p">,</span> <span class="n">i6</span>
<span class="k">FROM</span> <span class="n">probleme1</span><span class="p">;</span>
</pre></div>
</td></tr></tbody></table></div><br>
<img src="sql_fichiers/waw.png" alt=":waw:" class="smilies"><br>
<br>
Bien sûr, il serait tout à fait surprenant que vous ayez trouvé 
exactement le même que moi, mais ce qui compte pour le moment, c'est que
 ça fonctionne, pas que ce soit optimisé et supersonique ! <img src="sql_fichiers/langue.png" alt=":p" class="smilies">
 Ma requête est de votre niveau, mais sachez qu'il existe d'autres 
façons de faire encore plus rapides et pratiques ! Mais notre niveau 
n'est pas encore assez élevé pour ce type de requêtes et on s'en tiendra
 à la mienne pour le moment. <img src="sql_fichiers/langue.png" alt=":p" class="smilies"><br>
Si vous n'avez pas la même requête que moi c'est normal, mais essayez de comprendre la mienne, c'est important !<br>
<div class="centre"><img src="sql_fichiers/10363.png" alt="Image utilisateur"></div><br>
</div></div>
		</div>
		<hr>
		
	<div id="chap_conclusion">
	Comme vous le constatez, les structures et fonctions conditionnelles de
 MySQL permettent d'éviter facilement du traitement du côté de PHP. 
Toutefois, il ne faut pas non plus utiliser les conditions pour tout et 
n'importe quoi, certains traitements sont plus rapides du côté de PHP 
que du côté de MySQL, mais en général le mieux est de les faire du côté 
de SQL qui a l'avantage de mettre en cache les résultats des requêtes 
souvent appelées, contrairement à PHP. <img src="sql_fichiers/smile.png" alt=":)" class="smilies">
	</div>
	
	<hr>
	<h1 id="chap_9845">Et si on faisait un peu de SQL ? ...</h1>
	<div id="chap_intro">
	Un petit chapitre qui commencera par faire le point sur la norme SQL 
dont je vous parle souvent mais que je ne vous ai jamais vraiment 
expliquée, et qui passera ensuite à nos premières requêtes MySQL armées 
de la clause FROM qui permet de récupérer (enfin !) des données qui 
proviennent de quelque part et non pas qu'on crée nous-mêmes dans la 
requête. <img src="sql_fichiers/smile.png" alt=":)" class="smilies">
	</div>
		
		<hr class="separateur_parties">
		<h2 id="ss_part_9844">La norme SQL ?</h2>
		<div class="ss_part_texte">
		Je vous en parle souvent, en vous disant généralement "Il faut savoir 
que ce n'est pas la norme, à éviter donc ...", mais au fait c'est quoi ?<br>
<br>
Une sous-partie un peu théorique, pas forcément nécessaire mais c'est 
toujours bon à savoir, ce ne sera pas très détaillé, le but est juste de
 vous faire une idée de ce qu'est cette fameuse norme. <img src="sql_fichiers/smile.png" alt=":)" class="smilies"><br>
<br>
Tout d'abord il faut vous rappeler que MySQL est un programme, ou un <acronym title="Système de Gestion de Bases de Données Relationnelles">SGBDR</acronym> qui a donc été développé par des gens comme vous et moi.<br>
<br>
Ces développeurs ne sont pas partis de rien, une étape importante 
lorsqu'on programme est de bien établir ce à quoi on veut arriver au 
final, et ce n'est franchement pas simple !<br>
<br>
La norme SQL est en fait un document, rien de plus, qui contient toutes 
les fonctions qu'un SGBDR devrait implémenter, autrement dit la liste 
des fonctionnalités d'un SGBDR.<br>
<br>
Bien sûr les développeurs ne sont pas obligés de suivre à la lettre ce 
document, c'est pourquoi plusieurs programmes faisant du SQL sont 
apparus. Vous connaissez déjà MySQL qui respecte une partie conséquente 
de cette norme (on va dire 60%), mais il en existe d'autres. Le plus 
connu étant certainement Oracle, très ancien et prévu pour les très gros
 volumes de données (plusieurs teras, c'est à dire plusieurs milliers de
 gigas !).<br>
<br>
Mais on pourrait également citer PostGreSQL, que j'affecte particulièrement et qui respecte plus de 95% de cette norme !<br>
<br>
<h3>Une norme, plusieurs documents...</h3><br>
<br>
Je vous ai dit que la norme est un document, ce qui est vrai mais il 
faut encore savoir que plusieurs versions de SQL existent, les 2 dont on
 parle actuellement sont les normes SQL-92 (ou SQL2) et SQL-99 (SQL3).<br>
<br>
On parle encore beaucoup de SQL-92 puisque c'est la norme que respecte 
la plupart des SGBDR actuellement (ils n'ont pas encore eu le temps de 
s'adapter à la dernière version, tout de même relativement récente).<br>
<br>
Vous vous demandez sans doute ce qu'apporte SQL-99, vous répondre ici 
serait trop long, mais en deux mots, tous les concepts de triggers, UDF,
 UDT, vues, schémas et autres facettes de SQL que nous n'avons pas 
encore abordées, mais nous le ferons en temps voulu <img src="sql_fichiers/smile.png" alt=":)" class="smilies"> (sauf pour les UDT ou User Defined Types qui ne sont pas (encore ?) gérés par MySQL).<br>
<br>
Si vous voulez voir le document en question, je suis disposé à vous 
l'envoyer, contactez moi par MP, après tout vous me supportez depuis 5 
chapitres, je vous dois bien ça. <img src="sql_fichiers/smile.png" alt=":)" class="smilies">
		</div>
		<hr>
		
		<hr class="separateur_parties">
		<h2 id="ss_part_9843">Quelques données de test</h2>
		<div class="ss_part_texte">
		Normalement cette sous-partie n'est pas trop dure à suivre. <img src="sql_fichiers/langue.png" alt=":p" class="smilies"><br>
<br>
Copiez-collez le code ci-dessous dans une console MySQL, c'est tout ! <img src="sql_fichiers/smile.png" alt=":)" class="smilies"><br>
<br>
<span class="code">Code : SQL - <a href="#" class="select_code">Sélectionner</a></span><div class="code2 sql"><table class="syntaxtable"><tbody><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68</pre></td><td class="code"><div class="syntax"><pre><span class="c1">-- Données de test pour le tutoriel du SdZ</span>
<span class="c1">-- Base de données "news_test"</span>
<span class="c1">-- 2 tables</span>

<span class="k">CREATE</span> <span class="k">DATABASE</span> <span class="n">news_test</span><span class="p">;</span>

<span class="n">USE</span> <span class="n">news_test</span><span class="p">;</span>

<span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">t_categorie</span> <span class="p">(</span>
        <span class="n">cat_id</span> <span class="n">TINYINT</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span> <span class="n">UNSIGNED</span> <span class="k">NOT</span> <span class="k">NULL</span> <span class="n">AUTO_INCREMENT</span><span class="p">,</span>
        <span class="n">cat_nom</span> <span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>
        <span class="k">PRIMARY</span> <span class="k">KEY</span> <span class="p">(</span> <span class="n">cat_id</span> <span class="p">)</span>
<span class="p">)</span> <span class="n">MAX_ROWS</span> <span class="o">=</span> <span class="mi">30</span><span class="p">;</span>

<span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">t_news</span> <span class="p">(</span>
        <span class="n">nws_id</span> <span class="nb">SMALLINT</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span> <span class="n">UNSIGNED</span> <span class="k">NOT</span> <span class="k">NULL</span> <span class="n">AUTO_INCREMENT</span><span class="p">,</span>
        <span class="n">nws_catid</span> <span class="n">TINYINT</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span> <span class="n">UNSIGNED</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>
        <span class="n">nws_titre</span> <span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>
        <span class="n">nws_auteur</span> <span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>
        <span class="n">nws_date</span> <span class="n">DATETIME</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>
        <span class="n">nws_nb_vues</span> <span class="nb">INT</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span> <span class="k">NOT</span> <span class="k">NULL</span> <span class="k">DEFAULT</span> <span class="mi">0</span><span class="p">,</span>
        <span class="n">nws_texte</span> <span class="nb">TEXT</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>
        <span class="k">PRIMARY</span> <span class="k">KEY</span> <span class="p">(</span> <span class="n">nws_id</span> <span class="p">),</span>
        <span class="k">INDEX</span> <span class="n">i_nws_catid</span> <span class="p">(</span> <span class="n">nws_catid</span> <span class="p">)</span>
<span class="p">);</span>

<span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">t_commentaire</span> <span class="p">(</span>
        <span class="n">cmt_id</span> <span class="nb">INT</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span> <span class="n">UNSIGNED</span> <span class="k">NOT</span> <span class="k">NULL</span> <span class="n">AUTO_INCREMENT</span><span class="p">,</span>
        <span class="n">cmt_nwsid</span> <span class="nb">SMALLINT</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span> <span class="n">UNSIGNED</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>
        <span class="n">cmt_auteur</span> <span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span> <span class="k">DEFAULT</span> <span class="k">NULL</span><span class="p">,</span>
        <span class="n">cmt_date</span> <span class="n">DATETIME</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>
        <span class="n">cmt_texte</span> <span class="nb">TEXT</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>
        <span class="k">PRIMARY</span> <span class="k">KEY</span> <span class="p">(</span> <span class="n">cmt_id</span> <span class="p">),</span>
        <span class="k">INDEX</span> <span class="n">i_cmt_nwsid</span> <span class="p">(</span> <span class="n">cmt_nwsid</span> <span class="p">)</span>
<span class="p">);</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">t_categorie</span> <span class="p">(</span> <span class="n">cat_id</span><span class="p">,</span> <span class="n">cat_nom</span> <span class="p">)</span> <span class="k">VALUES</span>
        <span class="p">(</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">'Site du Zér0'</span> <span class="p">),</span>
        <span class="p">(</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">'Musique'</span> <span class="p">),</span>
        <span class="p">(</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">'(My)SQL'</span> <span class="p">);</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">t_news</span> <span class="p">(</span> <span class="n">nws_id</span><span class="p">,</span> <span class="n">nws_catid</span><span class="p">,</span> <span class="n">nws_titre</span><span class="p">,</span> <span class="n">nws_auteur</span><span class="p">,</span> <span class="n">nws_date</span><span class="p">,</span> <span class="n">nws_nb_vues</span><span class="p">,</span> <span class="n">nws_texte</span> <span class="p">)</span> <span class="k">VALUES</span>
        <span class="p">(</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">'Vive la guitare'</span><span class="p">,</span> <span class="s1">'Alexi Laiho'</span><span class="p">,</span> <span class="s1">'2007-06-02 02:18:32'</span><span class="p">,</span> <span class="mi">837</span><span class="p">,</span> <span class="s1">'Ya pas à dire, la guitare c''est vraiment le pied !!'</span> <span class="p">),</span>
        <span class="p">(</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">'test'</span><span class="p">,</span> <span class="s1">'karamilo'</span><span class="p">,</span> <span class="s1">'2007-06-05 20:58:23'</span><span class="p">,</span> <span class="mi">139</span><span class="p">,</span> <span class="s1">'test'</span> <span class="p">),</span>
        <span class="p">(</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">'test'</span><span class="p">,</span> <span class="s1">'karamilo'</span><span class="p">,</span> <span class="s1">'2007-06-05 21:19:08'</span><span class="p">,</span> <span class="mi">42</span><span class="p">,</span> <span class="s1">'test'</span> <span class="p">),</span>
        <span class="p">(</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">'Bientôt le Graspop'</span><span class="p">,</span> <span class="s1">'Alexi Laiho'</span><span class="p">,</span> <span class="s1">'2007-06-08 18:51:26'</span><span class="p">,</span> <span class="mi">1235</span><span class="p">,</span> <span class="s1">'Salut tout le monde, je suppose que vous êtes tous au courant du fait que cette année le Graspop accueille Children of Bodom, Dimmu Borgir, AeroSmith, Blind Guardian, Iron Maiden, Amon Amarth, ... En bref que du bon !!'</span> <span class="p">),</span>
        <span class="p">(</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">'50 000 visiteurs'</span><span class="p">,</span> <span class="s1">'karamilo'</span><span class="p">,</span> <span class="s1">'2007-06-18 23:15:18'</span><span class="p">,</span> <span class="mi">2154</span><span class="p">,</span> <span class="s1">'Grand jour pour le SdZ: la barre des 50 000 visiteurs a été franchie aujourd''hui ! Félicitations à toute la team !'</span> <span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">t_news</span> <span class="p">(</span> <span class="n">nws_catid</span><span class="p">,</span> <span class="n">nws_titre</span><span class="p">,</span> <span class="n">nws_auteur</span><span class="p">,</span> <span class="n">nws_texte</span> <span class="p">)</span> <span class="k">VALUES</span> <span class="p">(</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">'Insertion des données de test'</span><span class="p">,</span> <span class="s1">'visiteur avide de savoir'</span><span class="p">,</span> <span class="s1">'tadaaaaam ! ^^'</span> <span class="p">);</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">t_commentaire</span> <span class="p">(</span> <span class="n">cmt_nwsid</span><span class="p">,</span> <span class="n">cmt_auteur</span><span class="p">,</span> <span class="n">cmt_date</span><span class="p">,</span> <span class="n">cmt_texte</span> <span class="p">)</span> <span class="k">VALUES</span>
        <span class="p">(</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">'Shepard'</span><span class="p">,</span> <span class="s1">'2007-06-02 10:18:20'</span><span class="p">,</span> <span class="s1">'Tout à fait d''accord !! Mais comment tu fais pour te réveiller si tôt ?'</span> <span class="p">),</span>
        <span class="p">(</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">'Alexi Laiho'</span><span class="p">,</span> <span class="s1">'2007-06-02 12:11:52'</span><span class="p">,</span> <span class="s1">'Facile: je ne dors pas ^^'</span> <span class="p">),</span>
        <span class="p">(</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">'Shepard'</span><span class="p">,</span> <span class="s1">'2007-06-02 13:11:18'</span><span class="p">,</span> <span class="s1">'Et tu ne manges pas non plus ? Je savais que t''étais pas humain'</span> <span class="p">),</span>
        <span class="p">(</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">'Alexi Laiho'</span><span class="p">,</span> <span class="s1">'2007-06-02 15:18:22'</span><span class="p">,</span> <span class="s1">':p'</span> <span class="p">),</span>
        <span class="p">(</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">'karamilo'</span><span class="p">,</span> <span class="s1">'2007-06-05 20:59:59'</span><span class="p">,</span> <span class="s1">'test'</span> <span class="p">),</span>
        <span class="p">(</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">'karamilo'</span><span class="p">,</span> <span class="s1">'2007-06-05 21:13:15'</span><span class="p">,</span> <span class="s1">'test'</span> <span class="p">),</span>
        <span class="p">(</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">'karamilo'</span><span class="p">,</span> <span class="s1">'2007-06-05 21:18:32'</span><span class="p">,</span> <span class="s1">'test'</span> <span class="p">),</span>
        <span class="p">(</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">'karamilo'</span><span class="p">,</span> <span class="s1">'2007-06-05 21:19:23'</span><span class="p">,</span> <span class="s1">'test'</span> <span class="p">),</span>
        <span class="p">(</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">'Janne Warman'</span><span class="p">,</span> <span class="s1">'2007-06-06 23:19:08'</span><span class="p">,</span> <span class="s1">'Bah tu pourras le voir en chair et en os ( ou en métal et en électrons ) au Graspop le 24 :p :)'</span> <span class="p">),</span>
        <span class="p">(</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">'Shepard'</span><span class="p">,</span> <span class="s1">'2007-06-07 10:17:55'</span><span class="p">,</span> <span class="s1">'Non je n''y vais pas ... :( ( pas trouvé les sous :s )'</span> <span class="p">),</span>
        <span class="p">(</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">'Janne Warman'</span><span class="p">,</span> <span class="s1">'2007-06-07 18:48:15'</span><span class="p">,</span> <span class="s1">'Ah flûte, désolé ...'</span> <span class="p">),</span>
        <span class="p">(</span> <span class="mi">4</span><span class="p">,</span> <span class="s1">'Janne Warman'</span><span class="p">,</span> <span class="s1">'2007-06-08 20:18:32'</span><span class="p">,</span> <span class="s1">'Vas t''entrainer plutôt que de te vanter et d''emmerder Shep :p'</span> <span class="p">),</span>
        <span class="p">(</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">'Shepard'</span><span class="p">,</span> <span class="s1">'2007-06-08 23:11:26'</span><span class="p">,</span> <span class="s1">'T''inquiète ;)'</span> <span class="p">),</span>
        <span class="p">(</span> <span class="mi">4</span><span class="p">,</span> <span class="s1">'Shepard'</span><span class="p">,</span> <span class="s1">'2007-06-08 23:13:51'</span><span class="p">,</span> <span class="s1">'Il n''en a pas besoin, enfin seulement la disquette ^^'</span> <span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">t_commentaire</span> <span class="p">(</span> <span class="n">cmt_nwsid</span><span class="p">,</span> <span class="n">cmt_date</span><span class="p">,</span> <span class="n">cmt_texte</span> <span class="p">)</span> <span class="k">VALUES</span> <span class="p">(</span> <span class="mi">5</span><span class="p">,</span> <span class="s1">'2007-06-19 10:18:21'</span><span class="p">,</span> <span class="s1">'Chapeau bas ! ^^'</span> <span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">t_commentaire</span> <span class="p">(</span> <span class="n">cmt_nwsid</span><span class="p">,</span> <span class="n">cmt_auteur</span><span class="p">,</span> <span class="n">cmt_date</span><span class="p">,</span> <span class="n">cmt_texte</span> <span class="p">)</span> <span class="k">VALUES</span> <span class="p">(</span> <span class="mi">5</span><span class="p">,</span> <span class="s1">'Shepard'</span><span class="p">,</span> <span class="s1">'2007-06-19 10:23:21'</span><span class="p">,</span> <span class="s1">'Je confirme :p ( comment ça moi floodeur ? )'</span><span class="p">);</span>

<span class="c1">-- End of File ^^</span>
</pre></div>
</td></tr></tbody></table></div><br>
<br>
N'essayez pas de comprendre le code, ce n'est pas l'objet de ce 
chapitre, ni même de cette partie du cours, nous verrons les requêtes de
 création / d'insertion plus tard. <img src="sql_fichiers/smile.png" alt=":)" class="smilies"><br>
<br>
<div class="rmq information">Juste une chose importante : avant 
d'effectuer des requêtes sur l'une de ces tables, n'oubliez pas de vous 
connecter à la base news_test via la requête :<br>
<br>
<span class="code">Code : SQL - <a href="#" class="select_code">Sélectionner</a></span><div class="code2 sql"><table class="syntaxtable"><tbody><tr><td class="linenos"><pre>1</pre></td><td class="code"><div class="syntax"><pre><span class="n">USE</span> <span class="n">news_test</span><span class="p">;</span>
</pre></div>
</td></tr></tbody></table></div><br>
<br>
C'est pas compliqué mais essentiel si on ne veut pas que MySQL nous jette un "<span class="italique">ERROR 1046 (3D000): No database selected</span>" en pleine figure. <img src="sql_fichiers/langue.png" alt=":p" class="smilies"></div>
		</div>
		<hr>
		
		<hr class="separateur_parties">
		<h2 id="ss_part_9842">Enfin une requête conforme !</h2>
		<div class="ss_part_texte">
		Derrière ce titre un peu racoleur se cache une vérité assez frustrante
 : toutes les requêtes effectuées dans les chapitres précédents 
n'étaient pas des requêtes SQL...<br>
<br>
[Là ça devrait être le moment où vous vous énervez sur moi, m'attachez, 
me versez du miel dans les oreilles et lachez les fourmis rouges...]<br>
<br>
Pas de bol vous ne savez pas où j'habite. <img src="sql_fichiers/langue.png" alt=":p" class="smilies"><br>
<br>
Bon je vous explique quand même : la norme SQL dont je vous ai parlé plus tôt définit l'ordre SELECT comme ceci :<br>
<br>
<span class="code">Code : SQL - <a href="#" class="select_code">Sélectionner</a></span><div class="code2 sql"><table class="syntaxtable"><tbody><tr><td class="linenos"><pre>1
2
3
4
5
6</pre></td><td class="code"><div class="syntax"><pre><span class="k">SELECT</span> <span class="p">[</span><span class="k">DISTINCT</span><span class="o">|</span><span class="k">ALL</span><span class="p">]</span> <span class="err">{</span> <span class="o">*</span> <span class="o">|</span> <span class="n">liste</span> <span class="err">}</span>
        <span class="k">FROM</span> <span class="k">TABLE</span>
        <span class="p">[</span><span class="k">WHERE</span> <span class="n">conditions</span><span class="p">]</span>
        <span class="p">[</span><span class="k">GROUP</span> <span class="k">BY</span> <span class="n">liste_groupage</span><span class="p">]</span>
        <span class="p">[</span><span class="k">HAVING</span> <span class="n">conditions</span><span class="p">]</span>
        <span class="p">[</span><span class="k">ORDER</span> <span class="k">BY</span> <span class="n">liste_ordre</span><span class="p">]</span>
</pre></div>
</td></tr></tbody></table></div><br>
<br>
<div class="rmq information">Merci à Frédéric Brouard ( <a href="http://sqlpro.developpez.com/">http://sqlpro.developpez.com</a>, au passage je vous recommande son excellent livre <img src="sql_fichiers/hihi.png" alt="^^" class="smilies"> ) à qui j'ai honteusement "pompé" la requête.</div><br>
<br>
Les éléments entre crochets sont facultatifs; les éléments entre accolades et séparés par des | sont au choix.<br>
<br>
La chose que je voulais vous montrer, c'est que la clause FROM n'est <strong>pas</strong> facultative. <img src="sql_fichiers/langue.png" alt=":p" class="smilies"> D'où la non-validité de toutes les requêtes que nous avons exécutées jusqu'à présent. <img src="sql_fichiers/hihi.png" alt="^^" class="smilies"><br>
<br>
Enfin finalement ce n'est qu'un détail...<br>
<br>
Bon je propose qu'on s'amuse un peu à faire des requêtes conformes. <img src="sql_fichiers/langue.png" alt=":p" class="smilies">
 Pour voir si vous n'avez pas tout oublié du cours de M@teo21, je vous 
propose d'essayer de trouver les requêtes demandées par vous-mêmes puis 
de regarder les solutions, c'est vraiment basique ne vous en faites pas.
 <img src="sql_fichiers/clin.png" alt=";)" class="smilies"><br>
<br>
Il n'y a jamais de WHERE ou de ORDER BY ou quoi que ce soit d'autre dans la requête, juste SELECT ... FROM ... <img src="sql_fichiers/langue.png" alt=":p" class="smilies"><br>
<br>
<ul>
<li>Récupérer toutes les colonnes de la table t_categorie</li>
<li>Récupérer les colonnes nws_id et nws_auteur de la table t_news</li>
<li>Récupérer les colonnes cmt_id et cmt_auteur de la table 
t_commentaire et vérifier que tous les id sont bien présents (il suffit 
de regarder qu'il n'y ait pas de trou, normalement il y en aura un, sauf
 si vous connaissez l'astuce <img src="sql_fichiers/langue.png" alt=":p" class="smilies"> )</li>
<li>Même chose qu'au dessus mais faites disparaître ce NULL et remplacez-le par "Visiteur" si vous y arrivez <img src="sql_fichiers/smile.png" alt=":)" class="smilies"></li>
</ul><br>
<br>
Et maintenant les solutions :<br>
<br>
<span class="code">Code : SQL - <a href="#" class="select_code">Sélectionner</a></span><div class="code2 sql"><table class="syntaxtable"><tbody><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17</pre></td><td class="code"><div class="syntax"><pre><span class="c1">-- Tout d'abord, se connecter à news_test</span>
<span class="n">USE</span> <span class="n">test_news</span><span class="p">;</span>

<span class="c1">-- toutes les colonnes de t_categorie</span>
<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">t_categorie</span><span class="p">;</span>

<span class="c1">-- nws_id et nws_auteur de t_news</span>
<span class="k">SELECT</span> <span class="n">nws_id</span><span class="p">,</span> <span class="n">nws_auteur</span> <span class="k">FROM</span> <span class="n">t_news</span><span class="p">;</span>

<span class="c1">-- cmt_id et cmt_auteur de t_commentaire</span>
<span class="k">SELECT</span> <span class="n">cmt_id</span><span class="p">,</span> <span class="n">cmt_auteur</span> <span class="k">FROM</span> <span class="n">t_commentaire</span><span class="p">;</span>

<span class="c1">-- même chose mais NULL =&gt; "Visiteur"</span>
<span class="k">SELECT</span> <span class="n">cmt_id</span><span class="p">,</span> <span class="n">COALESCE</span><span class="p">(</span><span class="n">cmt_auteur</span><span class="p">,</span> <span class="s1">'Visiteur'</span><span class="p">)</span> <span class="k">AS</span> <span class="n">cmt_auteur</span> <span class="k">FROM</span> <span class="n">t_commentaire</span><span class="p">;</span>

<span class="c1">-- Ou, si on veut tout afficher en une requête ...</span>
<span class="k">SELECT</span> <span class="n">cmt_id</span><span class="p">,</span> <span class="n">cmt_auteur</span><span class="p">,</span> <span class="n">COALESCE</span><span class="p">(</span><span class="n">cmt_auteur</span><span class="p">,</span> <span class="s1">'Visiteur'</span><span class="p">)</span> <span class="k">AS</span> <span class="n">cmt_auteur2</span> <span class="k">FROM</span> <span class="n">t_commentaire</span><span class="p">;</span>
</pre></div>
</td></tr></tbody></table></div><br>
<br>
Le résultat de cette dernière requête en image :<br>
<br>
<div class="centre"><img src="sql_fichiers/75014.png" alt="Les 2 dernières requêtes demandées en une :p"><br>
(Regardez la ligne 15)</div><br>
<br>
La dernière requête que je vous demandais, c'était juste pour voir si 
vous aviez compris le principe des fonctions et retenu l'utilité de 
COALESCE, j'avoue que c'était peut-être un peu sadique de ma part. <img src="sql_fichiers/siffle.png" alt=":-°" class="smilies"><br>
<br>
Tiens, tant qu'on parle de requêtes valides, je vous ai déniché un petit
 validateur de requêtes (à la manière du validateur (x)HTML du W3C <img src="sql_fichiers/langue.png" alt=":p" class="smilies"> , vous tapez votre requête et... ça passe ou ça casse <img src="sql_fichiers/hihi.png" alt="^^" class="smilies"> ).<br>
<br>
<a href="http://developer.mimer.se/validator/">http://developer.mimer.se/validator/</a><br>
<br>
Choisissez votre version de SQL, entrez votre requête et "Test SQL" !
		</div>
		<hr>
		
		<hr class="separateur_parties">
		<h2 id="ss_part_9841">SELECT ... FROM ( SELECT ... FROM ... )</h2>
		<div class="ss_part_texte">
		On va avoir besoin ici d'une petite subtilité du langage SQL :<br>
<br>
<span class="italique">Tout ordre SELECT renvoie une table (généralement temporaire).</span><br>
<br>
Maintenant vous comprenez certainement le sens du titre de cette sous-partie. <img src="sql_fichiers/langue.png" alt=":p" class="smilies"> On peut faire un SELECT ... sur un SELECT <img src="sql_fichiers/hihi.png" alt="^^" class="smilies"><br>
<br>
Un exemple :<br>
<br>
<span class="code">Code : SQL - <a href="#" class="select_code">Sélectionner</a></span><div class="code2 sql"><table class="syntaxtable"><tbody><tr><td class="linenos"><pre>1</pre></td><td class="code"><div class="syntax"><pre><span class="k">SELECT</span> <span class="n">cmt_auteur</span> <span class="k">FROM</span> <span class="p">(</span> <span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">t_commentaire</span> <span class="p">)</span> <span class="k">AS</span> <span class="n">t</span>
</pre></div>
</td></tr></tbody></table></div><br>
<br>
Notez que le <span class="italique">AS t</span> est obligatoire, sinon le client MySQL vous dira joyeusement <span class="italique">ERROR 1248 (42000): Every derived table must have its own alias</span>.<br>
<br>
<div class="centre"><img src="sql_fichiers/75016.png" alt="SELECT ... FROM ( SELECT ... FROM ) AS ..."></div><br>
<br>
Vous avez sans doute envie de dire "ça sert à rien" et vous avez 
probablement raison. Non seulement cette technique a la réputation 
d'être très gourmande au niveau temps d'exécution, mais en plus il y a 
toujours moyen de faire autrement, nous verrons cela plus tard... Si ça 
peut vous rassurer, je ne me suis jamais servi de cette fonctionnalité, 
par conséquent je ne vous en voudrai pas si lorsque je vous croise sur 
le forum (je vous poserai évidemment 30 questions sur l'ensemble du 
cours comme d'habitude), vous ne savez pas répondre à <span class="italique">Peut-on utiliser une requête SELECT comme argument d'une clause FROM ?</span><br>
<br>
Nous verrons plus tard que ce que nous avons fait s'appelle en fait une 
sous-requête, mais en attendant, je propose qu'on passe à quelque chose 
de plus intéressant. <img src="sql_fichiers/smile.png" alt=":)" class="smilies">
		</div>
		<hr>
		
		<hr class="separateur_parties">
		<h2 id="ss_part_9846">DISTINCT</h2>
		<div class="ss_part_texte">
		Plus haut je vous ai montré ceci :<br>
<br>
<span class="code">Code : SQL - <a href="#" class="select_code">Sélectionner</a></span><div class="code2 sql"><table class="syntaxtable"><tbody><tr><td class="linenos"><pre>1
2
3
4
5
6</pre></td><td class="code"><div class="syntax"><pre><span class="k">SELECT</span> <span class="p">[</span><span class="k">DISTINCT</span><span class="o">|</span><span class="k">ALL</span><span class="p">]</span> <span class="err">{</span> <span class="o">*</span> <span class="o">|</span> <span class="n">liste</span> <span class="err">}</span>
        <span class="k">FROM</span> <span class="k">TABLE</span>
        <span class="p">[</span><span class="k">WHERE</span> <span class="n">conditions</span><span class="p">]</span>
        <span class="p">[</span><span class="k">GROUP</span> <span class="k">BY</span> <span class="n">liste_groupage</span><span class="p">]</span>
        <span class="p">[</span><span class="k">HAVING</span> <span class="n">conditions</span><span class="p">]</span>
        <span class="p">[</span><span class="k">ORDER</span> <span class="k">BY</span> <span class="n">liste_ordre</span><span class="p">]</span>
</pre></div>
</td></tr></tbody></table></div><br>
<br>
Vous vous êtes probablement posé des questions auxquelles je ne peux pas
 encore répondre, du moins pas à toutes, mais je peux éclaircir les deux
 mots-clefs juste après le SELECT: DISTINCT et ALL.<br>
<br>
Prenons cette requête :<br>
<br>
<span class="code">Code : SQL - <a href="#" class="select_code">Sélectionner</a></span><div class="code2 sql"><table class="syntaxtable"><tbody><tr><td class="linenos"><pre>1</pre></td><td class="code"><div class="syntax"><pre><span class="k">SELECT</span> <span class="n">cmt_auteur</span> <span class="k">FROM</span> <span class="n">t_commentaire</span><span class="p">;</span>
</pre></div>
</td></tr></tbody></table></div><br>
<br>
MySQL vous renvoie une liste de 16 pseudos, la plupart apparaissent au 
moins 2 fois, ce n'est pratique... Imaginez que votre boss vous demande 
une liste de tous les pseudos des membres qui ont laissé au moins un 
commentaire sur les news du site, vous ne pouvez pas lui remettre ça...<br>
<br>
C'est ici, vous vous en doutiez, que DISTINCT intervient ! Il permet 
simplement de supprimer ce que dans le jargon, on appelle vulgairement 
"doublons". Ainsi, la requête suivante vous donnera une liste 
non-redondante :<br>
<br>
<span class="code">Code : SQL - <a href="#" class="select_code">Sélectionner</a></span><div class="code2 sql"><table class="syntaxtable"><tbody><tr><td class="linenos"><pre>1</pre></td><td class="code"><div class="syntax"><pre><span class="k">SELECT</span> <span class="k">DISTINCT</span> <span class="n">cmt_auteur</span> <span class="k">FROM</span> <span class="n">t_commentaire</span><span class="p">;</span>
</pre></div>
</td></tr></tbody></table></div><br>
<br>
<div class="centre"><img src="sql_fichiers/75017.png" alt="utilisation du mot-clef DISTINCT"></div><br>
<br>
Voilà. <img src="sql_fichiers/smile.png" alt=":)" class="smilies"><br>
<br>
<div class="rmq question">Et le mot-clef ALL alors ??</div><br>
<br>
C'est très simple : ce mot-clef est en fait utilisé par défaut, le 
mettre ou ne rien mettre revient donc au même : récupérer toutes les 
données, même redondantes !<br>
<br>
<div class="rmq attention">DISTINCT est un mot-clef, <strong>pas une fonction !</strong> J'ai vu souvent des <span class="italique">SELECT DISTINCT ( colonne1 ), colonne2, ... FROM table</span>
 ce qui est faux ! Le DISTINCT portera sur toute la ligne, pas seulement
 sur colonne1, et heureusement, sinon comment MySQL choisirait-il que 
mettre dans les colonnes 2 et 3 ?</div>
		</div>
		<hr>
		
	<div id="chap_conclusion">
	Voilà, un chapitre un peu plus théorique c'est certain, j'ai fait de 
mon mieux pour qu'il soit un minimum agréable à lire quand même, bon 
amusement jusqu'au prochain chapitre, on se servira des mêmes données de
 test pendant un certain temps, inutile donc de supprimer tout de suite 
la base de données "news_test". <img src="sql_fichiers/hihi.png" alt="^^" class="smilies"> <img src="sql_fichiers/langue.png" alt=":p" class="smilies">
	</div>
	
	<hr>
	<h1 id="chap_9856">Filtrer les données avec WHERE</h1>
	<div id="chap_intro">
	Vous connaissez déjà la clause WHERE, vous l'avez survolée dans le 
cours de M@teo (si vous pensez que je suis méchant en disant survoler, 
je ne veux pas l'être, et je sais fort bien que le cours de M@teo21 sur 
MySQL n'est qu'une brève initiation en la matière, sinon mon tuto 
n'aurait pas de raison d'être <img src="sql_fichiers/langue.png" alt=":p" class="smilies"> ).<br>
<br>
Nous allons aller un peu plus loin dans ce chapitre en apprenant des 
techniques de filtrage et en vous épargnant de tout apprendre sur le tas
 au fur et à mesure de recherches sur le net <img src="sql_fichiers/pinch.png" alt="&gt;_&lt;" class="smilies"> .<br>
<br>
Dans le chapitre, je pars du principe que vous connaissez déjà les 
opérateurs AND ( &amp;&amp; ) et OR ( || ) qui permettent d'utiliser 
plusieurs conditions dans la même requête.<br>
<br>
Tant qu'on y est, je vous dis 2 mots sur l'opérateur XOR que vous 
connaissez peut-être également et qui exprime le "Ou exclusif", 
c'est-à-dire que c'est l'un <strong>ou</strong> c'est l'autre, mais pas les 2 en même temps (contrairement à OR qui admet que les 2 puissent être vrais).
	</div>
		
		<hr class="separateur_parties">
		<h2 id="ss_part_9855">A propos de la clause WHERE...</h2>
		<div class="ss_part_texte">
		Avant de nous lancer dans le listage des fonctions et opérateurs 
intéressants à utiliser dans la clause WHERE, j'aimerais vous expliquer 
(très) rapidement son fonctionnement...<br>
<br>
Il faut savoir que MySQL trie les données <strong>avant</strong> de les récupérer. <img src="sql_fichiers/hihi.png" alt="^^" class="smilies"><br>
<br>
Vous ne comprenez pas ce que je veux dire ? C'est assez simple : MySQL 
regarde les lignes qui correspondent à la clause WHERE en ne récupérant 
que les données nécessaire au triage. Par exemple dans la requête :<br>
<br>
<span class="code">Code : SQL - <a href="#" class="select_code">Sélectionner</a></span><div class="code2 sql"><table class="syntaxtable"><tbody><tr><td class="linenos"><pre>1</pre></td><td class="code"><div class="syntax"><pre><span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">t_news</span> <span class="k">WHERE</span> <span class="n">nws_auteur</span> <span class="o">=</span> <span class="s1">'karamilo'</span><span class="p">;</span>
</pre></div>
</td></tr></tbody></table></div><br>
<br>
MySQL ne récupère d'abord que la colonne nws_auteur (et l'index PRIMARY,
 qui correspond ici à nws_id), pour voir quelles lignes correspondent 
(c'est-à-dire dans ce cas-ci les lignes où nws_id vaut 2, 3 ou 5).<br>
<br>
Ensuite, il va chercher les autres données comprises entre SELECT et FROM et effectue toutes les fonctions demandées.<br>
<br>
<div class="rmq question">D'accord, mais concrètement, à quoi ça nous sert de savoir ça ?  <img src="sql_fichiers/blink.gif" alt="o_O" class="smilies"></div><br>
<br>
Je voulais vous amener au fait qu'il est impossible d'utiliser des 
colonnes calculées entre SELECT et FROM dans le WHERE. Ainsi la requête 
suivante vous renverra une erreur (la fonction YEAR(<span class="italique">date</span>) renvoie l'année de <span class="italique">date</span>) :<br>
<br>
<span class="code">Code : SQL - <a href="#" class="select_code">Sélectionner</a></span><div class="code2 sql"><table class="syntaxtable"><tbody><tr><td class="linenos"><pre>1</pre></td><td class="code"><div class="syntax"><pre><span class="k">SELECT</span> <span class="n">nws_id</span><span class="p">,</span> <span class="k">YEAR</span><span class="p">(</span><span class="n">nws_date</span><span class="p">)</span> <span class="k">AS</span> <span class="n">annee</span> <span class="k">FROM</span> <span class="n">t_news</span> <span class="k">WHERE</span> <span class="n">annee</span> <span class="o">=</span> <span class="mi">2007</span><span class="p">;</span>
</pre></div>
</td></tr></tbody></table></div><br>
<br>
<div class="rmq erreur">ERROR 1054 (42S22): Unknown column 'annee' in 'where clause'</div><br>
<br>
La requête suivante par contre est correcte :<br>
<br>
<span class="code">Code : SQL - <a href="#" class="select_code">Sélectionner</a></span><div class="code2 sql"><table class="syntaxtable"><tbody><tr><td class="linenos"><pre>1</pre></td><td class="code"><div class="syntax"><pre><span class="k">SELECT</span> <span class="n">nws_id</span><span class="p">,</span> <span class="k">YEAR</span><span class="p">(</span><span class="n">nws_date</span><span class="p">)</span> <span class="k">AS</span> <span class="n">annee</span> <span class="k">FROM</span> <span class="n">t_news</span> <span class="k">WHERE</span> <span class="k">YEAR</span><span class="p">(</span><span class="n">nws_date</span><span class="p">)</span> <span class="o">=</span> <span class="mi">2007</span><span class="p">;</span>
</pre></div>
</td></tr></tbody></table></div><br>
<br>
Vous vous dites sans doute que c'est dommage de devoir utiliser 2 fois 
la fonction YEAR : on fait perdre du temps au serveur MySQL... Dans ce 
cas-ci, il est très simple d'optimiser la requête, par exemple comme 
ceci :<br>
<br>
<span class="code">Code : SQL - <a href="#" class="select_code">Sélectionner</a></span><div class="code2 sql"><table class="syntaxtable"><tbody><tr><td class="linenos"><pre>1</pre></td><td class="code"><div class="syntax"><pre><span class="k">SELECT</span> <span class="n">nws_id</span><span class="p">,</span> <span class="mi">2007</span> <span class="k">AS</span> <span class="n">annee</span> <span class="k">FROM</span> <span class="n">t_news</span> <span class="k">WHERE</span> <span class="k">YEAR</span><span class="p">(</span><span class="n">nws_date</span><span class="p">)</span> <span class="o">=</span> <span class="mi">2007</span><span class="p">;</span>
</pre></div>
</td></tr></tbody></table></div>
		</div>
		<hr>
		
		<hr class="separateur_parties">
		<h2 id="ss_part_9854">Les opérateurs de comparaison</h2>
		<div class="ss_part_texte">
		<h3>7 opérateurs...</h3><br>
<br>
MySQL en admet 7, vous connaissez certainement déjà la plupart :<br>
<br>
<table class="tab_user">								








<thead><tr><th>Opérateur</th><th>Signification</th></tr></thead><tbody><tr>		
<td><div class="centre">a = b</div></td>		
<td><span class="italique">a</span> et <span class="italique">b</span> ont la même valeur</td>	
</tr><tr>		
<td><div class="centre">a &lt;&gt; b</div></td>		
<td><span class="italique">a</span> et <span class="italique">b</span> ont des valeurs différentes</td>	
</tr><tr>		
<td><div class="centre">a &lt; b</div></td>		
<td><span class="italique">a</span> est strictement plus petit que <span class="italique">b</span></td>	
</tr><tr>		
<td><div class="centre">a &lt;= b</div></td>		
<td><span class="italique">a</span> est plus petit ou égal à <span class="italique">b</span></td>	
</tr><tr>		
<td><div class="centre">a &gt; b</div></td>		
<td><span class="italique">a</span> est strictement plus grand que <span class="italique">b</span></td>	
</tr><tr>		
<td><div class="centre">a &gt;= b</div></td>		
<td><span class="italique">a</span> est plus grand ou égal à <span class="italique">b</span></td>	
</tr><tr>		
<td><div class="centre">a &lt;=&gt; b</div></td>		
<td>Idem que <strong>=</strong> mais <span class="italique">NULL &lt;=&gt; NULL vaut 1</span> (au lieu de NULL) et <span class="italique">NULL &lt;=&gt; 1 vaut 0</span> (au lieu de NULL)</td>	
</tr></tbody></table><br>
<br>
<h3>Quelques notes...</h3><br>
<br>
<h4>&lt;=&gt;</h4><br>
<br>
Tout d'abord par rapport au dernier opérateur (oui je suis un grand désordonné... <img src="sql_fichiers/langue.png" alt=":p" class="smilies"> ). Il est nécessaire de revenir sur le premier opérateur pour comprendre pourquoi il est là <img src="sql_fichiers/huh.png" alt=":o" class="smilies"> :<br>
<br>
Quand on compare quelque chose à une valeur NULL avec l'opérateur =, peu
 importe ce quelque chose, le résultat sera NULL. Et quand on fait une 
requête avec WHERE NULL, on ne reçoit rien...<br>
<br>
Rien de grave apparemment, si c'est NULL, c'est NULL, pas de données à récupérer. <img src="sql_fichiers/hihi.png" alt="^^" class="smilies"><br>
<br>
Oui mais voilà, si on a le cas NULL = NULL, on aimerait que les données 
soient récupérées quand même (logique...), or avec l'opérateur =, la 
ligne sera ignorée, alors qu'on en a besoin !<br>
<br>
C'est pour ça que l'opérateur "NULL-safe equal" (jargon...) a été créé. <span class="italique">NULL &lt;=&gt; NULL</span> renvoie 1 (true), et donc la ligne est récupérée quand même. <img src="sql_fichiers/smile.png" alt=":)" class="smilies"><br>
<br>
Attention toutefois à ce que la valeur 0 n'est pas la valeur NULL ! <span class="italique">0 &lt;=&gt; NULL</span> renvoie 0 (false).<br>
<br>
<h4>&lt;&gt;</h4><br>
<br>
Je vous ai dit que MySQL admettait 7 opérateurs, je vous ai encore menti, en fait il en admet 8. <img src="sql_fichiers/langue.png" alt=":p" class="smilies"><br>
<br>
Vous connaissez bien sûr l'opérateur de comparaison PHP <strong>!=</strong> qui permet de vérifier que 2 valeurs ne sont pas égales. Cet opérateur existe également en MySQL.<br>
<br>
Toutefois je ne peux que vous déconseiller de l'utiliser. Tout d'abord 
parce que PHP et MySQL sont 2 langages différents et qu'il est inutile 
de chercher à faire en sorte qu'ils se ressemblent, et ensuite parce que
 ce n'est pas normalisé, donc si vous passez un jour à PostGreSQL (même 
si j'admet qu'en France il n'est pas encore très intégré aux sites web, 
imaginons que vous déménagiez aux States <img src="sql_fichiers/hihi.png" alt="^^" class="smilies">
 ), vous serez bon pour réécrire la plupart de vos requêtes... (on ne 
peut pas dire que l'opérateur d'inégalité soit rare dans les requêtes <img src="sql_fichiers/hihi.png" alt="^^" class="smilies"> ).<br>
<br>
Enfin en bref je vous conseille de jeter != à la poubelle pour les requêtes SQL et d'utiliser exclusivement <strong>&lt;&gt;</strong>.
		</div>
		<hr>
		
		<hr class="separateur_parties">
		<h2 id="ss_part_9853">(NOT) BETWEEN, IN et LIKE</h2>
		<div class="ss_part_texte">
		Voici quelques mots-clefs qu'il est vraiment intéressant de connaitre. <img src="sql_fichiers/langue.png" alt=":p" class="smilies"><br>
<br>
<h3>(NOT) BETWEEN</h3><br>
<br>
Celui-ci vous permet de vérifier qu'une valeur est comprise entre 2 
valeurs données. Ca fonctionne évidemment pour les nombres mais 
également pour les chaînes de caractères. <img src="sql_fichiers/smile.png" alt=":)" class="smilies"><br>
<br>
Quelques exemples...<br>
<br>
<span class="code">Code : SQL - <a href="#" class="select_code">Sélectionner</a></span><div class="code2 sql"><table class="syntaxtable"><tbody><tr><td class="linenos"><pre>1
2
3</pre></td><td class="code"><div class="syntax"><pre><span class="k">SELECT</span> <span class="n">nws_id</span><span class="p">,</span> <span class="n">nws_nb_vues</span> <span class="k">FROM</span> <span class="n">t_news</span> <span class="k">WHERE</span> <span class="n">nws_nb_vues</span> <span class="k">BETWEEN</span> <span class="mi">0</span> <span class="k">AND</span> <span class="mi">1000</span><span class="p">;</span>
<span class="k">SELECT</span> <span class="n">nws_id</span><span class="p">,</span> <span class="n">nws_auteur</span> <span class="k">FROM</span> <span class="n">t_news</span> <span class="k">WHERE</span> <span class="n">nws_auteur</span> <span class="k">BETWEEN</span> <span class="s1">'h'</span> <span class="k">AND</span> <span class="s1">'w'</span><span class="p">;</span>
<span class="k">SELECT</span> <span class="n">nws_id</span><span class="p">,</span> <span class="n">nws_date</span> <span class="k">FROM</span> <span class="n">t_news</span> <span class="k">WHERE</span> <span class="n">nws_date</span> <span class="k">BETWEEN</span> <span class="s1">'2007-06-03'</span> <span class="k">AND</span> <span class="s1">'2007-06-13'</span><span class="p">;</span> <span class="c1">-- Ma date d'anniversaire et celle de mon filleul :-° :p</span>
</pre></div>
</td></tr></tbody></table></div><br>
<br>
<div class="centre"><img src="sql_fichiers/75041.png" alt="Utilisation du mot-clef BETWEEN"></div><br>
<br>
Evidemment, ajouter le mot-clef NOT devant BETWEEN permet de vérifier que les valeurs <strong>ne sont pas</strong> comprises entre les 2 arguments reçus par BETWEEN.<br>
<br>
<h3>(NOT) IN</h3><br>
<br>
Très pratique également, surtout en conjonction avec PHP, ce mot-clef 
permet de vérifier qu'une valeur se trouve dans une liste d'arguments 
reçus par IN (NOT IN permet de vérifier qu'elle ne s'y trouve pas <img src="sql_fichiers/hihi.png" alt="^^" class="smilies"> ).<br>
<br>
On passe directement aux exemples, rien de compliqué. <img src="sql_fichiers/hihi.png" alt="^^" class="smilies"><br>
<br>
<span class="code">Code : SQL - <a href="#" class="select_code">Sélectionner</a></span><div class="code2 sql"><table class="syntaxtable"><tbody><tr><td class="linenos"><pre>1
2
3</pre></td><td class="code"><div class="syntax"><pre><span class="k">SELECT</span> <span class="k">DISTINCT</span> <span class="n">cmt_auteur</span> <span class="k">FROM</span> <span class="n">t_commentaire</span> <span class="k">WHERE</span> <span class="n">cmt_auteur</span> <span class="k">NOT</span> <span class="k">IN</span> <span class="p">(</span> <span class="s1">'shepard'</span><span class="p">,</span> <span class="s1">'karamilo'</span> <span class="p">);</span>
<span class="k">SELECT</span> <span class="n">nws_id</span><span class="p">,</span> <span class="n">nws_date</span> <span class="k">FROM</span> <span class="n">t_news</span> <span class="k">WHERE</span> <span class="k">DAY</span><span class="p">(</span><span class="n">nws_date</span><span class="p">)</span> <span class="k">IN</span> <span class="p">(</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">8</span> <span class="p">);</span>
<span class="k">SELECT</span> <span class="n">nws_id</span><span class="p">,</span> <span class="n">nws_catid</span> <span class="k">FROM</span> <span class="n">t_news</span> <span class="k">WHERE</span> <span class="n">nws_catid</span> <span class="k">IN</span> <span class="p">(</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span> <span class="p">);</span>
</pre></div>
</td></tr></tbody></table></div><br>
<br>
<div class="centre"><img src="sql_fichiers/75045.png" alt="utilisation du mot-clef IN"></div><br>
<br>
<h3>(NOT) LIKE</h3><br>
<br>
C'est certainement le plus connu des 3... LIKE permet de vérifier une 
expression régulière simple, c'est à dire par exemple qu'une chaîne 
commence par "abc" ou termine par "xyz"...<br>
<br>
LIKE admet 2 "jokers" : % et _.<br>
<br>
<strong>%</strong> remplace n'importe quelle chaîne de caractères (y compris une chaine vide).<br>
<strong>_</strong> remplace un seul caractère.<br>
<br>
On passe aux exemples :<br>
<br>
<span class="code">Code : SQL - <a href="#" class="select_code">Sélectionner</a></span><div class="code2 sql"><table class="syntaxtable"><tbody><tr><td class="linenos"><pre>1
2
3</pre></td><td class="code"><div class="syntax"><pre><span class="k">SELECT</span> <span class="k">DISTINCT</span> <span class="n">nws_auteur</span> <span class="k">FROM</span> <span class="n">t_news</span> <span class="k">WHERE</span> <span class="n">nws_auteur</span> <span class="k">LIKE</span> <span class="s1">'%k%'</span><span class="p">;</span> <span class="c1">-- Tous les auteurs qui ont au moins un "k" dans leur pseudo</span>
<span class="k">SELECT</span> <span class="k">DISTINCT</span> <span class="n">nws_auteur</span> <span class="k">FROM</span> <span class="n">t_news</span> <span class="k">WHERE</span> <span class="n">nws_auteur</span> <span class="k">LIKE</span> <span class="s1">'%o'</span><span class="p">;</span> <span class="c1">-- Tous les auteurs dont le pseudo se termine par "o"</span>
<span class="k">SELECT</span> <span class="k">DISTINCT</span> <span class="n">cmt_auteur</span> <span class="k">FROM</span> <span class="n">t_commentaire</span> <span class="k">WHERE</span> <span class="n">cmt_auteur</span> <span class="k">NOT</span> <span class="k">LIKE</span> <span class="s1">'%r%'</span><span class="p">;</span> <span class="c1">-- Tous les auteurs dont le pseudo ne contient pas de "r"</span>
</pre></div>
</td></tr></tbody></table></div><br>
<br>
<div class="centre"><img src="sql_fichiers/75054.png" alt="Utilisation du mot-clef LIKE"></div>
		</div>
		<hr>
		
		<hr class="separateur_parties">
		<h2 id="ss_part_9852">[Problème SQL] Qui est plus grand que le dernier plus grand ?</h2>
		<div class="ss_part_texte">
		Ce problème utilise 2 fonctions SQL que vous ne connaissez pas encore : il s'agit de GREATEST() et LEAST().<br>
<br>
GREATEST renvoie l'argument le plus grand qu'il reçoit, tandis que LEAST() renvoie l'argument le plus petit.<br>
<br>
Exemples :<br>
<br>
<span class="code">Code : SQL - <a href="#" class="select_code">Sélectionner</a></span><div class="code2 sql"><table class="syntaxtable"><tbody><tr><td class="linenos"><pre>1
2</pre></td><td class="code"><div class="syntax"><pre><span class="k">SELECT</span> <span class="n">GREATEST</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">85</span><span class="p">,</span> <span class="mi">49</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">92</span><span class="p">,</span> <span class="mi">10</span><span class="p">);</span> <span class="c1">-- Renvoie 92</span>
<span class="k">SELECT</span> <span class="n">LEAST</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">85</span><span class="p">,</span> <span class="mi">49</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">92</span><span class="p">,</span> <span class="mi">10</span><span class="p">);</span> <span class="c1">-- Renvoie 1</span>
</pre></div>
</td></tr></tbody></table></div><br>
<br>
<h3>Le problème (mouahah vous allez souffrir <img src="sql_fichiers/hihi.png" alt="^^" class="smilies"> )</h3><br>
<br>
On se sert exclusivement de la table t_news.<br>
<br>
Le but : afficher un tableau qui donne :<br>
<ul>
<li>l'id de la news (nws_id) ;</li>
<li>le nombre de vues de la news (nws_nb_vues).</li>
</ul><br>
<br>
Bon évidemment ce n'est pas tout. <img src="sql_fichiers/heureux.png" alt=":D" class="smilies"><br>
<br>
Il faut afficher uniquement les lignes où nws_nb_vues est plus grand que l'élément précédent.<br>
<br>
Vous devrez donc obtenir ce résultat :<br>
<br>
<div class="centre"><img src="sql_fichiers/75056.png" alt="Résultat attendu pour le problème 2"></div><br>
<br>
En effet la première est de toute façon affichée (837), la seconde a 
139, c'est moins que 837, donc on ne l'affiche pas, pareil pour la 
troisième (42 &lt; 837). La quatrième a 1235 vues, c'est plus que 837, 
donc on l'affiche, idem pour la cinquième (2154 &gt; 1235), la dernière a
 0 vue, donc on ne l'affiche pas.<br>
<br>
Un petit indice :<br>
<span class="spoiler">Secret <a href="#" onclick="switch_spoiler(this); return false;">(cliquez pour afficher)</a></span><div class="spoiler2"><div class="spoiler3">Utilisez les variables utilisateur (il vous faudra donc une (ou des) requêtes pour initialiser cette (ces) variable(s)).</div></div><br>
<br>
Si vous y arrivez, essayez ensuite de le faire en utilisant une des deux
 fonctions que je vous ai présentées plus haut, c'est assez rigolo. <img src="sql_fichiers/hihi.png" alt="^^" class="smilies"><br>
<br>
<h3>La solution</h3><br>
<br>
Vous avez réussi ? Si pas ce n'est pas grave, <span class="barre">50 pompes et on n'en parles plus</span>
 je comprends parfaitement que ces problèmes soient loin d'être faciles à
 réaliser, disons que je trouve ça pratique pour se rendre compte qu'il 
existe des tonnes de façons de faire une requête SQL ! De plus si vous 
parvenez à les résoudre, vous serez aptes à surmonter la plupart des 
difficultés que vous rencontrerez lorsque vous programmerez "pour de 
vrai" ! <img src="sql_fichiers/smile.png" alt=":)" class="smilies"><br>
<br>
Voilà la solution :<br>
<br>
<span class="spoiler">Secret <a href="#" onclick="switch_spoiler(this); return false;">(cliquez pour afficher)</a></span><div class="spoiler2"><div class="spoiler3"><span class="code">Code : SQL - <a href="#" class="select_code">Sélectionner</a></span><div class="code2 sql"><table class="syntaxtable"><tbody><tr><td class="linenos"><pre>1
2
3
4</pre></td><td class="code"><div class="syntax"><pre><span class="k">SET</span> <span class="o">@</span><span class="n">a</span> <span class="p">:</span><span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="k">SET</span> <span class="o">@</span><span class="n">b</span> <span class="p">:</span><span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="k">SELECT</span> <span class="o">@</span><span class="n">a</span> <span class="p">:</span><span class="o">=</span> <span class="n">nws_id</span> <span class="k">AS</span> <span class="n">nws_id</span><span class="p">,</span> <span class="o">@</span><span class="n">b</span> <span class="p">:</span><span class="o">=</span> <span class="n">nws_nb_vues</span> <span class="k">AS</span> <span class="n">nws_nb_vues</span> <span class="k">FROM</span> <span class="n">t_news</span> <span class="k">WHERE</span> <span class="n">nws_nb_vues</span> <span class="o">&gt;</span> <span class="o">@</span><span class="n">b</span><span class="p">;</span>

<span class="c1">-- Avec GREATEST:</span>
<span class="k">SET</span> <span class="o">@</span><span class="n">a</span> <span class="p">:</span><span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="k">SET</span> <span class="o">@</span><span class="n">b</span> <span class="p">:</span><span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="k">SELECT</span> <span class="o">@</span><span class="n">a</span> <span class="p">:</span><span class="o">=</span> <span class="n">nws_id</span> <span class="k">AS</span> <span class="n">nws_id</span><span class="p">,</span> <span class="o">@</span><span class="n">b</span> <span class="p">:</span><span class="o">=</span> <span class="n">nws_nb_vues</span> <span class="k">AS</span> <span class="n">nws_nb_vues</span> <span class="k">FROM</span> <span class="n">t_news</span> <span class="k">WHERE</span> <span class="n">nws_nb_vues</span> <span class="o">=</span> <span class="n">GREATEST</span><span class="p">(</span><span class="o">@</span><span class="n">b</span><span class="p">,</span> <span class="n">nws_nb_vues</span><span class="p">);</span>
</pre></div>
</td></tr></tbody></table></div><br>
<br>
Encore une fois, ce n'est vraiment pas un problème si vous ne l'avez pas trouvée par vous-mêmes. <img src="sql_fichiers/clin.png" alt=";)" class="smilies"><br>
<br>
En passant, remarquez que la variable @b vaut maintenant le maximum de vues qu'une news peut avoir. <img src="sql_fichiers/langue.png" alt=":p" class="smilies"><br>
<br>
<div class="centre"><img src="sql_fichiers/75060.png" alt="Solution au problème"></div><br>
</div></div><br>
<br>
Une variante : faites la même chose mais en ordre décroissant. <img src="sql_fichiers/langue.png" alt=":p" class="smilies"><br>
<br>
Vous devez obtenir le résultat suivant :<br>
<br>
<div class="centre"><img src="sql_fichiers/75061.png" alt="Problème 2 - Résultat attendu pour la variante :p"></div><br>
<br>
Good luck ! La solution est juste en dessous. <img src="sql_fichiers/langue.png" alt=":p" class="smilies"><br>
<br>
<span class="spoiler">Secret <a href="#" onclick="switch_spoiler(this); return false;">(cliquez pour afficher)</a></span><div class="spoiler2"><div class="spoiler3"><br>
Ici un petit problème se pose : la valeur initiale de @b ne peut pas 
être 0 mais doit être plus grand que le nombre de vues de la première 
news (d'où le <span class="italique">+ 1</span>).<br>
<br>
Avec LEAST, il suffit de donner à @b le nombre de vues de la première news. <img src="sql_fichiers/smile.png" alt=":)" class="smilies"><br>
<br>
<span class="code">Code : SQL - <a href="#" class="select_code">Sélectionner</a></span><div class="code2 sql"><table class="syntaxtable"><tbody><tr><td class="linenos"><pre>1
2</pre></td><td class="code"><div class="syntax"><pre><span class="k">SET</span> <span class="o">@</span><span class="n">a</span> <span class="p">:</span><span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="k">SET</span> <span class="o">@</span><span class="n">b</span> <span class="p">:</span><span class="o">=</span> <span class="p">(</span> <span class="k">SELECT</span> <span class="n">nws_nb_vues</span> <span class="o">+</span> <span class="mi">1</span> <span class="k">FROM</span> <span class="n">t_news</span> <span class="k">WHERE</span> <span class="n">nws_id</span> <span class="o">=</span> <span class="mi">1</span> <span class="p">);</span> <span class="k">SELECT</span> <span class="o">@</span><span class="n">a</span> <span class="p">:</span><span class="o">=</span> <span class="n">nws_id</span> <span class="k">AS</span> <span class="n">nws_id</span><span class="p">,</span> <span class="o">@</span><span class="n">b</span> <span class="p">:</span><span class="o">=</span> <span class="n">nws_nb_vues</span> <span class="k">AS</span> <span class="n">nws_nb_vues</span> <span class="k">FROM</span> <span class="n">t_news</span> <span class="k">WHERE</span> <span class="n">nws_nb_vues</span> <span class="o">&lt;</span> <span class="o">@</span><span class="n">b</span><span class="p">;</span>
<span class="k">SET</span> <span class="o">@</span><span class="n">a</span> <span class="p">:</span><span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="k">SET</span> <span class="o">@</span><span class="n">b</span> <span class="p">:</span><span class="o">=</span> <span class="p">(</span> <span class="k">SELECT</span> <span class="n">nws_nb_vues</span> <span class="k">FROM</span> <span class="n">t_news</span> <span class="k">WHERE</span> <span class="n">nws_id</span> <span class="o">=</span> <span class="mi">1</span> <span class="p">);</span> <span class="k">SELECT</span> <span class="o">@</span><span class="n">a</span> <span class="p">:</span><span class="o">=</span> <span class="n">nws_id</span> <span class="k">AS</span> <span class="n">nws_id</span><span class="p">,</span> <span class="o">@</span><span class="n">b</span> <span class="p">:</span><span class="o">=</span> <span class="n">nws_nb_vues</span> <span class="k">AS</span> <span class="n">nws_nb_vues</span> <span class="k">FROM</span> <span class="n">t_news</span> <span class="k">WHERE</span> <span class="n">nws_nb_vues</span> <span class="o">=</span> <span class="n">LEAST</span><span class="p">(</span><span class="o">@</span><span class="n">b</span><span class="p">,</span> <span class="n">nws_nb_vues</span><span class="p">);</span>
</pre></div>
</td></tr></tbody></table></div><br>
<br>
<div class="centre"><img src="sql_fichiers/75062.png" alt="Solution de la variante"></div><br>
<br>
Voilà, cette fois-ci @b vaut le plus petit nombre de vues qu'une news possède. <img src="sql_fichiers/smile.png" alt=":)" class="smilies"></div></div><br>
<br>
J'espère que ça vous a plu, en gros on vient de réinventer les fonctions
 MIN et MAX que vous connaissiez peut-être déjà, et que vous connaitrez 
certainement (du moins je l'espère) d'ici le prochain chapitre. <img src="sql_fichiers/smile.png" alt=":)" class="smilies"> <img src="sql_fichiers/langue.png" alt=":p" class="smilies">
		</div>
		<hr>
		
	<div id="chap_conclusion">
	Un petit résumé de ce chapitre :<br>
<br>
<ul>
<li>Les opérateurs de comparaison : =, &lt;=&gt;, &lt;&gt;, &lt;, &lt;=, &gt;, &gt;=</li>
<li>SELECT ... FROM ... WHERE ... BETWEEN x AND y;</li>
<li>SELECT ... FROM ... WHERE ... IN ( a, b, c, d, ... );</li>
<li>SELECT ... FROM ... WHERE ... LIKE 'expression'; ( %: chaine | _: caractère )</li>
<li>GREATEST(x, y, z) renvoie le plus grand nombre (ou chaîne de caractères ou date)</li>
<li>LEAST(x, y, z) fait la même chose avec le plus petit.</li>
</ul><br>
Voilà, ya plus qu'à attendre la suite. <img src="sql_fichiers/langue.png" alt=":p" class="smilies">
	</div>
	
	<hr>
	<h1 id="chap_9864">Un peu de stats avec GROUP BY ( 1 / 2 )</h1>
	<div id="chap_intro">
	Entrons enfin dans le vif du sujet. <img src="sql_fichiers/smile.png" alt=":)" class="smilies"><br>
<br>
Si vous avez juste suivi le cours de M@teo21, ce que vous allez 
apprendre dans les 2 prochains chapitres sera totalement nouveau pour 
vous, c'est pourquoi j'essaierai d'être aussi clair et concis que 
possible. <img src="sql_fichiers/smile.png" alt=":)" class="smilies"><br>
<br>
J'ai décidé de diviser ce point en 2 chapitres puisqu'il est assez 
conséquent. Ce premier chapitre sera consacré à mettre en place les 
bases des fonctions d'aggrégation et de la clause GROUP BY. Tandis que 
le second fouillera les fonctionnalités un peu plus avancées de toutes 
ces notions. <img src="sql_fichiers/smile.png" alt=":)" class="smilies">
	</div>
		
		<hr class="separateur_parties">
		<h2 id="ss_part_9863">Les fonctions statistiques de MySQL</h2>
		<div class="ss_part_texte">
		MySQL propose toute une série de fonctions qui permettent de faire des stats sur vos tables, en résumé... <img src="sql_fichiers/smile.png" alt=":)" class="smilies"><br>
<br>
<h3>Les fonctions courantes</h3><br>
<br>
<table class="tab_user">						






<thead><tr><th>Fonction</th><th>Explication</th><th>Exemple</th><th>Résultat</th></tr></thead><tbody><tr>		
<td>COUNT()</td>		
<td>Nombre de lignes</td>		
<td><span class="code">Code : SQL - <a href="#" class="select_code">Sélectionner</a></span><div class="code2 sql"><table class="syntaxtable"><tbody><tr><td class="linenos"><pre>1</pre></td><td class="code"><div class="syntax"><pre><span class="k">SELECT</span> <span class="k">COUNT</span><span class="p">(</span><span class="n">nws_id</span><span class="p">)</span> <span class="k">FROM</span> <span class="n">t_news</span><span class="p">;</span>
</pre></div>
</td></tr></tbody></table></div></td>		
<td>6</td>	
</tr><tr>		
<td>MAX()</td>		
<td>Renvoie la valeur maximale</td>		
<td><span class="code">Code : SQL - <a href="#" class="select_code">Sélectionner</a></span><div class="code2 sql"><table class="syntaxtable"><tbody><tr><td class="linenos"><pre>1</pre></td><td class="code"><div class="syntax"><pre><span class="k">SELECT</span> <span class="k">MAX</span><span class="p">(</span><span class="n">nws_nb_vues</span><span class="p">)</span> <span class="k">FROM</span> <span class="n">t_news</span><span class="p">;</span>
</pre></div>
</td></tr></tbody></table></div></td>		
<td>2154</td>	
</tr><tr>		
<td>MIN()</td>		
<td>Renvoie la valeur minimale</td>		
<td><span class="code">Code : SQL - <a href="#" class="select_code">Sélectionner</a></span><div class="code2 sql"><table class="syntaxtable"><tbody><tr><td class="linenos"><pre>1</pre></td><td class="code"><div class="syntax"><pre><span class="k">SELECT</span> <span class="k">MIN</span><span class="p">(</span><span class="n">nws_nb_vues</span><span class="p">)</span> <span class="k">FROM</span> <span class="n">t_news</span><span class="p">;</span>
</pre></div>
</td></tr></tbody></table></div></td>		
<td>0</td>	
</tr><tr>		
<td>SUM()</td>		
<td>Renvoie la somme des valeurs</td>		
<td><span class="code">Code : SQL - <a href="#" class="select_code">Sélectionner</a></span><div class="code2 sql"><table class="syntaxtable"><tbody><tr><td class="linenos"><pre>1</pre></td><td class="code"><div class="syntax"><pre><span class="k">SELECT</span> <span class="k">SUM</span><span class="p">(</span><span class="n">nws_nb_vues</span><span class="p">)</span> <span class="k">FROM</span> <span class="n">t_news</span><span class="p">;</span>
</pre></div>
</td></tr></tbody></table></div></td>		
<td>4407</td>	
</tr><tr>		
<td>AVG()</td>		
<td>Renvoie la moyenne (Average) des valeurs</td>		
<td><span class="code">Code : SQL - <a href="#" class="select_code">Sélectionner</a></span><div class="code2 sql"><table class="syntaxtable"><tbody><tr><td class="linenos"><pre>1</pre></td><td class="code"><div class="syntax"><pre><span class="k">SELECT</span> <span class="k">AVG</span><span class="p">(</span><span class="n">nws_nb_vues</span><span class="p">)</span> <span class="k">FROM</span> <span class="n">t_news</span><span class="p">;</span>
</pre></div>
</td></tr></tbody></table></div></td>		
<td>734.5000</td>	
</tr></tbody></table><br>
<br>
<h3>Les fonctions de linéarisation</h3><br>
<br>
Il existe également d'autres fonctions permettant de calculer la 
variance et l'écart-type d'une population ou d'un échantillon (pour ceux
 qui sont allergiques aux maths, je propose que vous évitiez d'essayer 
de comprendre ce paragraphe <img src="sql_fichiers/heureux.png" alt=":D" class="smilies"> ).<br>
<br>
Ce sera certainement utile à quelques uns d'entre vous, donc je vous 
mets ces fonctions au nombre de 4 si on ne compte pas les dérivés 
non-standards créés par MySQL (on se demande pourquoi d'ailleurs...).<br>
<br>
<table class="tab_user">					





<thead><tr><th>Fonction</th><th>Explication</th><th>Exemple</th><th>Résultat</th></tr></thead><tbody><tr>		
<td>VAR_POP</td>		
<td>Variance d'une population</td>		
<td><span class="code">Code : SQL - <a href="#" class="select_code">Sélectionner</a></span><div class="code2 sql"><table class="syntaxtable"><tbody><tr><td class="linenos"><pre>1</pre></td><td class="code"><div class="syntax"><pre><span class="k">SELECT</span> <span class="n">VAR_POP</span><span class="p">(</span><span class="n">nws_nb_vues</span><span class="p">)</span> <span class="k">FROM</span> <span class="n">t_news</span><span class="p">;</span>
</pre></div>
</td></tr></tbody></table></div></td>		
<td>608275.5833</td>	
</tr><tr>		
<td>STDDEV_POP</td>		
<td>Ecart-type d'une population</td>		
<td><span class="code">Code : SQL - <a href="#" class="select_code">Sélectionner</a></span><div class="code2 sql"><table class="syntaxtable"><tbody><tr><td class="linenos"><pre>1</pre></td><td class="code"><div class="syntax"><pre><span class="k">SELECT</span> <span class="n">STDDEV_POP</span><span class="p">(</span><span class="n">nws_nb_vues</span><span class="p">)</span> <span class="k">FROM</span> <span class="n">t_news</span><span class="p">;</span>
</pre></div>
</td></tr></tbody></table></div></td>		
<td>779.9202</td>	
</tr><tr>		
<td>VAR_SAMP</td>		
<td>Variance d'un échantillon</td>		
<td><span class="code">Code : SQL - <a href="#" class="select_code">Sélectionner</a></span><div class="code2 sql"><table class="syntaxtable"><tbody><tr><td class="linenos"><pre>1</pre></td><td class="code"><div class="syntax"><pre><span class="k">SELECT</span> <span class="n">VAR_SAMP</span><span class="p">(</span><span class="n">nws_nb_vues</span><span class="p">)</span> <span class="k">FROM</span> <span class="n">t_news</span><span class="p">;</span>
</pre></div>
</td></tr></tbody></table></div></td>		
<td>729930.7000</td>	
</tr><tr>		
<td>STDDEV_SAMP</td>		
<td>Ecart-type d'un échantillon</td>		
<td><span class="code">Code : SQL - <a href="#" class="select_code">Sélectionner</a></span><div class="code2 sql"><table class="syntaxtable"><tbody><tr><td class="linenos"><pre>1</pre></td><td class="code"><div class="syntax"><pre><span class="k">SELECT</span> <span class="n">STDDEV_SAMP</span><span class="p">(</span><span class="n">nws_nb_vues</span><span class="p">)</span> <span class="k">FROM</span> <span class="n">t_news</span><span class="p">;</span>
</pre></div>
</td></tr></tbody></table></div></td>		
<td>854.3598</td>	
</tr></tbody></table><br>
<br>
Évidemment, comme nous avons des données qui ne se prêtent pas vraiment à
 la linéarité, les variances et écarts-types sont absolument... 
anarchiques. <img src="sql_fichiers/langue.png" alt=":p" class="smilies"> Avec des vraies données vous aurez bien sûr des résultats plus raisonnables. <img src="sql_fichiers/smile.png" alt=":)" class="smilies"><br>
<br>
Pour ceux qui commencent à attraper des boutons, rassurez-vous, les maths c'est à peu près terminé. <img src="sql_fichiers/heureux.png" alt=":D" class="smilies"> <img src="sql_fichiers/langue.png" alt=":p" class="smilies"><br>
<br>
Quelques notes par rapport à tout ça...<br>
<br>
<h3>COUNT(DISTINCT <span class="italique">champ</span>)</h3><br>
<br>
Je vous ai présenté la fonction COUNT() sous sa forme la plus simple, il y a plusieurs subtilités relativement intéressantes. <img src="sql_fichiers/smile.png" alt=":)" class="smilies"><br>
<br>
A commencer par le fait d'ajouter DISTINCT avant le nom de la colonne, 
ce qui permet, vous vous en doutez certainement, de ne pas prendre en 
compte les doublons. <img src="sql_fichiers/smile.png" alt=":)" class="smilies"><br>
<br>
Un petit exemple :<br>
<br>
<span class="code">Code : SQL - <a href="#" class="select_code">Sélectionner</a></span><div class="code2 sql"><table class="syntaxtable"><tbody><tr><td class="linenos"><pre>1</pre></td><td class="code"><div class="syntax"><pre><span class="k">SELECT</span> <span class="k">COUNT</span><span class="p">(</span><span class="n">nws_auteur</span><span class="p">)</span> <span class="k">AS</span> <span class="n">nbr_tot</span><span class="p">,</span> <span class="k">COUNT</span><span class="p">(</span><span class="k">DISTINCT</span> <span class="n">nws_auteur</span><span class="p">)</span> <span class="k">AS</span> <span class="n">nbr_distinct</span> <span class="k">FROM</span> <span class="n">t_news</span><span class="p">;</span>
</pre></div>
</td></tr></tbody></table></div><br>
<br>
Pour rappel on a 6 news écrites par Alexi, karamilo, karamilo, alexi, karamilo et visiteur.<br>
<br>
Le résultat de notre requête :<br>
<br>
<div class="centre"><img src="sql_fichiers/75501.png" alt="COUNT avec le mot-clef DISTINCT"></div><br>
<br>
Autre possibilité qui, même si elle peut paraître évidente pour 
certains, ne l'est pas pour d'autres : on peut utiliser des fonctions à 
l'intérieur de COUNT. Par exemple avec un IF :<br>
<br>
<span class="code">Code : SQL - <a href="#" class="select_code">Sélectionner</a></span><div class="code2 sql"><table class="syntaxtable"><tbody><tr><td class="linenos"><pre>1</pre></td><td class="code"><div class="syntax"><pre><span class="k">SELECT</span> <span class="k">COUNT</span><span class="p">(</span><span class="k">DISTINCT</span> <span class="n">IF</span><span class="p">(</span><span class="n">nws_auteur</span><span class="o">=</span><span class="s1">'karamilo'</span><span class="p">,</span> <span class="s1">'Alexi Laiho'</span><span class="p">,</span> <span class="n">nws_auteur</span><span class="p">))</span> <span class="k">FROM</span> <span class="n">t_news</span><span class="p">;</span>
</pre></div>
</td></tr></tbody></table></div><br>
<br>
<div class="centre"><img src="sql_fichiers/75505.png" alt="Utilisation de COUNT avec une fonction"></div><br>
<br>
Notez enfin que la fonction COUNT() <strong>ne prend pas en compte la valeur NULL</strong>. Ainsi, la requête suivante renverra 3 :<br>
<br>
<span class="code">Code : SQL - <a href="#" class="select_code">Sélectionner</a></span><div class="code2 sql"><table class="syntaxtable"><tbody><tr><td class="linenos"><pre>1</pre></td><td class="code"><div class="syntax"><pre><span class="k">SELECT</span> <span class="k">COUNT</span><span class="p">(</span><span class="k">NULLIF</span><span class="p">(</span><span class="n">nws_auteur</span><span class="p">,</span> <span class="s1">'karamilo'</span><span class="p">))</span> <span class="k">FROM</span> <span class="n">t_news</span><span class="p">;</span>
</pre></div>
</td></tr></tbody></table></div><br>
<br>
<div class="rmq information">NULLIF(a1, a2) renvoie NULL si a1 = a2, sinon elle renvoie a1.</div><br>
<br>
<div class="centre"><img src="sql_fichiers/75506.png" alt="COUNT ne prend pas en compte les valeurs NULL"></div><br>
<br>
<h3>COUNT et AVG ne prennent pas NULL en compte, mais bien les 0 !</h3><br>
<br>
C'est vrai également mais moins important pour les fonctions SUM, MIN et MAX.<br>
<br>
On vient de voir de quoi il en retourne pour la fonction COUNT.<br>
<br>
Pour la fonction AVG, c'est important également de le savoir puisque la 
valeur 0 influe très fortement une moyenne. Ainsi, si on veut la moyenne
 du nombre de vues par news sans compter les news où ce nombre vaut 0, 
la requête suivante ferait l'affaire :<br>
<br>
<span class="code">Code : SQL - <a href="#" class="select_code">Sélectionner</a></span><div class="code2 sql"><table class="syntaxtable"><tbody><tr><td class="linenos"><pre>1</pre></td><td class="code"><div class="syntax"><pre><span class="k">SELECT</span> <span class="k">AVG</span><span class="p">(</span><span class="k">NULLIF</span><span class="p">(</span><span class="n">nws_nb_vues</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span> <span class="k">FROM</span> <span class="n">t_news</span><span class="p">;</span>
</pre></div>
</td></tr></tbody></table></div><br>
<br>
<div class="centre"><img src="sql_fichiers/75507.png" alt="AVG et sa gestion des valeurs NULL"></div><br>
<br>
<div class="rmq information">AVG() est strictement la même chose que 
SUM() / COUNT(), même si COUNT() renvoie 0 (c'est-à-dire qu'il n'y a pas
 de ligne à traiter), le résultat sera 0, c'est une exception qui permet
 de ne pas devoir prévoir d'exception quand il n'y a aucune ligne dans 
la table traitée. <img src="sql_fichiers/langue.png" alt=":p" class="smilies"></div><br>
<br>
<h3>COUNT(*) pour compter toutes les entrées de la table d'un coup</h3><br>
<br>
<span class="code">Code : SQL - <a href="#" class="select_code">Sélectionner</a></span><div class="code2 sql"><table class="syntaxtable"><tbody><tr><td class="linenos"><pre>1</pre></td><td class="code"><div class="syntax"><pre><span class="k">SELECT</span> <span class="k">COUNT</span><span class="p">(</span><span class="o">*</span><span class="p">)</span> <span class="k">FROM</span> <span class="n">t_news</span><span class="p">;</span>
</pre></div>
</td></tr></tbody></table></div><br>
<br>
En général, l'étoile c'est mal, mais voici un des rare cas où... C'est bien. <img src="sql_fichiers/langue.png" alt=":p" class="smilies"><br>
<br>
En effet si vous utilisez COUNT(*) sur une table, MySQL ira chercher 
directement la valeur dans ses statistiques à lui et vous enverra ce 
nombre en un temps record : il ne devra pas parcourir toute la table. <img src="sql_fichiers/smile.png" alt=":)" class="smilies"><br>
<br>
Bien sûr, COUNT(DISTINCT *) ne rime à rien et vous renverra une erreur. <img src="sql_fichiers/hihi.png" alt="^^" class="smilies"><br>
<br>
Enfin, à moins que toute la ligne ne soit NULL, COUNT(*) prend cette ligne en compte (vous pouvez vérifier avec la table <span class="italique">t_commentaire</span>).<br>
<br>
Hop ! Fin de la sous-partie. <img src="sql_fichiers/smile.png" alt=":)" class="smilies"><br>
<br>
C'était le plus simple <img src="sql_fichiers/hihi.png" alt="^^" class="smilies"> (à expliquer du moins <img src="sql_fichiers/langue.png" alt=":p" class="smilies"> ). Normalement vous commencez à comprendre pourquoi j'ai décidé de diviser ce chapitre en 2 parties. <img src="sql_fichiers/heureux.png" alt=":D" class="smilies">
		</div>
		<hr>
		
		<hr class="separateur_parties">
		<h2 id="ss_part_9862">Grouper les données avec GROUP BY</h2>
		<div class="ss_part_texte">
		Voici un concept relativement complexe à introduire et pourtant relativement fondamental et vraiment très puissant !<br>
<br>
Pour la partie théorique, GROUP BY permet de grouper les données selon 
un certain critère, mais cela ne vous aide guère... C'est pourquoi je 
vous propose de voir celà avec un exemple. <img src="sql_fichiers/smile.png" alt=":)" class="smilies"><br>
<br>
Prenons l'éternelle table t_news, nous ne nous intéressons qu'aux champs nws_id, nws_catid, nws_auteur et nws_titre.<br>
<br>
A l'intérieur de la table, il y a 6 éléments, composés entre autres des 4 champs précités :<br>
<br>
<div class="centre"><img src="sql_fichiers/75543.png" alt="La table dans son état initial"></div><br>
<br>
Intéressons-nous plus particulièrement au champ nws_auteur :<br>
<br>
<div class="centre"><img src="sql_fichiers/75541.png" alt="Le critère selon lequel nous allons grouper"></div><br>
<br>
On constate qu'il y a 3 auteurs différents : karamilo, Alexi Laiho et un visiteur en quête du savoir absolu. <img src="sql_fichiers/langue.png" alt=":p" class="smilies"> On pourrait donc imaginer (soyons fous !) diviser notre table en 3 groupes, comme ceci :<br>
<br>
<div class="centre"><img src="sql_fichiers/75542.png" alt="On divise la table en 3 groupes"></div><br>
<br>
Vous avez compris ce qu'on a fait ? Si oui vous avez compris ce que GROUP BY fait. <img src="sql_fichiers/smile.png" alt=":)" class="smilies"> C'est <strong>exactement la même chose</strong>. Il prend des données, regarde une certaine colonne et fait des groupes en fonction de cette colonne.<br>
<br>
Voilà. <img src="sql_fichiers/smile.png" alt=":)" class="smilies"><br>
<br>
<div class="rmq question">Euh... Tu rigoles de nous là ?? Tu nous avait dit que GROUP BY était très puissant !!</div><br>
<br>
<br>
Tout d'abord je vous parle de GROUP BY sans arrêt mais vous ne savez 
toujours pas comment on l'intègre dans une requête SQL... Si l'on 
considère qu'on groupe selon la colonne nws_auteur, le GROUP BY se 
ferait comme ceci :<br>
<br>
<span class="code">Code : SQL - <a href="#" class="select_code">Sélectionner</a></span><div class="code2 sql"><table class="syntaxtable"><tbody><tr><td class="linenos"><pre>1</pre></td><td class="code"><div class="syntax"><pre><span class="k">SELECT</span> <span class="n">champs</span> <span class="k">FROM</span> <span class="n">t_news</span> <span class="k">GROUP</span> <span class="k">BY</span> <span class="n">nws_auteur</span><span class="p">;</span>
</pre></div>
</td></tr></tbody></table></div><br>
<br>
Ensuite, c'est vrai que tout seul, GROUP BY ne sert pas à grand chose...
 L'énorme utilité de GROUP BY, c'est qu'on peut faire des requêtes 
SELECT sur chaque groupe individuellement : il faut voir votre table non
 plus comme une table de 6 lignes mais comme une table de 3 groupes : <strong>SELECT agit sur un groupe, plus sur une ligne !!!</strong><br>
<br>
<div class="centre"><img src="sql_fichiers/75544.png" alt="SELECT agit sur un groupe en entier"></div><br>
<br>
Je vous explique un peu ce que je veux dire :<br>
<br>
Quand vous faites un SELECT normal, MySQL vous renvoie des infos <strong>ligne par ligne</strong>. En général il s'agit de données simples.<br>
<br>
Par contre, quand vous faites un SELECT contenant une clause GROUP BY, MySQL vous renvoie des infos <strong>groupe par groupe</strong>
 ! Et ce concept est très important. En effet, ça veut dire par exemple 
que ça n'a plus de sens de demander le nws_id de ce groupe puisque ce 
groupe possède plusieurs champs nws_id différents !<br>
<br>
Ainsi la requête suivante:<br>
<br>
<span class="code">Code : SQL - <a href="#" class="select_code">Sélectionner</a></span><div class="code2 sql"><table class="syntaxtable"><tbody><tr><td class="linenos"><pre>1</pre></td><td class="code"><div class="syntax"><pre><span class="k">SELECT</span> <span class="n">nws_id</span> <span class="k">FROM</span> <span class="n">t_news</span> <span class="k">GROUP</span> <span class="k">BY</span> <span class="n">nws_auteur</span><span class="p">;</span>
</pre></div>
</td></tr></tbody></table></div><br>
<br>
n'a aucun sens ! MySQL pourrait aussi bien nous renvoyer 2, 3 ou 5 !<br>
<br>
<div class="rmq information">Si vous essayez d'exécuter cette requête, MySQL vous renverra l'un des trois, généralement le premier du groupe, mais ne prenez <strong>jamais</strong> le risque de faire ce genre de suppositions dans un script supposé fonctionnel !!</div><br>
<br>
Par contre, il est tout à fait sensé de récupérer la colonne selon 
laquelle on a effectué le groupage, à savoir dans ce cas-ci nws_auteur :<br>
<br>
<span class="code">Code : SQL - <a href="#" class="select_code">Sélectionner</a></span><div class="code2 sql"><table class="syntaxtable"><tbody><tr><td class="linenos"><pre>1</pre></td><td class="code"><div class="syntax"><pre><span class="k">SELECT</span> <span class="n">nws_auteur</span> <span class="k">FROM</span> <span class="n">t_news</span> <span class="k">GROUP</span> <span class="k">BY</span> <span class="n">nws_auteur</span><span class="p">;</span>
</pre></div>
</td></tr></tbody></table></div><br>
<br>
<div class="centre"><img src="sql_fichiers/75552.png" alt="Récupérer la colonne référencée dans la clause GROUP BY a forcément du sens"></div><br>
<br>
Tiens c'est rigolo, ça fait le même qu'avec un DISTINCT. <img src="sql_fichiers/langue.png" alt=":p" class="smilies"><br>
<br>
N'oubliez jamais qu'avec GROUP BY, SELECT agit sur un ensemble de lignes et non plus sur une ligne précise !<br>
<br>
<div class="rmq question">Mais dans ce cas, à quoi ça sert ?? C'est quand même pas juste une façon loufoque de faire un SELECT DISTINCT ???</div><br>
<br>
Je vous propose de lire la prochaine sous-partie qui vous éclairera sans doute sur ce point. <img src="sql_fichiers/smile.png" alt=":)" class="smilies">
		</div>
		<hr>
		
		<hr class="separateur_parties">
		<h2 id="ss_part_9861">Les fonctions statistiques agissent sur des groupes !!</h2>
		<div class="ss_part_texte">
		Et là... C'est la révélation, vous avez tout compris maintenant non ? <img src="sql_fichiers/langue.png" alt=":p" class="smilies"><br>
<br>
La principale utilité de GROUP BY, c'est de diviser une table en 
groupes, et ensuite, sur ces groupes, on peut appliquer les fonctions 
MIN(), MAX(), SUM(), COUNT(), AVG(), ... vues juste avant. <img src="sql_fichiers/smile.png" alt=":)" class="smilies"><br>
<br>
Ainsi, si on veut connaître le nombre total de vues pour chaque auteur, on peut faire :<br>
<br>
<span class="code">Code : SQL - <a href="#" class="select_code">Sélectionner</a></span><div class="code2 sql"><table class="syntaxtable"><tbody><tr><td class="linenos"><pre>1</pre></td><td class="code"><div class="syntax"><pre><span class="k">SELECT</span> <span class="n">nws_auteur</span><span class="p">,</span> <span class="k">SUM</span><span class="p">(</span><span class="n">nws_nb_vues</span><span class="p">)</span> <span class="k">AS</span> <span class="n">nb_vues_tot</span> <span class="k">FROM</span> <span class="n">t_news</span> <span class="k">GROUP</span> <span class="k">BY</span> <span class="n">nws_auteur</span><span class="p">;</span>
</pre></div>
</td></tr></tbody></table></div><br>
<br>
Si on veut le nombre moyen de vues pour les news de chaque auteur, on fait :<br>
<br>
<span class="code">Code : SQL - <a href="#" class="select_code">Sélectionner</a></span><div class="code2 sql"><table class="syntaxtable"><tbody><tr><td class="linenos"><pre>1</pre></td><td class="code"><div class="syntax"><pre><span class="k">SELECT</span> <span class="n">nws_auteur</span><span class="p">,</span> <span class="k">AVG</span><span class="p">(</span><span class="n">nws_nb_vues</span><span class="p">)</span> <span class="k">AS</span> <span class="n">nb_vues_tot</span> <span class="k">FROM</span> <span class="n">t_news</span> <span class="k">GROUP</span> <span class="k">BY</span> <span class="n">nws_auteur</span><span class="p">;</span>
</pre></div>
</td></tr></tbody></table></div><br>
<br>
Le résultat semble presque magique...<br>
<br>
<div class="centre"><img src="sql_fichiers/75553.png" alt="Des stats par groupe avec GROUP BY !"></div><br>
<br>
Comme ce concept est très important pour la suite, je vous propose de trouver les requêtes qui permettront de...<br>
<br>
<ul>
<li>Compter le nombre de news par auteur ;</li>
<li>Trouver le nombre de vues le plus grand pour chaque auteur ;</li>
<li>Trouver la date de la news la plus récente de chaque auteur ;</li>
<li>Trouver la date de la première news de chaque auteur ;</li>
<li>Compter le nombre de news dans chaque catégorie ;</li>
<li>Compter le nombre de news qui ont été lues au moins une fois et celles qui n'ont jamais été lues (vous devez obtenir 5 et 1).</li>
</ul><br>
<br>
<div class="rmq information">On peut utiliser les alias des colonnes calculées entre SELECT et FROM dans la clause GROUP BY.</div><br>
<br>
Les réponses :<br>
<br>
<span class="spoiler">Secret <a href="#" onclick="switch_spoiler(this); return false;">(cliquez pour afficher)</a></span><div class="spoiler2"><div class="spoiler3"><span class="code">Code : SQL - <a href="#" class="select_code">Sélectionner</a></span><div class="code2 sql"><table class="syntaxtable"><tbody><tr><td class="linenos"><pre>1
2
3
4
5
6</pre></td><td class="code"><div class="syntax"><pre><span class="k">SELECT</span> <span class="n">nws_auteur</span><span class="p">,</span> <span class="k">COUNT</span><span class="p">(</span><span class="n">nws_id</span><span class="p">)</span> <span class="k">AS</span> <span class="n">nb_news</span> <span class="k">FROM</span> <span class="n">t_news</span> <span class="k">GROUP</span> <span class="k">BY</span> <span class="n">nws_auteur</span><span class="p">;</span>
<span class="k">SELECT</span> <span class="n">nws_auteur</span><span class="p">,</span> <span class="k">MAX</span><span class="p">(</span><span class="n">nws_nb_vues</span><span class="p">)</span> <span class="k">AS</span> <span class="n">max_vues</span> <span class="k">FROM</span> <span class="n">t_news</span> <span class="k">GROUP</span> <span class="k">BY</span> <span class="n">nws_auteur</span><span class="p">;</span>
<span class="k">SELECT</span> <span class="n">nws_auteur</span><span class="p">,</span> <span class="k">MAX</span><span class="p">(</span><span class="n">nws_date</span><span class="p">)</span> <span class="k">AS</span> <span class="n">date_derniere_news</span> <span class="k">FROM</span> <span class="n">t_news</span> <span class="k">GROUP</span> <span class="k">BY</span> <span class="n">nws_auteur</span><span class="p">;</span>
<span class="k">SELECT</span> <span class="n">nws_auteur</span><span class="p">,</span> <span class="k">MIN</span><span class="p">(</span><span class="n">nws_date</span><span class="p">)</span> <span class="k">AS</span> <span class="n">date_premiere_news</span> <span class="k">FROM</span> <span class="n">t_news</span> <span class="k">GROUP</span> <span class="k">BY</span> <span class="n">nws_auteur</span><span class="p">;</span>
<span class="k">SELECT</span> <span class="n">nws_catid</span><span class="p">,</span> <span class="k">COUNT</span><span class="p">(</span><span class="n">nws_id</span><span class="p">)</span> <span class="k">AS</span> <span class="n">nb_news</span> <span class="k">FROM</span> <span class="n">t_news</span> <span class="k">GROUP</span> <span class="k">BY</span> <span class="n">nws_catid</span><span class="p">;</span>
<span class="k">SELECT</span> <span class="n">IF</span><span class="p">(</span><span class="n">nws_nb_vues</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="s1">'jamais lues'</span><span class="p">,</span><span class="s1">'lues au moins une fois'</span><span class="p">)</span> <span class="k">AS</span> <span class="n">est_lue</span><span class="p">,</span> <span class="k">COUNT</span><span class="p">(</span><span class="n">nws_id</span><span class="p">)</span> <span class="k">FROM</span> <span class="n">t_news</span> <span class="k">GROUP</span> <span class="k">BY</span> <span class="n">est_lue</span><span class="p">;</span>
</pre></div>
</td></tr></tbody></table></div></div></div><br>
<br>
<div class="rmq attention">Remarquez qu'ici je n'utilise pas COUNT(*) 
dont j'avais fait l'éloge tout à l'heure mais COUNT(nws_id). En effet 
COUNT(*) n'est efficace que sur une table entière, il devient (très) 
lourd lorsque vous travaillez sur des groupes.</div>
		</div>
		<hr>
		
	<div id="chap_conclusion">
	Voilà voilà, soyez sûrs de bien comprendre la base de la clause GROUP 
BY avant de passer au chapitre suivant, sinon vous risquez d'être 
perdu... Et au risque de me répéter, n'oubliez pas que tout ce que fait 
GROUP BY, c'est diviser la table en groupes sur lesquels SELECT va agir 
directement, et donc qu'on ne peut pas récupérer une autre colonne que 
celle qui forme le groupe dans ce groupe ...
	</div>
	
	<hr>
	<h1 id="chap_136008">Un peu de stats avec GROUP BY ( 2 / 2 )</h1>
	<div id="chap_intro">
	Vous ne savez pas encore tout sur le clause GROUP BY ! A moi de vous le
 prouver avec ce chapitre qui, je l'espère, en intéressera plus d'un.<br>
<br>
Au programme: Particularités de GROUP BY, la fonction GROUP_CONCAT, 
l'imbrication d'aggrégation et le problème très fréquent de la 
récupération de la dernière ligne.<br>
<br>
Bonne lecture !
	</div>
		
		<hr class="separateur_parties">
		<h2 id="ss_part_136007">Fonctionnalités moins connues</h2>
		<div class="ss_part_texte">
		Dans cette sous-partie, on va parler de fonctionnalités de la clause 
GROUP BY qui sont moins connues et spécifiques à MySQL pour la plupart.<br>
<br>
<h3>GROUP BY et ORDER BY</h3><br>
<br>
Nous n'avons pas encore vraiment parlé de la clause ORDER BY, bien que vous l'ayez déjà abordée avec M@teo21.<br>
<br>
Les plus perspicaces d'entre vous s'en sont peut-être déjà rendus 
compte: MySQL trie les résultats selon la colonne groupée. En fait, 
faire <span class="italique">GROUP BY nom_de_colonne</span> revient non seulement à grouper mais également à faire <span class="italique">ORDER BY nom_de_colonne</span>
 (je rappelle que ce comportement est spécifique à MySQL). Il est 
possible d'empêcher ce comportement par défaut en ajoutant la clause 
ORDER BY qui est prioritaire par rapport à GROUP BY.<br>
<br>
Notez également qu'on peut ajouter les mots-clefs ASC et DESC après le nom d'une colonne spécifiée dans GROUP BY.<br>
<br>
<span class="code">Code : SQL - <a href="#" class="select_code">Sélectionner</a></span><div class="code2 sql"><table class="syntaxtable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="syntax"><pre><span class="k">SELECT</span> <span class="n">nws_auteur</span> <span class="k">FROM</span> <span class="n">t_news</span> <span class="k">GROUP</span> <span class="k">BY</span> <span class="n">nws_auteur</span> <span class="k">DESC</span><span class="p">;</span>
</pre></div>
</td></tr></tbody></table></div><br>
<br>
<div class="centre"><img src="sql_fichiers/148090.png" alt="On peut indiquer le sens de l'ordonnancement dans la clause GROUP BY"></div><br>
<br>
Sachez enfin que ce tri a un coût au niveau du temps d'exécution, faible
 par rapport au coût du GROUP BY lui-même mais présent. Si vous voulez 
éviter ce qu'on pourrait parfois appeler une perte de temps (dans 
certains cas le tri n'est pas nécessaire), vous pouvez spécifier <span class="italique">ORDER BY NULL</span>, ainsi MySQL ne triera pas les données.<br>
<br>
Pour illustrer ceci je commence par updater la première entrée 
(nws_auteur = 'karamilo') afin de désordonner l'ordre établi par la clef
 primaire par défaut par MySQL, ensuite j'exécute le <span class="italique">GROUP BY</span> avec et sans <span class="italique">ORDER BY NULL</span>.<br>
<br>
<span class="code">Code : SQL - <a href="#" class="select_code">Sélectionner</a></span><div class="code2 sql"><table class="syntaxtable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="syntax"><pre><span class="k">UPDATE</span> <span class="n">t_news</span> <span class="k">SET</span> <span class="n">nws_auteur</span> <span class="o">=</span> <span class="s1">'karamilo'</span> <span class="k">WHERE</span> <span class="n">nws_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
<span class="k">SELECT</span> <span class="n">nws_auteur</span> <span class="k">FROM</span> <span class="n">t_news</span> <span class="k">GROUP</span> <span class="k">BY</span> <span class="n">nws_auteur</span> <span class="k">ORDER</span> <span class="k">BY</span> <span class="k">NULL</span><span class="p">;</span>
<span class="k">SELECT</span> <span class="n">nws_auteur</span> <span class="k">FROM</span> <span class="n">t_news</span> <span class="k">GROUP</span> <span class="k">BY</span> <span class="n">nws_auteur</span><span class="p">;</span>
<span class="k">UPDATE</span> <span class="n">t_news</span> <span class="k">SET</span> <span class="n">nws_auteur</span> <span class="o">=</span> <span class="s1">'Alexi Laiho'</span> <span class="k">WHERE</span> <span class="n">nws_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
</pre></div>
</td></tr></tbody></table></div><br>
<br>
<div class="centre"><img src="sql_fichiers/148091.png" alt="Éviter l'ordonnancement automatique du GROUP BY"></div><br>
<br>
<h3>Utilisations d'expressions</h3><br>
<br>
Il est tout à fait possible d'utiliser des expressions à la place de 
noms (ou alias) de colonnes avec GROUP BY. Ainsi, les deux requêtes 
suivantes sont équivalentes:<br>
<br>
<span class="code">Code : SQL - <a href="#" class="select_code">Sélectionner</a></span><div class="code2 sql"><table class="syntaxtable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="syntax"><pre><span class="k">SELECT</span> <span class="n">WEEK</span><span class="p">(</span><span class="n">nws_date</span><span class="p">)</span> <span class="k">AS</span> <span class="n">semaine</span> <span class="k">FROM</span> <span class="n">t_news</span> <span class="k">GROUP</span> <span class="k">BY</span> <span class="n">semaine</span><span class="p">;</span>
<span class="k">SELECT</span> <span class="n">WEEK</span><span class="p">(</span><span class="n">nws_date</span><span class="p">)</span> <span class="k">AS</span> <span class="n">semaine</span> <span class="k">FROM</span> <span class="n">t_news</span> <span class="k">GROUP</span> <span class="k">BY</span> <span class="n">WEEK</span><span class="p">(</span><span class="n">nws_date</span><span class="p">);</span>
</pre></div>
</td></tr></tbody></table></div><br>
<br>
Personnellement je n'ai jamais utilisé d'expressions directement dans le
 GROUP BY (Sans doute parce que ce n'est pas autorisé par la norme), 
mais peut-être serez-vous un jour confronté à un cas où vous n'aurez pas
 le choix ... ?<br>
<br>
<h3>GROUP BY col1, col2</h3><br>
<br>
Vous avez appris à grouper selon une colonne, pourquoi ne pas faire de 
sous-groupes dans ces groupes ? Par exemple grouper les commentaires 
d'abord par id de news, puis par commentateur, et compter le nombre 
d'entrées pour chaque cas <img src="sql_fichiers/langue.png" alt=":p" class="smilies"><br>
<br>
C'est possible et même très simple en SQL, il suffit de mettre les noms 
des colonnes selon lesquelles grouper dans le GROUP BY, séparées par des
 virgules <img src="sql_fichiers/smile.png" alt=":)" class="smilies"> Exemple:<br>
<br>
<span class="code">Code : SQL - <a href="#" class="select_code">Sélectionner</a></span><div class="code2 sql"><table class="syntaxtable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="syntax"><pre><span class="k">SELECT</span> <span class="n">cmt_nwsid</span><span class="p">,</span> <span class="n">cmt_auteur</span><span class="p">,</span> <span class="k">COUNT</span><span class="p">(</span><span class="o">*</span><span class="p">)</span> <span class="k">AS</span> <span class="n">nb_cmts</span> <span class="k">FROM</span> <span class="n">t_commentaire</span> <span class="k">GROUP</span> <span class="k">BY</span> <span class="n">cmt_nwsid</span><span class="p">,</span> <span class="n">cmt_auteur</span><span class="p">;</span>
</pre></div>
</td></tr></tbody></table></div><br>
<br>
<div class="centre"><img src="sql_fichiers/148092.png" alt="Il est possible de grouper selon plusieurs colonnes, la table est alors divisée en sous-groupes"></div><br>
<br>
<h3>WITH ROLLUP</h3><br>
<br>
Les choses risquent bien de se compliquer un peu ici ...<br>
<br>
Commençons par le plus simple: s'il n'y a qu'un nom de colonne dans le 
GROUP BY, ajouter WITH ROLLUP après GROUP BY col [ASC|DESC] aura pour 
effet d'ajouter une ligne avec pour valeur de col "NULL" et pour valeur 
de vos colonnes d'aggrégat la valeur maximale / minimale / somme / 
moyenne / compte de toutes les lignes.<br>
<br>
Un exemple vaut mieux qu'un long discours n'est-ce pas ? <img src="sql_fichiers/langue.png" alt=":p" class="smilies"> En gros WITH ROLLUP ajoute une ligne qui agit sur l'ensemble de la table:<br>
<br>
<span class="code">Code : SQL - <a href="#" class="select_code">Sélectionner</a></span><div class="code2 sql"><table class="syntaxtable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="syntax"><pre><span class="k">SELECT</span> <span class="n">cmt_nwsid</span><span class="p">,</span> <span class="k">COUNT</span><span class="p">(</span><span class="o">*</span><span class="p">)</span> <span class="k">FROM</span> <span class="n">t_commentaire</span> <span class="k">GROUP</span> <span class="k">BY</span> <span class="n">cmt_nwsid</span> <span class="k">WITH</span> <span class="k">ROLLUP</span><span class="p">;</span>
</pre></div>
</td></tr></tbody></table></div><br>
<br>
<div class="centre"><img src="sql_fichiers/148093.png" alt="WITH ROLLUP ajoute une ligne qui contient le résultat de la fonction d'aggrégation sur le groupe 'supérieur'"></div><br>
<br>
Si vous voulez renommer ce vilain "NULL" en "Total" par exemple, il suffit d'ajouter un COALESCE sur cmt_nwsid <img src="sql_fichiers/smile.png" alt=":)" class="smilies"><br>
<br>
<span class="code">Code : SQL - <a href="#" class="select_code">Sélectionner</a></span><div class="code2 sql"><table class="syntaxtable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="syntax"><pre><span class="k">SELECT</span> <span class="n">COALESCE</span><span class="p">(</span><span class="n">cmt_nwsid</span><span class="p">,</span> <span class="s1">'Total'</span><span class="p">)</span> <span class="k">AS</span> <span class="n">cmt_nwsid</span><span class="p">,</span> <span class="k">COUNT</span><span class="p">(</span><span class="o">*</span><span class="p">)</span> <span class="k">AS</span> <span class="n">nb_cmts</span> <span class="k">FROM</span> <span class="n">t_commentaire</span> <span class="k">GROUP</span> <span class="k">BY</span> <span class="n">cmt_nwsid</span> <span class="k">WITH</span> <span class="k">ROLLUP</span><span class="p">;</span>
</pre></div>
</td></tr></tbody></table></div><br>
<br>
<div class="centre"><img src="sql_fichiers/148094.png" alt="On peut renommer aisément l'identifiant de la ligne résultante du WITH ROLLUP"></div><br>
<br>
Passons aux choses sérieuses: s'il y a plusieurs noms de colonnes dans 
le GROUP BY, WITH ROLLUP ajoutera à la fin de chaque "sous-groupe" une 
ligne NULL qui contiendra l'aggrégat total de ce sous-groupe.<br>
<br>
On reprend l'exemple avec les nombre de commentaires par auteur par news + WITH ROLLUP:<br>
<br>
<span class="code">Code : SQL - <a href="#" class="select_code">Sélectionner</a></span><div class="code2 sql"><table class="syntaxtable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="syntax"><pre><span class="k">SELECT</span> <span class="n">cmt_nwsid</span><span class="p">,</span> <span class="n">cmt_auteur</span><span class="p">,</span> <span class="k">COUNT</span><span class="p">(</span><span class="o">*</span><span class="p">)</span> <span class="k">AS</span> <span class="n">nb_cmts</span> <span class="k">FROM</span> <span class="n">t_commentaire</span> <span class="k">GROUP</span> <span class="k">BY</span> <span class="n">cmt_nwsid</span><span class="p">,</span> <span class="n">cmt_auteur</span> <span class="k">WITH</span> <span class="k">ROLLUP</span><span class="p">;</span>
</pre></div>
</td></tr></tbody></table></div><br>
<br>
<div class="centre"><img src="sql_fichiers/148095.png" alt="WITH ROLLUP avec plusieurs colonnes dans le GROUP BY"></div><br>
<br>
<div class="rmq question">Eh mais il y a un bug dans ton machin, là ! 
Dans l'une des ligne le nom de l'auteur n'était pas spécifié, comment 
faire pour savoir quelle ligne représente le nombre de commentaires du 
visiteur anonyme ou le nombre de commentaires total pour la news ? 
(cmt_nwsid = 5)</div><br>
<br>
En effet c'est assez gênant, et le fait de mettre un COALESCE sur la colonne change évidemment les deux lignes ...<br>
<br>
<span class="code">Code : SQL - <a href="#" class="select_code">Sélectionner</a></span><div class="code2 sql"><table class="syntaxtable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="syntax"><pre><span class="k">SELECT</span> <span class="n">cmt_nwsid</span><span class="p">,</span> <span class="n">COALESCE</span><span class="p">(</span><span class="n">cmt_auteur</span><span class="p">,</span> <span class="s1">'Total'</span><span class="p">),</span> <span class="k">COUNT</span><span class="p">(</span><span class="o">*</span><span class="p">)</span> <span class="k">AS</span> <span class="n">nb_cmts</span> <span class="k">FROM</span> <span class="n">t_commentaire</span> <span class="k">GROUP</span> <span class="k">BY</span> <span class="n">cmt_nwsid</span><span class="p">,</span> <span class="n">cmt_auteur</span> <span class="k">WITH</span> <span class="k">ROLLUP</span><span class="p">;</span>
</pre></div>
</td></tr></tbody></table></div><br>
<br>
<div class="centre"><img src="sql_fichiers/148096.png" alt="Problème: Comment différencier les vraies données contenant un NULL de celles générées par WITH ROLLUP ?"></div><br>
<br>
Comment faire dès lors ?<br>
<br>
La solution la plus simple consiste à utiliser ce qu'on appelle les 
sous-requêtes, que nous avons déjà rencontrées mais pas encore étudiées,
 nous ne le ferons pas encore maintenant. Je vous en parle juste pour 
pointer la solution à ce problème. La requête suivante fonctionnera:<br>
<br>
<span class="code">Code : SQL - <a href="#" class="select_code">Sélectionner</a></span><div class="code2 sql"><table class="syntaxtable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="syntax"><pre><span class="k">SELECT</span> <span class="n">cmt_nwsid</span><span class="p">,</span> <span class="n">cmt_auteur</span><span class="p">,</span> <span class="k">COUNT</span><span class="p">(</span><span class="o">*</span><span class="p">)</span> <span class="k">AS</span> <span class="n">nb_cmts</span>
<span class="k">FROM</span> <span class="p">(</span><span class="k">SELECT</span> <span class="n">cmt_nwsid</span><span class="p">,</span> <span class="n">COALESCE</span><span class="p">(</span><span class="n">cmt_auteur</span><span class="p">,</span> <span class="s1">'inconnu'</span><span class="p">)</span> <span class="k">AS</span> <span class="n">cmt_auteur</span> <span class="k">FROM</span> <span class="n">t_commentaire</span><span class="p">)</span> <span class="n">t</span>
<span class="k">GROUP</span> <span class="k">BY</span> <span class="n">cmt_nwsid</span><span class="p">,</span> <span class="n">cmt_auteur</span> <span class="k">WITH</span> <span class="k">ROLLUP</span><span class="p">;</span>
</pre></div>
</td></tr></tbody></table></div><br>
<br>
<div class="centre"><img src="sql_fichiers/148097.png" alt="Il faut qu'à la base les données ne contiennent pas de NULL, on transforme donc les données au préalable dans une sous-requête"></div><br>
<br>
<h3>ONLY_FULL_GROUP_BY</h3><br>
<br>
Je ne sais pas si vous vous en rappelez, mais je vous avais parlé plus 
tôt du fait qu'il ne fallait jamais sélectionner une colonne qui n'était
 pas reprise dans le GROUP BY, que cela n'avait absolument aucun sens.<br>
<br>
Rassurez-vous, je ne vais pas vous dire maintenant que je vous ai encore menti <img src="sql_fichiers/langue.png" alt=":p" class="smilies"><br>
<br>
Il faut juste savoir que, même si ça n'a pas de sens, MySQL autorise la 
récupération d'une colonne non reprise dans le GROUP BY, et prend alors 
la valeur d'une des lignes présentes dans le groupe. A priori la 
première, mais on n'en a pas la certitude ...<br>
<br>
<div class="rmq question">Oui tu nous as déjà dit tout ça ... Et alors ? On sait bien qu'il ne faut pas faire ça !</div><br>
<br>
Oui vous le savez bien, mais parfois on sait que certaines valeurs sont 
uniques dans notre groupe, par exemple, imaginez qu'on fasse un GROUP BY
 sur la table t_news selon la colonne nws_id (Oui c'est totallement 
stupide, ça nous donnera des groupes d'une ligne à chaque fois, 
n'empêche que dans chaque groupe, on n'a qu'un seul auteur, un seul 
nombre de vues, etc ...).<br>
<br>
Dans ce cas précis, est-il vraiment mal de vouloir récupérer une autre colonne que nws_id ?<br>
<br>
Autre exemple: Dans notre table t_news, chaque auteur n'a posté de news 
que dans une seule catégorie. Dès lors, si on veut récupérer les auteurs
 et la catégorie dans laquelle ils ont posté, est-il bien nécessaire de 
mettre nws_catid dans le GROUP BY ?<br>
<br>
Regardez les deux requêtes suivantes, la quelle est la plus pratique 
selon vous ? Et l'une d'elle est-elle plus illogique que l'autre ?<br>
<br>
<span class="code">Code : SQL - <a href="#" class="select_code">Sélectionner</a></span><div class="code2 sql"><table class="syntaxtable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="syntax"><pre><span class="k">SELECT</span> <span class="n">nws_catid</span><span class="p">,</span> <span class="n">nws_auteur</span> <span class="k">FROM</span> <span class="n">t_news</span> <span class="k">GROUP</span> <span class="k">BY</span> <span class="n">nws_auteur</span><span class="p">;</span>
<span class="k">SELECT</span> <span class="n">nws_catid</span><span class="p">,</span> <span class="n">nws_auteur</span> <span class="k">FROM</span> <span class="n">t_news</span> <span class="k">GROUP</span> <span class="k">BY</span> <span class="n">nws_catid</span><span class="p">,</span> <span class="n">nws_auteur</span><span class="p">;</span>
</pre></div>
</td></tr></tbody></table></div><br>
<br>
Les deux requêtes renvoient évidemment exactement le même résultat, vu 
que MySQL n'a pas de choix plus ou moins arbitraire à faire. Nous 
verrons lors du chapitre sur les jointures que grouper selon un id 
unique n'est pas si farfelu que ça en a l'air ... Ca arrive même 
relativement fréquemment.<br>
<br>
Pourtant, si vous exécutez la première requête sur un autre SGBDR, il y a
 fort à parier qu'il ne l'exécutera pas et vous renverra une erreur. 
Comment dès lors éviter ce genre de "bêtise" ? A savoir demander à MySQL
 de ne pas exécuter une requête si elle tente de récupérer des colonnes 
non présentes dans la clause GROUP BY.<br>
<br>
C'est possible, et assez facilement en modifiant une <strong>variable de configuration</strong> de MySQL. Voilà comment il faut faire:<br>
<br>
<span class="code">Code : SQL - <a href="#" class="select_code">Sélectionner</a></span><div class="code2 sql"><table class="syntaxtable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="syntax"><pre><span class="k">SET</span> <span class="o">@@</span><span class="n">sql_mode</span> <span class="o">=</span> <span class="n">CONCAT_WS</span><span class="p">(</span><span class="s1">','</span><span class="p">,</span> <span class="o">@@</span><span class="n">sql_mode</span><span class="p">,</span> <span class="s1">'ONLY_FULL_GROUP_BY'</span><span class="p">);</span>
</pre></div>
</td></tr></tbody></table></div><br>
<br>
Si vous vous rappelez de la fonction CONCAT_WS et du chapitre sur les 
variables utilisateur, alors vous aurez compris que la commande 
ci-dessus affecte la variable @@sql_mode en lui ajoutant 
ONLY_FULL_GROUP_BY avec une virgule si nécessaire.<br>
<br>
@@sql_mode supporte beaucoup d'autres valeurs, cette variable sert en fait à déterminer comment MySQL réagit.<br>
<br>
Revenons à notre ONLY_FULL_GROUP_BY. Vous l'avez compris, il sert à 
empêcher toute forme de "comportement à risque" au niveau du GROUP BY.<br>
<br>
Ainsi, en activant cette option et en retestant les deux requêtes du dessus, on obtient:<br>
<br>
<span class="code">Code : SQL - <a href="#" class="select_code">Sélectionner</a></span><div class="code2 sql"><table class="syntaxtable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="syntax"><pre><span class="k">SELECT</span> <span class="n">nws_catid</span><span class="p">,</span> <span class="n">nws_auteur</span> <span class="k">FROM</span> <span class="n">t_news</span> <span class="k">GROUP</span> <span class="k">BY</span> <span class="n">nws_auteur</span><span class="p">;</span>
<span class="k">SET</span> <span class="o">@@</span><span class="n">sql_mode</span> <span class="o">=</span> <span class="n">CONCAT_WS</span><span class="p">(</span><span class="s1">','</span><span class="p">,</span> <span class="o">@@</span><span class="n">sql_mode</span><span class="p">,</span> <span class="s1">'ONLY_FULL_GROUP_BY'</span><span class="p">);</span>
<span class="k">SELECT</span> <span class="n">nws_catid</span><span class="p">,</span> <span class="n">nws_auteur</span> <span class="k">FROM</span> <span class="n">t_news</span> <span class="k">GROUP</span> <span class="k">BY</span> <span class="n">nws_auteur</span><span class="p">;</span>
<span class="k">SELECT</span> <span class="n">nws_catid</span><span class="p">,</span> <span class="n">nws_auteur</span> <span class="k">FROM</span> <span class="n">t_news</span> <span class="k">GROUP</span> <span class="k">BY</span> <span class="n">nws_auteur</span><span class="p">,</span> <span class="n">nws_catid</span><span class="p">;</span>
</pre></div>
</td></tr></tbody></table></div><br>
<br>
<div class="centre"><img src="sql_fichiers/148118.png" alt="Eviter les erreurs avec ONLY_FULL_GROUP_BY"></div><br>
<br>
Si vous voulez en savoir plus sur la variable @@sql_mode, je vous laisse
 le lien vers la doc en ce qui la concerne, en français en plus <img src="sql_fichiers/hihi.png" alt="^^" class="smilies"> <a href="http://dev.mysql.com/doc/refman/5.0/fr/server-sql-mode.html">Par ici</a>
		</div>
		<hr>
		
	<div id="chap_conclusion">
	Je suis au regret de vous annoncer qu'il est probable que GROUP BY vous
 réserve encore quelques surprises ... Néanmoins vous en savez assez 
pour vous tirer d'affaire dans la plupart des problèmes que cette clause
 pourrait vous opposer <img src="sql_fichiers/smile.png" alt=":)" class="smilies"><br>
<br>
GROUP BY n'est pas forcément simple à appréhender, mais une fois que 
vous avez compris le truc, vous ne devriez plus avoir de soucis de ce 
côté là <img src="sql_fichiers/langue.png" alt=":p" class="smilies"><br>
<br>
A la prochaine !
	</div>
	
<div>
<br>

</div>


<hr>

<div id="btuto_conclusion">
	
</div>


<div class="infobox cadre_auteur_date" id="tuto_details">
  <form action="tutoriel-54-9866.html" method="post">
    <div class="dnone"><input value="f53c5344a072a968120ed40ad0c32357aa206891" name="challenge" type="hidden"></div>

    <h3 class="special">Informations sur le tutoriel</h3>
   
    <div class="conteneur_infobox">
	<a href="#onglets_tutos">Retour en haut <img src="sql_fichiers/fleche_haut.png" alt="Retour en haut" title="Retour en haut"></a>
	<br>
   	<br>			
<strong>Créé</strong> : Le 12/04/2006 à 00:35:08<br>
<strong>Modifié</strong> : Le 29/06/2009 à 11:32:48<br>

<strong>Avancement</strong> : 0%<br>

<strong>Licence</strong> : Copie non autorisée<br><br>


<a href="http://www.siteduzero.com/tutoriel-50-9866-59052-pour-aller-plus-loin.html#r59052">8 commentaires</a><br>

  <a href="http://www.siteduzero.com/tutoriel-3-9866-pour-aller-plus-loin.html">Revenir au sommaire du tutoriel</a><br>


    </div>
  </form>
</div>

<div class="clearer"></div>

                </div>
            </div>

            <div id="footer">
                <ul>
                    <li>
                        Le Site du Zéro
                        <ul>
                            <li><a href="http://www.siteduzero.com/plan.html">Plan du site</a></li>
                            <li><a href="http://www.siteduzero.com/membres-304.html">L'équipe</a></li>
                            <li><a href="http://www.siteduzero.com/mentions.html">Mentions légales</a></li>
                            <li><a href="http://www.siteduzero.com/accessibilite.html" accesskey="0">Accessibilité</a></li>
                            <li><a href="http://www.siteduzero.com/livreor.html">Livre d'or</a></li>
                            <li><a href="http://suggestions.siteduzero.com/">Suggestions <sup style="color: green;">Nouveau !</sup></a></li>
                        </ul>
                    </li>
                    <li>
                        Simple IT
                        <ul>
                            <li><a href="http://www.siteduzero.com/simpleit.html">Qui sommes-nous ? </a></li>
                            
                                <li><a href="http://www.siteduzero.com/formations.html">Formation professionnelle</a></li>
                                <li><a href="http://www.siteduzero.com/recrutement.html">Recrutement</a></li>
                            
                            <li><a href="http://www.simple-it.fr/blog/">Notre blog</a></li>
                        </ul>
                    </li>
                    <li>
                        Contacts
                        <ul>
                            <li><a href="http://www.siteduzero.com/publicite-440.html">Espace annonceurs</a></li>
                            <li><a href="http://www.siteduzero.com/presse.html">Espace presse</a></li>
                            <li><strong><a href="http://www.siteduzero.com/contact.html" accesskey="7">Nous contacter</a></strong></li>
                            <li><a href="http://www.siteduzero.com/promouvoir.html">Promouvoir le site</a></li>
                            <li><a href="http://suggestions.siteduzero.com/forums/97879-rapports-de-bugs">Signaler un bug</a></li>
                        </ul>
                    </li>
                    
                        <li>
                            Partenaires 
                            <ul>
                                <li><a href="http://www.planethoster.net/Site-du-Zero">Hébergement web</a></li>
                                <li><a href="http://www.zcorrecteurs.fr/">Correction tutoriels</a></li>
                            </ul>
                        </li>
                    
                    <li>
                        Suivez-nous
                        <ul class="dernier">
                            <li><a href="http://www.siteduzero.com/Templates/xml/news_fr.xml"><img src="sql_fichiers/rss_mini.png" alt="Flux RSS"> Flux RSS News</a>, <a href="http://www.siteduzero.com/Templates/xml/tutoriels_fr.xml">Cours</a>, <a href="http://www.simple-it.fr/blog/index.php?feed/atom">Blog</a></li>
                            <li><a href="http://www.siteduzero.com/twitter.html"><img src="sql_fichiers/twitter_mini.png" alt="Twitter"> Twitter</a></li>
                            <li><a href="http://www.facebook.com/siteduzero"><img src="sql_fichiers/fb_mini.png" alt="Facebook"> Facebook</a></li>
                        </ul>
                    </li>
                </ul>

                
            </div>

            


            
            <script type="text/javascript" src="sql_fichiers/scripts_lang.js"></script>
            <script type="text/javascript" src="sql_fichiers/scripts.js"></script>
            <script type="text/javascript" src="sql_fichiers/lib.js"></script>

            
                <script type="text/javascript">
    var addthis_config = {  ui_508_compliant: true,
                            ui_cobrand: "Site du Zéro",
                            ui_header_color: "#ffffff",
                            ui_header_background: "#7AB7FC",
                            username: "simpleit",
                            services_exclude: 'print,pdfonline,email,twitter,facebook,myspace,googlebuzz,blogger,buzz,live',
                            data_track_clickback: true  };
                        
    var addthis_share = {templates: { twitter:'{{title}} {{url}} #SdZ' } };

    $('div.slidable').hide();
    $('a.expend').show();
    $('a.expend').removeAttr('style');
    
    $('.expend').click(function(e)
    {
        e.preventDefault();
        $(this).hide('fast');
        $(this).next('div.slidable').slideToggle('fast');
    });
   
</script>
<script type="text/javascript" src="sql_fichiers/addthis_widget.js"></script>
            

            <div class="droite printnone">
                <a href="http://www.xiti.com/xiti.asp?s=129196" title="WebAnalytics">
                    <script type="text/javascript">
                        <!--
                        Xt_param = 's=129196&p=%2Ftutoriel-3-9866-pour-aller-plus-loin.html%3Fall%3D1';
                        try {Xt_r = top.document.referrer;}
                        catch(e) {Xt_r = document.referrer; }
                        Xt_h = new Date();
                        Xt_i = '<img width="80" height="15" border="0" ';
                        Xt_i += 'src="http://logv23.xiti.com/g.xiti?'+Xt_param;
                        Xt_i += '&hl='+Xt_h.getHours()+'x'+Xt_h.getMinutes()+'x'+Xt_h.getSeconds();
                        if(parseFloat(navigator.appVersion)>=4)
                        {
                        Xt_s=screen;Xt_i+='&r='+Xt_s.width+'x'+Xt_s.height+'x'+Xt_s.pixelDepth+'x'+Xt_s.colorDepth;
                        }
                        document.write(Xt_i+'&ref='+Xt_r.replace(/[<>"]/g, '').replace(/&/g, '$')+'">');
                        //-->
                    </script><img src="sql_fichiers/g.gif" height="15" width="80" border="0">
                    <object>
                        <noscript>
                            <p><img width="80" height="15" src="http://logv23.xiti.com/g.xiti?s=129196&amp;p=&amp;" alt="WebAnalytics" /></p>
                        </noscript>
                    </object>
                </a>
                <script type="text/javascript">
                    var _gaq = _gaq || [];
                    _gaq.push(['_setAccount', 'UA-19807070-2']);
                    _gaq.push(['_trackPageview']);

                    (function() {
                    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
                    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
                    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
                    })();
                </script>
            </div>

            <!-- /#1 691/#0.8123/#0.7538/# -->
	
    <div aria-labelledby="ui-dialog-title-dialog_bientot" role="dialog" tabindex="-1" class="ui-dialog ui-widget ui-widget-content ui-corner-all " style="display: none; position: absolute; overflow: hidden; z-index: 1000; outline: 0px none;"><div style="-moz-user-select: none;" unselectable="on" class="ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix"><span style="-moz-user-select: none;" unselectable="on" id="ui-dialog-title-dialog_bientot" class="ui-dialog-title">Bientôt sur le Site du Zéro.</span><a style="-moz-user-select: none;" unselectable="on" role="button" class="ui-dialog-titlebar-close ui-corner-all" href="#"><span style="-moz-user-select: none;" unselectable="on" class="ui-icon ui-icon-closethick">close</span></a></div><div class="ui-dialog-content ui-widget-content" id="dialog_bientot" style="">
                <p>Le Site du Zéro vous proposera bientôt de nouveaux cours partant de Zéro dans d'autres domaines que l'informatique ! </p>
                 <a style="color: rgb(38, 119, 201); text-decoration: none;" href="http://www.siteduzero.com/tutoriel-1-433-sciences.html">Découvrir les cours scientifiques</a>
            </div><div class="ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"><button class="ui-state-default ui-corner-all" type="button">Ok</button></div></div><div style="display: none;" id="tooltip"><h3></h3><div class="body"></div><div class="url"></div></div></body></html>